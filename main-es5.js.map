{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/_classes/async-data-source.ts","webpack:///src/app/_classes/async-processor.ts","webpack:///src/app/_classes/history.ts","webpack:///src/app/_classes/manager.ts","webpack:///src/app/_classes/utility.ts","webpack:///src/app/_common/action-icon/action-icon.component.ts","webpack:///src/app/_common/autofocus/autofocus.directive.ts","webpack:///src/app/_common/blank/blank.component.ts","webpack:///src/app/_common/copy-box/copy-box.component.ts","webpack:///src/app/_common/copy-box/copy-box.component.html","webpack:///src/app/_common/download/download.component.ts","webpack:///src/app/_common/form-error/form-error.component.ts","webpack:///src/app/_common/guarded-action/guarded-action.component.ts","webpack:///src/app/_common/guarded-action/guarded-action.component.html","webpack:///src/app/_common/icon/icon.component.ts","webpack:///src/app/_common/inline-svg/inline-svg.directive.ts","webpack:///src/app/_common/inline-svg/svg-cache.service.ts","webpack:///src/app/_common/loading-indicator/loading-indicator.component.ts","webpack:///src/app/_common/popover/popover.component.ts","webpack:///src/app/_common/redirect/redirect.component.ts","webpack:///src/app/_common/safe-html/safe-html.pipe.ts","webpack:///src/app/_common/selection-box/selection-box.component.ts","webpack:///src/app/_common/selection-box/selection-box.component.html","webpack:///src/app/_common/set-title/set-title.directive.ts","webpack:///src/app/_common/third-parties/facebook.ts","webpack:///src/app/_common/third-parties/google.ts","webpack:///src/app/_common/video-player/video-player.component.ts","webpack:///src/app/_services/app/app.api.ts","webpack:///src/app/_services/app/app.service.ts","webpack:///src/app/_services/app/managers/feed.manager.ts","webpack:///src/app/_services/app/managers/organization.manager.ts","webpack:///src/app/_services/app/managers/series.manager.ts","webpack:///src/app/_services/app/managers/speaker.manager.ts","webpack:///src/app/_services/app/managers/topic.manager.ts","webpack:///src/app/_services/app/managers/user.manager.ts","webpack:///src/app/_services/auth-guard.ts","webpack:///src/app/_services/auth.service.ts","webpack:///src/app/_services/clipboard.service.ts","webpack:///src/app/_services/download.service.ts","webpack:///src/app/_services/layout.service.ts","webpack:///src/app/_services/loading-guard.ts","webpack:///src/app/_services/state.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/base/base.component.ts","webpack:///src/app/base/base.component.html","webpack:///src/app/feed/feed-detail/feed-detail.component.ts","webpack:///src/app/feed/feed-detail/feed-detail.component.html","webpack:///src/app/feed/feed-list/feed-list.component.ts","webpack:///src/app/feed/feed-list/feed-list.component.html","webpack:///src/app/header/header.component.ts","webpack:///src/app/header/header.component.html","webpack:///src/app/media/media-detail/media-detail.component.ts","webpack:///src/app/media/media-detail/media-detail.component.html","webpack:///src/app/media/media-form/media-form.component.ts","webpack:///src/app/media/media-form/media-form.component.html","webpack:///src/app/media/media-list/media-list.component.ts","webpack:///src/app/media/media-list/media-list.component.html","webpack:///src/app/media/media-upload/media-upload.component.ts","webpack:///src/app/media/media-upload/media-upload.component.html","webpack:///src/app/media/reusable-media-list/reusable-media-list.component.ts","webpack:///src/app/media/reusable-media-list/reusable-media-list.component.html","webpack:///src/app/organization/organization-detail/organization-detail.component.ts","webpack:///src/app/organization/organization-detail/organization-detail.component.html","webpack:///src/app/routing.module.ts","webpack:///src/app/series/series-detail/series-detail.component.ts","webpack:///src/app/series/series-detail/series-detail.component.html","webpack:///src/app/series/series-list/series-list.component.ts","webpack:///src/app/series/series-list/series-list.component.html","webpack:///src/app/settings/settings.component.ts","webpack:///src/app/settings/settings.component.html","webpack:///src/app/sidebar/sidebar.component.ts","webpack:///src/app/sidebar/sidebar.component.html","webpack:///src/app/sign-in/sign-in/sign-in.component.ts","webpack:///src/app/sign-in/sign-in/sign-in.component.html","webpack:///src/app/speaker/speaker-detail/speaker-detail.component.ts","webpack:///src/app/speaker/speaker-detail/speaker-detail.component.html","webpack:///src/app/speaker/speaker-list/speaker-list.component.ts","webpack:///src/app/speaker/speaker-list/speaker-list.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AsyncDataSource","search","callback","undefined","processor","maxRetryCount","RETRY_NO_LIMIT","process","key","progress","data","result","SUCCESS","FAILED","processKeys","cancel","AsyncProcessorResult","AsyncProcessor","enabled","working","retryDelay","complete","processing","pending","retryCount","pointer","next","length","pipe","subscribe","completion","error","success","CANCELED","FAILED_WILL_RETRY","setTimeout","HISTORY_ENTRY_ID","HistoryEntry","url","variables","History","router","history","index","entrySubject","changeEmitted$","asObservable","events","event","console","log","navigatedTo","_instance","previous","indexOf","entry","push","canGoBack","navigateByUrl","currentHistoryEntry","canGoForward","NOT_ENABLED","Manager","refreshInterval","lastRefreshTime","update$","force","Date","now","currentSubject","nextSubject","source","fetchData","setData","refresh","Utility","ArraysAreEqual","a","b","A","B","find","o","RemoveDuplicatesFromArray","array","disallowed","duplicates","forEach","filter","StatusToText","status","StatusToClass","StatusToIcon","ActionIconComponent","active","disabled","selector","template","styleUrls","AutofocusDirective","el","_autofocus","nativeElement","focus","condition","BlankComponent","CopyBoxComponent","clipboard","notifications","write","text","timeOut","onCopy","templateUrl","DownloadComponent","download","downloadComponent","styles","static","FormErrorComponent","checkDirty","messages","control","errors","touched","dirty","Object","map","GuardedActionComponent","host","question","additional","action","align","confirmed","$event","popover","target","toggle","actionButton","IconComponent","size","svgResourceUrl","svg","changes","InlineSVGDirective","_document","_el","_svgCache","replaceContents","prepend","cacheSVG","forceEvalStyles","evalScripts","onSVGInserted","onSVGFailed","_supportsSVG","_ranScripts","_insertSVG","_checkSVGSupport","_fail","inlineSVG","charAt","elSvg","createElementNS","elSvgUse","setAttributeNS","appendChild","_insertEl","emit","absUrl","_getAbsoluteUrl","_absUrl","getSVG","removeSVGAttributes","_removeAttributes","_evalScripts","styleTags","querySelectorAll","Array","prototype","call","tag","textContent","err","attrs","innerEls","getElementsByTagName","i","elAttrs","attributes","j","name","toLowerCase","removeAttribute","innerHTML","insertBefore","firstChild","scripts","scriptsToEval","script","scriptType","getAttribute","innerText","removeChild","Function","window","SVGRect","msg","fallbackImgUrl","elImg","document","createElement","src","providers","SVGCache","http","_cache","Map","_inProgressReqs","cache","has","_cloneSVG","get","responseType","delete","svgText","svgEl","_svgElementFromString","set","str","div","querySelector","cloneNode","LoadingIndicatorComponent","_VisiblePopoverCount","VisiblePopoverCount","HideAllPopovers","dispatchEvent","CustomEvent","PopoverComponent","renderer","xOffset","yOffset","onClose","visible$","subscriptions","unsubscribe","visible","Math","max","setStyle","content","parts","type","element","myOverride","atOverride","xOffsetOverride","yOffsetOverride","elementBounds","getBoundingClientRect","elementParts","my","split","elementOffsetX","partsContain","width","elementOffsetY","height","targetBounds","targetParts","at","targetX","left","targetY","top","suppressHideAllPopovers","computePosition","x","y","String","Number","needToReposition","offsetWidth","innerWidth","replace","offsetHeight","innerHeight","ownerDocument","contains","v","hide","show","value","RedirectComponent","navigate","SafeHtmlPipe","sanitizer","bypassSecurityTrustHtml","SafeResourceUrlPipe","bypassSecurityTrustResourceUrl","SelectionBoxComponent","items","placeholder","filtered","focused","selectedItems","values","updateFilteredItems","onChange","onTouched","focusedItem","trim","display","item","input","blur","provide","useExisting","multi","onFocusChange","preventDefault","onArrowDown","onArrowUp","onSelect","SetTitleDirective","_title","updateTitle","setTitle","title","NETWORK","FACEBOOK_AUTH_URL","FACEBOOK_API_URL","OAUTH_CLIENT_ID","REDIRECT_URI","clientUrl","SCOPES","PendingSubject","request","Facebook","app","loggedIn$","getAuthCode","organization","sharedInstance","API","getOrganizationAccessToken","account","credentials","params","URLSearchParams","join","toString","ref","open","interval","setInterval","href","location","close","closed","clearInterval","token","refreshOrganizationAccessToken","method","path","params_","headers_","headers","accessToken","isArray","getTime","toISOString","subject","auth","body","observe","response","fail","shouldAttemptRequestAgainAfterRefreshing","json","message","processRefresh","userLogout","completeRefresh","refreshToken","userRefresh","GOOGLE_AUTH_URL","GOOGLE_API_URL","Google","VideoPlayerComponent","AppAPI","GET","App","User","fromJSON","users","user","PUT","getCurrentUser","organizations","Organization","SubscriptionInfo","plan","DELETE","SocialAccount","POST","network","redirect","getCurrentOrganization","image","UPLOAD","media","Media","getMedia","youtubeStatus","vimeoStatus","audioStatus","series","seriesId","organizationId","captions","file","contentType","MediaUploadPolicy","getUploadPolicyForMedia","policy","form","FormData","append","accessKeyId","acl","signature","xhr","XMLHttpRequest","onreadystatechange","readyState","JSON","parse","upload","onprogress","loaded","total","send","Series","getSeries","speakers","Speaker","speaker","getSpeaker","feeds","Feed","feed","getFeed","ids","topics","Topic","assign","date","adjustStatusForThirdParties","audio","vimeo","youtube","mediaIds","StripeAccount","subscription","StripeSubscription","card","StripeCard","plans","StripePlan","AppService","hashids","allManagers","userManager","organizationManager","seriesManager","speakerManager","feedManager","topicManager","manager","reset","FeedManager","api","getAllFeeds","getMediaIdsForFeed","OrganizationManager","SeriesManager","getAllSeries","SpeakerManager","getAllSpeakers","TopicManager","getAllTopics","USER_KEY","UserManager","_user","readUserFromLocalStorage","writeUserToLocalStorage","localStorage","getItem","setItem","stringify","removeItem","AuthGuard","state","route","updateLoggedInState","OAUTH_CLIENT_SECRET","OAUTH_CLIENT_BASE_64","btoa","AuthService","CREDENTIALS_KEY","username","password","oauthToken","email","getClientCredentialsHeaders","encodeURIComponent","access_token","refresh_token","apiUrl","grant_type","setRequestHeader","ClipboardService","select","execCommand","DownloadService","anchor","click","LayoutService","sidebarOpen","toolbarOpen","toolbarWidth","storedToolbarWidth","shortcutsVisible","TOOLBAR_WIDTH_KEY","parseInt","LoadingGuard","loading$","getValue","StateService","angulartics","google","initialRouteLoaded","dataSource","ignoreDataSourceUpdate","settings","developerMode","production","loggedIn","redirecting","shutdown","usernameOrEmail","userLogin","updateDataSource","updateVisibleView","noauth","routeToLoadUponAuthenticating","queryParams","start","logout","stop","AppComponent","loading","notificationsOptions","position","pauseOnHover","Stripe","setPublishableKey","stripeApiKey","clipboardTarget","useFactory","getErrorHandler","AppModule","library","addIcons","forRoot","declarations","imports","bootstrap","BaseComponent","layout","FeedDetailComponent","saving","deleteDialogVisible","deleting","addControl","snapshot","hash","encode","imageUrl","valueOf","getAllMedia","responses","controls","setValue","subtitle","description","copyright","category","keywords","feedUrl","staticUrl","updateFeed","files","uploading","uploadImageForFeed","deleteFeed","onDelete","FeedListComponent","locale","entries","sort","ascending","SortOptions","creating","updateEntries","concat","slice","comparator","createFeed","onLoadMoreRows","onAddFeed","onSearchUpdate","onSort","HeaderComponent","onViewSettings","onLogOut","MediaDetailComponent","captionUrl","videoPlayerUrl","playerUrl","videoStreamUrl","videoFileDefaultUrl","videoFileSourceUrl","audioFileUrl","deleteMedia","uploadCaptionFileForMedia","MediaFormComponent","mediaChange","seriesItems","speakerItems","includeItems","topicItems","lastKnownIncludeIds","selectingSeries","selectingOrganization","required","topicsByCategory","header","flat","updateLastKnownIncludeIds","seriesIds","speakerIds","includeIds","topicIds","seriesImageUrl","thumbnailUrl","organizationImageUrl","hidden","unshift","includes","willIncludeInYouTube","didIncludeInYouTube","youtubeId","youtubeMetadataUpdate","before","after","remove","add","updates","removeMediaIdFromFeed","addMediaIdToFeed","updateMedia","uploadImageForMedia","setMediaImageToSeries","setMediaImageToOrganization","onSave","onImageSelected","MediaListComponent","onAddMedia","MediaUploadComponent","acceptedFileTypes","shouldShowMediaForm","mediaId","addedFiles","createMedia","uploadFileForMedia","updateMediaStatus","ReusableMediaListComponent","seriesById","speakerById","fullName","dateString","timeString","statusString","statusColor","OrganizationDetailComponent","updateOrganization","uploadImageForOrganization","routes","component","canActivate","canActivateChild","children","redirectTo","RoutingModule","useHash","SeriesDetailComponent","updateSeries","uploadImageForSeries","deleteSeries","SeriesListComponent","createSeries","onAddSeries","SettingsComponent","savingUserForm","passwordDialogVisible","savingPasswordForm","loadingYoutube","loadingFacebook","savingCardForm","cancelDialogVisible","canceling","userForm","resetPasswordForm","getOrganizationSocialAccounts","accounts","facebook","cardForm","resetCardForm","getOrganizationSubscriptionInfo","info","planId","updateUser","passwordForm","minLength","confirm","setOrganizationSocialAccount","deleteOrganizationSocialAccount","number","month","year","cvc","zip","createToken","updateOrganizationPaymentInfo","deleteOrganizationPaymentInfo","cardNumberPlaceholder","last4","cardMonthPlaceholder","exp_month","cardYearPlaceholder","exp_year","substring","cardCvcPlaceholder","cardZipPlaceholder","address_zip","onSaveUserForm","onShowPasswordDialog","onSavePasswordForm","onUpdatePaymentInfo","onCancelSubscription","SidebarComponent","SignInComponent","login","userForgotPassword","SpeakerDetailComponent","updateSpeaker","uploadImageForSpeaker","deleteSpeaker","SpeakerListComponent","createSpeaker","onAddSpeaker","environment","childNodes","nodeName","bootstrapModule","catch"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { AsyncProcessor } from './async-processor';\nimport { AsyncProcessorResult } from './async-processor';\nimport { Observable } from 'rxjs';\n\ntype SearchFunction<T> = () => Observable<T>;\ntype CallbackFunction<T> = (data: T) => void;\n\nexport class AsyncDataSource<T> {\n    public callback: CallbackFunction<T> = undefined;\n    public processor = new AsyncProcessor();\n\n    constructor(private search: SearchFunction<T>) {\n        this.processor.maxRetryCount = AsyncProcessor.RETRY_NO_LIMIT;\n        this.processor.process = (key) => { return search(); };\n        this.processor.progress = (key, data, result) => {\n            if (!this.callback) { return; }\n            if (result === AsyncProcessorResult.SUCCESS) {\n                this.callback(data);\n            } else if (result === AsyncProcessorResult.FAILED) {\n                // this will only be called if the source's creator sets the\n                // maxRetryCount to some finite number, at which point, they are\n                // expecting to get an 'undefined' result on failure.\n                this.callback(undefined);\n            }\n        };\n    }\n\n    public refresh() { this.processor.processKeys([\"\"]); }\n    public cancel() { this.processor.cancel(); }\n}\n","import { first } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\nexport enum AsyncProcessorResult { SUCCESS, FAILED, FAILED_WILL_RETRY, CANCELED }\n\ntype ProcessFunction = (key: any) => Observable<any>;\ntype ProgressFunction = (key: any, data: any, result: AsyncProcessorResult) => void;\ntype CompleteFunction = (result: AsyncProcessorResult) => void;\n\nexport class AsyncProcessor {\n    public static RETRY_NO_LIMIT: number = -1;\n\n    public enabled: boolean = true;\n    public working: boolean = false;\n    public maxRetryCount: number = 0;\n    public retryDelay: number = 5.0; // seconds\n\n    public process: ProcessFunction = undefined;\n    public progress: ProgressFunction = undefined;\n    public complete: CompleteFunction = undefined;\n\n    private processing: any[] = undefined;\n    private pending: any[] = undefined;\n    private retryCount: number = 0;\n    private pointer: number = 0;\n    private result: AsyncProcessorResult = AsyncProcessorResult.SUCCESS;\n\n    public processKeys(keys: any[]) {\n        if (keys === undefined || !this.enabled) { return; }\n\n        this.pending = keys;\n        if (this.processing !== undefined) { return; }\n\n        this.working = true;\n        this.processing = this.pending;\n        this.pending = undefined;\n\n        this.next();\n    }\n\n    private next() {\n        if (this.processing.length == 0 || this.processing.length <= this.pointer) {\n            let result = this.result;\n            this.result = AsyncProcessorResult.SUCCESS;\n            this.pointer = 0;\n            this.processing = undefined;\n            this.working = false;\n\n            if (this.complete) { this.complete(result); }\n            this.processKeys(this.pending);\n\n            return;\n        }\n\n        if (this.process) {\n            this.process(this.processing[this.pointer]).pipe(first()).subscribe(result => {\n                this.completion(result, true);\n            }, error => {\n                this.completion(undefined, false);\n            });\n        } else {\n            this.completion(undefined, true);\n        }\n    }\n\n    private completion(data: any, success: boolean) {\n        if (this.result == AsyncProcessorResult.CANCELED) {\n            this.next();\n        } else if (success) {\n            if (this.progress) { this.progress(this.processing[this.pointer], data, AsyncProcessorResult.SUCCESS); }\n\n            this.retryCount = 0;\n            this.pointer++;\n            this.next();\n        } else if (this.maxRetryCount == AsyncProcessor.RETRY_NO_LIMIT || this.retryCount < this.maxRetryCount) {\n            if (this.progress) { this.progress(this.processing[this.pointer], undefined, AsyncProcessorResult.FAILED_WILL_RETRY); }\n\n            this.retryCount++;\n            setTimeout(() => { this.next(); }, this.retryDelay * 1000);\n        } else {\n            if (this.progress) { this.progress(this.processing[this.pointer], undefined, AsyncProcessorResult.FAILED); }\n\n            this.result = AsyncProcessorResult.FAILED;\n            this.retryCount = 0;\n            this.pointer++;\n            this.next();\n        }\n    }\n\n    public cancel() {\n        if (!this.processing || this.processing.length == 0) { return; }\n\n        this.processing = [];\n        this.result = AsyncProcessorResult.CANCELED;\n    }\n}\n","import { NavigationEnd, Router } from \"@angular/router\";\nimport { Subject } from \"rxjs\";\n\nlet HISTORY_ENTRY_ID = 0;\nexport class HistoryEntry {\n    public id: number;\n    public variables: { [key: string]: any } = {};\n\n    constructor(public url: string) {\n        this.id = HISTORY_ENTRY_ID++;\n    }\n}\n\nexport class History {\n    public static _instance: History;\n\n    public static sharedInstance(): History {\n        return History._instance;\n    }\n\n    private history: Array<HistoryEntry> = [];\n    private index: number = -1;\n\n    private entrySubject = new Subject<HistoryEntry>();\n    public changeEmitted$ = this.entrySubject.asObservable();\n\n    constructor(private router: Router) {\n        this.router.events.subscribe((event) => {\n            if (!(event instanceof NavigationEnd)) {\n                return;\n            }\n            console.log(\"Navigated To: \" + this.router.url);\n            this.navigatedTo(this.router.url);\n        });\n        History._instance = this;\n    }\n\n    private navigatedTo(url: string) {\n        let previous = this.history[this.index] && this.history[this.index].url;\n        if (previous === url || url.indexOf('sign-in') >= 0 || url.indexOf('forgot-password') >= 0) {\n            return;\n        }\n\n        this.index++;\n        this.history.length = this.index;\n        let entry = new HistoryEntry(url)\n        this.history.push(entry);\n        this.entrySubject.next(entry);\n    }\n\n    public get currentHistoryEntry(): HistoryEntry {\n        return this.index >= 0 ? this.history[this.index] : undefined;\n    }\n\n    public get historyEntries(): Array<HistoryEntry> {\n        return this.history;\n    }\n\n    public canGoBack(): boolean {\n        return this.index > 0;\n    }\n\n    public goBack() {\n        if (!this.canGoBack()) {\n            return;\n        }\n\n        this.index--;\n        if (this.history[this.index].url.indexOf('concept/external') > -1) {\n            this.index--;\n        }\n        this.router.navigateByUrl(this.history[this.index].url);\n        this.entrySubject.next(this.currentHistoryEntry);\n    }\n\n    public canGoForward(): boolean {\n        return this.index < (this.history.length - 1);\n    }\n\n    public goForward() {\n        if (!this.canGoForward()) {\n            return;\n        }\n\n        this.index++;\n        this.router.navigateByUrl(this.history[this.index].url);\n        this.entrySubject.next(this.currentHistoryEntry);\n    }\n\n    public shutdown() {\n        this.history = [];\n        this.index = -1;\n    }\n}\n","import { AsyncDataSource } from './async-data-source';\nimport { Observable } from 'rxjs';\nimport { of as ObservableOf } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nconst NOT_ENABLED = { id: 'not-enabled' };\n\nexport abstract class Manager {\n    public enabled: boolean = false;\n\n    public refreshInterval: number = 300000; // milliseconds\n    protected lastRefreshTime: number = 0;\n\n    public update$: Subject<void> = new Subject<void>();\n    private currentSubject: Subject<boolean>;\n    private nextSubject: Subject<boolean>;\n\n    private source: AsyncDataSource<void>;\n\n    public refresh(force: boolean = false): Observable<boolean> {\n        if (!this.enabled) { return ObservableOf(false); }\n\n        if (!force) {\n            if ((Date.now() - this.lastRefreshTime) < this.refreshInterval) { return ObservableOf(false); }\n            if (this.currentSubject) { return this.currentSubject; }\n        }\n\n        this.nextSubject = this.nextSubject || new Subject<boolean>();\n        if (this.currentSubject) { return this.nextSubject; }\n\n        this.currentSubject = this.nextSubject || new Subject<boolean>();\n        this.nextSubject = undefined;\n\n        this.source = new AsyncDataSource<any>(() => {\n            if (!this.enabled) { return ObservableOf(NOT_ENABLED); }\n            return this.fetchData();\n        });\n        this.source.callback = (data: any) => {\n            this.source.callback = undefined;\n            this.source = undefined;\n\n            if (data === NOT_ENABLED) {\n                this.currentSubject.error(data);\n                this.currentSubject = undefined;\n                return;\n            }\n\n            this.setData(data);\n            this.lastRefreshTime = Date.now();\n            this.currentSubject.next(true);\n            this.currentSubject.complete();\n            this.currentSubject = undefined;\n            this.update$.next();\n\n            if (this.nextSubject) { this.refresh(true); }\n        };\n        this.source.refresh();\n\n        return this.currentSubject;\n    }\n\n    public cancel() {\n        if (!this.source || !this.currentSubject) { return; }\n\n        this.source.callback = undefined;\n        this.source = undefined;\n\n        this.currentSubject.next(false);\n        this.currentSubject.complete();\n        this.currentSubject = undefined;\n\n        if (this.nextSubject) {\n            this.nextSubject.next(false);\n            this.nextSubject.complete();\n            this.nextSubject = undefined;\n        }\n    }\n\n    public reset() {\n        this.lastRefreshTime = 0;\n    }\n\n    protected abstract fetchData(): Observable<any>;\n    protected abstract setData(data: any);\n}\n","export module Utility {\n    export function ArraysAreEqual(a: Array<any>, b: Array<any>): boolean {\n        let A = a || [];\n        let B = b || [];\n        return A.length === B.length && !A.find((o, index) => o !== B[index]);\n    }\n\n    export function RemoveDuplicatesFromArray(array: Array<any>, disallowed: Array<any> = undefined) {\n        let duplicates = {};\n        if (disallowed) { disallowed.forEach(o => duplicates[o] = true); }\n        return array.filter(o => {\n            if (duplicates[o]) { return false; }\n            duplicates[o] = true;\n            return true;\n        });\n    }\n\n    export function StatusToText(status: number): string {\n        switch (status) {\n            case 0: return 'Uploading';\n            case 1: return 'Uploaded';\n            case 2: return 'Processing';\n            case 3: return 'Available';\n            case 4: return 'Error';\n            case 5: return 'Deleted By User';\n            case 6: return 'Deleted';\n            case -1: return 'Custom';\n            default: return 'Unknown';\n        }\n    }\n\n    export function StatusToClass(status: number): string {\n        switch (status) {\n            case 0: return 'media-status-default';\n            case 1: return 'media-status-info';\n            case 2: return 'media-status-info';\n            case 3: return 'media-status-success';\n            case 4: return 'media-status-error';\n            case 5: return 'media-status-error';\n            case 6: return 'media-status-error';\n            case -1: return 'media-status-success';\n            default: return 'media-status-default';\n        }\n    }\n\n    export function StatusToIcon(status: number): string {\n        switch (status) {\n            case 0: return 'exclamation-triangle';\n            case 1: return 'info-circle';\n            case 2: return 'info-circle';\n            case 3: return 'check-circle';\n            case 4: return 'exclamation-circle';\n            case 5: return 'exclamation-circle';\n            case 6: return 'exclamation-circle';\n            case -1: return 'check-circle';\n            default: return 'question-circle';\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-action-icon',\n    template: `\n        <div class=\"action-icon\" [attr.title]=\"title\" [class.active]=\"active\" [class.disabled]=\"disabled\">\n            <fa-icon [icon]=\"['fad', icon]\"></fa-icon>\n        </div>\n    `,\n    styleUrls: ['./action-icon.component.scss'],\n})\nexport class ActionIconComponent {\n    @Input()\n    public icon: string;\n\n    @Input()\n    public title: string;\n\n    @Input()\n    public active: boolean = false;\n\n    @Input()\n    public disabled: boolean = false;\n}\n","import { Directive, ElementRef, Input } from '@angular/core';\n\n@Directive({\n    selector: '[autofocus]'\n})\nexport class AutofocusDirective {\n    @Input()\n    public set autofocus(condition: boolean) {\n        this._autofocus = (condition !== false);\n    }\n\n    private _autofocus: boolean;\n\n    constructor(private el: ElementRef) { }\n\n    public ngOnInit() {\n        if (this._autofocus || typeof this._autofocus === \"undefined\") {\n            setTimeout(() => { this.el.nativeElement.focus(); });\n        }\n    }\n}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-blank',\n    template: ``,\n})\nexport class BlankComponent {\n}\n","import { Component, Input } from '@angular/core';\nimport { ClipboardService } from '@services/clipboard.service';\nimport { NotificationsService } from 'angular2-notifications';\n\n@Component({\n    selector: 'app-copy-box',\n    templateUrl: './copy-box.component.html',\n    styleUrls: ['./copy-box.component.scss']\n})\nexport class CopyBoxComponent {\n    @Input()\n    public text: string;\n\n    constructor(private clipboard: ClipboardService, private notifications: NotificationsService) { }\n\n    public onCopy() {\n        this.clipboard.write(this.text);\n        this.notifications.success('Success', 'Copied to clipboard.', { timeOut: 5000 });\n    }\n}\n","<div class=\"copy-box-container\">\n    <input type=\"text\" [ngModel]=\"text\" readonly />\n    <button class=\"button secondary\" (click)=\"onCopy()\">\n        <fa-icon [icon]=\"['fad', 'clipboard']\"></fa-icon>Copy\n    </button>\n</div>","import { Component } from '@angular/core';\nimport { ElementRef } from '@angular/core';\nimport { DownloadService } from '@services/download.service';\nimport { ViewChild } from '@angular/core';\n\n@Component({\n    selector: 'app-download',\n    template: `<a #anchor [href]=\"url\"></a>`,\n    styles: [`:host { visibility: hidden; }`]\n})\nexport class DownloadComponent {\n    public url: string = undefined;\n\n    @ViewChild('anchor', { static: true })\n    public anchor: ElementRef;\n\n    constructor(download: DownloadService) {\n        download.downloadComponent = this;\n    }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { AbstractControlDirective } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { Input } from '@angular/core';\n\n@Component({\n    selector: 'app-form-error',\n    template: `\n        <ul class=\"form-errors\" *ngIf=\"shouldShowErrors()\">\n            <li *ngFor=\"let error of errors()\">{{ error }}</li>\n        </ul>`,\n    styleUrls: ['./form-error.component.scss']\n})\nexport class FormErrorComponent {\n    @Input()\n    private control: AbstractControlDirective | AbstractControl;\n\n    @Input()\n    private checkDirty: boolean = false;\n\n    @Input()\n    private messages: { [key: string]: string } = {};\n\n    public shouldShowErrors(): boolean {\n        return this.control && this.control.errors && (this.control.touched || (this.checkDirty && this.control.dirty));\n    }\n\n    public errors(): Array<string> {\n        return Object.keys(this.control.errors)\n            .map(key => this.messages[key] || undefined)\n            .filter(text => text);\n    }\n}\n","import { Component, Input, HostListener, ViewChild, Output, EventEmitter, ElementRef } from '@angular/core';\nimport { PopoverComponent } from '@common/popover/popover.component';\n\n@Component({\n    selector: 'app-guarded-action',\n    templateUrl: './guarded-action.component.html',\n    styleUrls: ['./guarded-action.component.scss'],\n})\nexport class GuardedActionComponent {\n    @Input()\n    public question: string = '';\n\n    @Input()\n    public additional: Array<string> = [];\n\n    @Input()\n    public action: string = '';\n\n    @Input()\n    public align: string = 'left';\n\n    @Output()\n    public confirmed = new EventEmitter<void>();\n\n    @ViewChild('popover', { static: true })\n    public popover: PopoverComponent;\n\n    @ViewChild('actionButton', { static: true })\n    public actionButton: ElementRef;\n\n    constructor(private host: ElementRef) { }\n\n    @HostListener('click', ['$event'])\n    public onClick($event: MouseEvent) {\n        this.popover.target = this.host.nativeElement;\n        this.popover.toggle($event, true);\n        setTimeout(() => this.actionButton.nativeElement.focus());\n    }\n}\n","<ng-content></ng-content>\n\n<app-popover #popover my=\"top {{ align }}\" at=\"bottom {{ align }}\" [x-offset]=\"0\" [y-offset]=\"0\">\n    <div class=\"popover-section\">\n        <div class=\"popover-item\"><strong>{{ question }}</strong></div>\n    </div>\n    <div class=\"popover-section\" *ngFor=\"let text of additional\">\n        <div class=\"popover-item\">{{ text }}</div>\n    </div>\n    <div class=\"popover-section\">\n        <div class=\"popover-item\">\n            <button class=\"button secondary hollow small\">Cancel</button>\n            <button #actionButton class=\"button alert small\" (click)=\"confirmed.emit()\">{{ action }}</button>\n        </div>\n    </div>\n</app-popover>","import { Component, Input, OnInit, OnChanges } from '@angular/core';\n\n@Component({\n    selector: 'app-icon',\n    template: `\n        <div class=\"icon\" [attr.title]=\"title\" [style.width.px]=\"size\" [style.height.px]=\"size\">\n            <div class=\"svg\" [inlineSVG]=\"svgResourceUrl\" [style.height.px]=\"height || size\"></div>\n        </div>\n    `,\n    styleUrls: ['./icon.component.scss'],\n})\nexport class IconComponent implements OnInit, OnChanges {\n    @Input()\n    public svg: string;\n    public svgResourceUrl: string;\n\n    @Input()\n    public size: number = 28;\n\n    @Input()\n    public height: number;\n\n    @Input()\n    public title: string;\n\n    public ngOnInit() {\n        this.svgResourceUrl = `assets/svg/${this.svg}.svg`;\n    }\n\n    public ngOnChanges(changes: any) {\n        if (!changes.svg) { return; }\n        this.svgResourceUrl = `assets/svg/${this.svg}.svg`;\n    }\n}\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { DOCUMENT } from \"@angular/common\";\n\nimport { SVGCache } from './svg-cache.service';\n\n@Directive({\n  selector: '[inlineSVG]',\n  providers: [SVGCache]\n})\nexport class InlineSVGDirective implements OnInit, OnChanges {\n  @Input() inlineSVG: string;\n  @Input() replaceContents: boolean = true;\n  @Input() prepend: boolean = false;\n  @Input() cacheSVG: boolean = true;\n  @Input() removeSVGAttributes: Array<string>;\n  @Input() forceEvalStyles: boolean = false;\n  @Input() evalScripts: 'always' | 'once' | 'never' = 'always';\n  @Input() fallbackImgUrl: string;\n\n  @Output() onSVGInserted: EventEmitter<SVGElement> = new EventEmitter<SVGElement>();\n  @Output() onSVGFailed: EventEmitter<any> = new EventEmitter<any>();\n\n  /** @internal */\n  private _absUrl: string;\n\n  /** @internal */\n  private _supportsSVG: boolean = true;\n\n  /** @internal */\n  private _ranScripts: { [url: string]: boolean } = {};\n\n  constructor(\n    @Inject(DOCUMENT) private _document /*: HTMLDocument*/,\n    private _el: ElementRef,\n    private _svgCache: SVGCache) {\n  }\n\n  ngOnInit(): void {\n    this._insertSVG();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['inlineSVG']) {\n      this._insertSVG();\n    }\n  }\n\n  /** @internal */\n  private _insertSVG(): void {\n    if (!this._supportsSVG) {\n      return;\n    }\n\n    // Check if the browser supports embed SVGs\n    if (!this._checkSVGSupport()) {\n      this._fail('Embed SVG not supported by browser');\n      this._supportsSVG = false;\n      return;\n    }\n\n    // Check if a URL was actually passed into the directive\n    if (!this.inlineSVG) {\n      this._fail('No URL passed to [inlineSVG]');\n      return;\n    }\n\n    // Support for symbol IDs\n    if (this.inlineSVG.charAt(0) === '#' || this.inlineSVG.indexOf('.svg#') > -1) {\n      const elSvg = this._document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      const elSvgUse = this._document.createElementNS('http://www.w3.org/2000/svg', 'use');\n      elSvgUse.setAttributeNS('http://www.w3.org/1999/xlink', 'href', this.inlineSVG);\n      elSvg.appendChild(elSvgUse);\n\n      this._insertEl(elSvg);\n\n      this.onSVGInserted.emit(elSvg);\n      return;\n    }\n\n    // Get absolute URL, and check if it's actually new\n    const absUrl = this._getAbsoluteUrl(this.inlineSVG);\n\n    if (absUrl !== this._absUrl) {\n      this._absUrl = absUrl;\n\n      // Fetch SVG via cache mechanism\n      this._svgCache.getSVG(this._absUrl, this.cacheSVG)\n        .subscribe(\n          (svg: SVGElement) => {\n            // Insert SVG\n            if (svg && this._el.nativeElement) {\n              if (this.removeSVGAttributes) {\n                this._removeAttributes(svg, this.removeSVGAttributes);\n              }\n\n              this._insertEl(svg);\n\n              // Script evaluation\n              this._evalScripts(svg, absUrl);\n\n              // Force evaluation of <style> tags since IE doesn't do it.\n              // Reference: https://github.com/arkon/ng-inline-svg/issues/17\n              if (this.forceEvalStyles) {\n                const styleTags = svg.querySelectorAll('style');\n                Array.prototype.forEach.call(styleTags, tag => tag.textContent += '');\n              }\n\n              this.onSVGInserted.emit(svg);\n            }\n          },\n          (err: any) => {\n            this._fail(err);\n          }\n        );\n    }\n  }\n\n  /** @internal */\n  private _getAbsoluteUrl(url: string): string {\n    return url;\n\n    // const base = this._document.createElement('BASE') as HTMLBaseElement;\n    // base.href = url;\n    //\n    // return base.href;\n  }\n\n  /** @internal */\n  private _removeAttributes(svg: SVGElement, attrs: Array<string>) {\n    const innerEls = svg.getElementsByTagName('*');\n\n    for (let i = 0; i < innerEls.length; i++) {\n      const elAttrs = innerEls[i].attributes;\n\n      for (let j = 0; j < elAttrs.length; j++) {\n        if (attrs.indexOf(elAttrs[j].name.toLowerCase()) > -1) {\n          innerEls[i].removeAttribute(elAttrs[j].name);\n        }\n      }\n    }\n  }\n\n  /** @internal */\n  private _insertEl(el: Element) {\n    if (this.replaceContents && !this.prepend) {\n      this._el.nativeElement.innerHTML = '';\n    }\n\n    if (this.prepend) {\n      this._el.nativeElement.insertBefore(el, this._el.nativeElement.firstChild);\n    } else {\n      this._el.nativeElement.appendChild(el);\n    }\n  }\n\n  // Based off code from https://github.com/iconic/SVGInjector\n  /** @internal */\n  private _evalScripts(svg: SVGElement, url: string) {\n    const scripts = svg.querySelectorAll('script');\n    const scriptsToEval = [];\n    let script, scriptType;\n\n    // Fetch scripts from SVG\n    for (let i = 0; i < scripts.length; i++) {\n      scriptType = scripts[i].getAttribute('type');\n\n      if (!scriptType || scriptType === 'application/ecmascript' || scriptType === 'application/javascript') {\n        script = scripts[i].innerText || scripts[i].textContent;\n        scriptsToEval.push(script);\n        svg.removeChild(scripts[i]);\n      }\n    }\n\n    // Run scripts in closure as needed\n    if (scriptsToEval.length > 0 && (this.evalScripts === 'always' ||\n        (this.evalScripts === 'once' && !this._ranScripts[url]))) {\n      for (let i = 0; i < scriptsToEval.length; i++) {\n        new Function(scriptsToEval[i])(window);\n      }\n\n      this._ranScripts[url] = true;\n    }\n  }\n\n  /** @internal */\n  private _checkSVGSupport() {\n    return typeof SVGRect !== 'undefined';\n  }\n\n  /** @internal */\n  private _fail(msg: string) {\n    this.onSVGFailed.emit(msg);\n\n    // Insert fallback image, if specified\n    if (this.fallbackImgUrl) {\n      const elImg = document.createElement('img');\n      elImg.src = this.fallbackImgUrl;\n\n      this._insertEl(elImg);\n    }\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { DOCUMENT } from \"@angular/common\";\nimport { Observable, of } from 'rxjs';\nimport { map, catchError, finalize, share } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class SVGCache {\n    /** @internal */\n    private static _cache: Map<string, SVGElement>;\n\n    /** @internal */\n    private static _inProgressReqs: Map<string, Observable<SVGElement>>;\n\n    constructor(\n        @Inject(DOCUMENT) private _document /*: HTMLDocument */,\n        private http: HttpClient) {\n        if (!SVGCache._cache) {\n            SVGCache._cache = new Map<string, SVGElement>();\n        }\n\n        if (!SVGCache._inProgressReqs) {\n            SVGCache._inProgressReqs = new Map<string, Observable<SVGElement>>();\n        }\n    }\n\n    getSVG(url: string, cache: boolean = true): Observable<SVGElement> {\n        // Return cached copy if it exists\n        if (cache && SVGCache._cache.has(url)) {\n            return of(this._cloneSVG(SVGCache._cache.get(url)));\n        }\n\n        // Return existing fetch observable\n        if (SVGCache._inProgressReqs.has(url)) {\n            return SVGCache._inProgressReqs.get(url);\n        }\n\n        // Otherwise, make the HTTP call to fetch\n        const req = this.http.get(url, { responseType: 'text' }).pipe(\n            catchError((err: any) => err),\n            finalize(() => {\n                SVGCache._inProgressReqs.delete(url);\n            }),\n            share(),\n            map((svgText: string) => {\n                const svgEl = this._svgElementFromString(svgText);\n                SVGCache._cache.set(url, svgEl);\n                return this._cloneSVG(svgEl);\n            }));\n\n        SVGCache._inProgressReqs.set(url, req);\n\n        return req;\n    }\n\n    /** @internal */\n    private _svgElementFromString(str: string): SVGElement | never {\n        const div: HTMLElement = this._document.createElement('DIV');\n        div.innerHTML = str;\n\n        const svg = div.querySelector('svg') as SVGElement;\n\n        if (!svg) {\n            throw new Error('No SVG found in loaded contents');\n        }\n\n        return svg;\n    }\n\n    /** @internal */\n    private _cloneSVG(svg: SVGElement): SVGElement {\n        return svg.cloneNode(true) as SVGElement;\n    }\n}\n","import { Component, Input } from \"@angular/core\";\n\n@Component({\n    selector: 'app-loading-indicator',\n    template: `\n    <div class=\"loading-indicator\">\n        <p-progressSpinner animationDuration=\"2s\" [strokeWidth]=\"6\" [fill]=\"'rgba(51, 190, 255, 0.2)'\"></p-progressSpinner>\n    </div>`,\n    styleUrls: ['./loading-indicator.component.scss']\n})\nexport class LoadingIndicatorComponent {\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, Output, Renderer2, ViewChild } from '@angular/core';\nimport { BehaviorSubject, fromEvent, Subscription, timer } from 'rxjs';\nimport { filter, skipUntil, take } from 'rxjs/operators';\n\nlet _VisiblePopoverCount: number = 0;\nexport function VisiblePopoverCount(): number {\n    return _VisiblePopoverCount;\n}\n\nexport function HideAllPopovers() {\n    document.dispatchEvent(new CustomEvent('hidePopovers'));\n}\n\n// based on: https://github.com/meiriko/ng2-pop-over\n\n@Component({\n    selector: 'app-popover',\n    template: `\n        <div #popOverContent class=\"popover-component\" [ngClass]=\"contentClass\" [class.shown]=\"visible$ | async\">\n            <div class=\"app-popover-content\">\n                <ng-content *ngIf=\"visible$ | async\"></ng-content>\n            </div>\n        </div>\n    `,\n})\nexport class PopoverComponent implements AfterViewInit, OnDestroy {\n    @Input() my: string;\n    @Input() at: string;\n    @Input('x-offset') xOffset: number = 0;\n    @Input('y-offset') yOffset: number = 0;\n    @Input('content-class') contentClass: string;\n    @Input() target: HTMLElement;\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('popOverContent', { static: true })\n    public content: any;\n\n    public visible$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    public get visible() { return this.visible$.value; }\n\n    constructor(private renderer: Renderer2) { }\n\n    public ngOnDestroy() {\n        this.subscriptions.forEach(o => o.unsubscribe());\n        this.subscriptions = [];\n\n        if (this.visible) { _VisiblePopoverCount = Math.max(0, _VisiblePopoverCount - 1); }\n    }\n\n    public ngAfterViewInit(): any {\n        this.renderer.setStyle(this.content.nativeElement, 'opacity', '0');\n        this.renderer.setStyle(this.content.nativeElement, 'visibility', 'hidden');\n        return undefined;\n    }\n\n    private partsContain(parts: string[], type: string): boolean {\n        return parts.indexOf(type) >= 0;\n    }\n\n    private computePosition(element: any, event: MouseEvent, myOverride: string = undefined, atOverride: string = undefined, xOffsetOverride: number = undefined, yOffsetOverride: number = undefined): [number, number] {\n        let elementBounds = element.getBoundingClientRect();\n        let elementParts = (myOverride || this.my || '').split(/\\s+/);\n        let elementOffsetX = this.partsContain(elementParts, 'right') ? elementBounds.width : 0;\n        let elementOffsetY = this.partsContain(elementParts, 'bottom') ? elementBounds.height : 0;\n\n        let target: any = this.target || event.target;\n        let targetBounds = target.getBoundingClientRect();\n        let targetParts = (atOverride || this.at || '').split(/\\s+/);\n        let targetX = this.partsContain(targetParts, 'right') ? (targetBounds.left + targetBounds.width) : targetBounds.left;\n        let targetY = this.partsContain(targetParts, 'bottom') ? (targetBounds.top + targetBounds.height) : targetBounds.top;\n\n        return [\n            targetX - elementOffsetX + (xOffsetOverride || this.xOffset),\n            targetY - elementOffsetY + (yOffsetOverride || this.yOffset)\n        ];\n    }\n\n    private subscriptions: Array<Subscription> = [];\n\n    public show(event: MouseEvent, suppressHideAllPopovers: boolean = false) {\n        if (!suppressHideAllPopovers) { HideAllPopovers(); }\n        this.subscriptions.forEach(o => o.unsubscribe());\n        this.subscriptions = [];\n\n        let element = this.content.nativeElement;\n        this.renderer.setStyle(element, 'visibility', 'inherit');\n\n        if (!this.visible) {\n            this.visible$.next(true);\n            _VisiblePopoverCount++;\n        }\n\n        timer(0).pipe(take(1)).subscribe(() => {\n            var [x, y] = this.computePosition(element, event);\n            var [myOverride, atOverride] = [String(this.my), String(this.at)]\n            var [xOffsetOverride, yOffsetOverride] = [Number(this.xOffset), Number(this.yOffset)]\n            let needToReposition = false;\n            if (x + element.offsetWidth + 10 > window.innerWidth) {\n                console.log(\"Going to reposition the popup because it's falling off the side of the screen\")\n                myOverride = myOverride.replace(\"left\", \"right\");\n                atOverride = atOverride.replace(\"left\", \"right\");\n                xOffsetOverride *= -1;\n                needToReposition = true;\n            }\n            if (y + element.offsetHeight + 10 > window.innerHeight) {\n                myOverride = myOverride.replace(\"top\", \"bottom\");\n                atOverride = atOverride.replace(\"bottom\", \"top\");\n                yOffsetOverride *= -1;\n\n                if (this.computePosition(element, event, myOverride, atOverride, xOffsetOverride, yOffsetOverride)[1] > 0) {\n                    console.log(\"Going to reposition the popup because it's falling off the bottom of the screen\")\n                    needToReposition = true;\n                }\n            }\n\n            if (needToReposition) {\n                [x, y] = this.computePosition(element, event, myOverride, atOverride, xOffsetOverride, yOffsetOverride);\n            }\n\n            if (y + element.offsetHeight + 10 > window.innerHeight) {\n                console.log(\"Preventing the popup from falling off the bottom of the screen\")\n                this.renderer.setStyle(element, 'bottom', 0 + 'px');\n            }\n\n            this.renderer.setStyle(element, 'top', y + 'px');\n            this.renderer.setStyle(element, 'left', x + 'px');\n            this.renderer.setStyle(element, 'opacity', '1');\n\n            this.subscriptions.push(fromEvent(element.ownerDocument, 'click')\n                .pipe(skipUntil(timer(0)))\n                .pipe(filter((event: MouseEvent) => {\n                    return !element.contains(event.target) && element.ownerDocument.contains(event.target);\n                }))\n                .pipe(take(1))\n                .subscribe((v) => {\n                    this.hide();\n                    this.onClose.emit();\n                }));\n            this.subscriptions.push(fromEvent(document, 'hidePopovers').subscribe(() => {\n                this.hide();\n                this.onClose.emit();\n            }));\n        })\n    }\n\n    public hide() {\n        this.renderer.setStyle(this.content.nativeElement, 'opacity', '0');\n        this.renderer.setStyle(this.content.nativeElement, 'visibility', 'hidden');\n        this.renderer.setStyle(this.content.nativeElement, 'bottom', null);\n\n        if (this.visible) {\n            this.visible$.next(false);\n            _VisiblePopoverCount = Math.max(0, _VisiblePopoverCount - 1);\n        }\n    }\n\n    public toggle(event: MouseEvent, suppressHideAllPopovers: boolean = false) {\n        this.visible$\n            .pipe(take(1))\n            .subscribe((visible: boolean) => {\n                visible ? this.hide() : this.show(event, suppressHideAllPopovers)\n            });\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-redirect',\n    template: ``,\n})\nexport class RedirectComponent {\n    constructor(private router: Router) { }\n\n    public ngOnInit() {\n        this.router.navigate(['/media']);\n    }\n}\n","import { DomSanitizer } from '@angular/platform-browser';\nimport { Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'safeHtml'\n})\nexport class SafeHtmlPipe {\n    constructor(private sanitizer: DomSanitizer) { }\n\n    public transform(value) {\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n    }\n}\n\n@Pipe({ name: 'safeResourceUrl' })\nexport class SafeResourceUrlPipe {\n    constructor(private sanitizer: DomSanitizer) { }\n\n    public transform(value) {\n        return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n    }\n}","import { Component, Input, OnInit, forwardRef, OnChanges, TemplateRef, ViewChild, ElementRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nexport interface SelectionBoxItem {\n    display: string;\n    header?: string;\n    value: any;\n    data: any;\n}\n\n@Component({\n    selector: 'app-selection-box',\n    templateUrl: './selection-box.component.html',\n    styleUrls: ['./selection-box.component.scss'],\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => SelectionBoxComponent),\n        multi: true\n    }]\n})\nexport class SelectionBoxComponent implements ControlValueAccessor, OnInit, OnChanges {\n    @Input()\n    public items: Array<SelectionBoxItem> = [];\n\n    @Input()\n    public max: number = 0;\n\n    @Input()\n    public placeholder: string = 'Search...';\n\n    @Input()\n    public itemTemplate: TemplateRef<any>;\n\n    @ViewChild('input', { static: true })\n    public input: ElementRef;\n\n    public search: string = '';\n    public filtered: Array<SelectionBoxItem> = [];\n    public focused: boolean = false;\n    public focusedItem: SelectionBoxItem;\n    public selectedItems: Array<SelectionBoxItem> = [];\n\n    private values: Array<any> = [];\n    public writeValue(value: any) {\n        this.values = value || [];\n        this.updateFilteredItems();\n    }\n\n    private onChange: any;\n    public registerOnChange(value: any) { this.onChange = value; }\n    private onTouched: any;\n    public registerOnTouched(value: any) { this.onTouched = value; }\n\n    public ngOnInit() { this.updateFilteredItems(); }\n    public ngOnChanges() { this.updateFilteredItems(); }\n\n    public onFocusChange(value: boolean) {\n        if (value) {\n            this.focused = true;\n        } else {\n            setTimeout(() => {\n                this.focused = false;\n                this.focusedItem = undefined;\n                this.search = '';\n                this.updateFilteredItems();\n            }, 150);\n        }\n    }\n\n    public updateFilteredItems() {\n        this.selectedItems = this.values.map(o => this.items.find(i => i.value === o)).filter(o => o);\n\n        const search = (this.search || '').trim().toLowerCase();\n        this.filtered = this.items.filter(o => {\n            return this.selectedItems.indexOf(o) < 0 &&\n                (!search || o.display.toLowerCase().indexOf(search) >= 0);\n        });\n    }\n\n    public onArrowDown() {\n        let index = -1;\n        if (this.focusedItem) { index = this.filtered.indexOf(this.focusedItem); }\n\n        if (index >= 0 && index < this.filtered.length - 1) {\n            this.focusedItem = this.filtered[index + 1];\n        } else {\n            this.focusedItem = this.filtered.length ? this.filtered[0] : undefined;\n        }\n    }\n\n    public onArrowUp() {\n        let index = -1;\n        if (this.focusedItem) { index = this.filtered.indexOf(this.focusedItem); }\n\n        if (index > 0 && index < this.filtered.length) {\n            this.focusedItem = this.filtered[index - 1];\n        } else {\n            this.focusedItem = this.filtered.length ? this.filtered[this.filtered.length - 1] : undefined;\n        }\n    }\n\n    public onSelect(item: SelectionBoxItem) {\n        if (this.filtered.indexOf(item) < 0) { return; }\n\n        this.selectedItems.push(item);\n        this.values = this.selectedItems.map(o => o.value);\n        this.onChange(this.values);\n\n        this.input.nativeElement.blur();\n    }\n\n    public onRemove(item: SelectionBoxItem) {\n        this.selectedItems = this.selectedItems.filter(o => o !== item);\n        this.values = this.selectedItems.map(o => o.value);\n        this.onChange(this.values);\n\n        this.updateFilteredItems();\n    }\n}\n","<div class=\"selection-box-container\">\n    <div class=\"selection-item\" *ngFor=\"let item of selectedItems\">\n        <div class=\"selection-item-display\">{{ item.display }}</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"onRemove(item)\"></app-action-icon>\n    </div>\n\n    <input #input type=\"text\"\n        [class.hidden]=\"selectedItems.length >= items.length || (max && selectedItems.length >= max)\"\n        [(ngModel)]=\"search\"\n        (ngModelChange)=\"updateFilteredItems()\"\n        [placeholder]=\"placeholder\"\n        (focus)=\"onFocusChange(true)\"\n        (blur)=\"onFocusChange(false)\"\n        (keydown.arrowdown)=\"$event.preventDefault(); onArrowDown()\"\n        (keydown.arrowup)=\"$event.preventDefault(); onArrowUp()\"\n        (keydown.enter)=\"onSelect(focusedItem)\" />\n\n    <div class=\"autocomplete-position\">\n        <div class=\"autocomplete-container\" *ngIf=\"focused\">\n            <ng-container *ngFor=\"let item of filtered; let index = index\">\n                <div class=\"autocomplete-header\" *ngIf=\"item.header && (index === 0 || filtered[index - 1].header !== item.header)\">{{ item.header }}</div>\n                <div class=\"autocomplete-item\" [class.focus]=\"item === focusedItem\" (click)=\"onSelect(item)\">\n                    <ng-template [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n<ng-template #defaultItemTemplate let-item=\"item\">{{ item.display }}</ng-template>","import { Directive } from '@angular/core';\nimport { Input } from '@angular/core';\nimport { OnChanges } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\n@Directive({\n    selector: '[setTitle]'\n})\nexport class SetTitleDirective implements OnChanges {\n    @Input('setTitle')\n    public title: string;\n\n    constructor(private _title: Title) { }\n\n    public ngOnChanges() { this.updateTitle(); }\n\n    private updateTitle() {\n        this._title.setTitle(this.title ? `${this.title} | HopeStream` : 'HopeStream');\n    }\n}\n","import { BehaviorSubject, throwError, of } from 'rxjs';\nimport { Injectable } from \"@angular/core\";\nimport { map, tap } from 'rxjs/operators';\nimport { mergeMap } from 'rxjs/operators';\nimport { Observable } from \"rxjs\";\nimport { Subject } from 'rxjs';\nimport { App } from '@services/app/app.api';\nimport { HttpResponse } from '@angular/common/http';\nimport { environment } from '@environments/environment';\nimport { AppService } from '@services/app/app.service';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\n\nexport const NETWORK = 'facebook';\nconst FACEBOOK_AUTH_URL = 'https://www.facebook.com/v6.0/dialog/oauth';\nconst FACEBOOK_API_URL = 'https://www.googleapis.com';\n\nconst OAUTH_CLIENT_ID = '1613742305579846';\nconst REDIRECT_URI = `${environment.clientUrl}/oauth/facebook`;\n\nconst SCOPES = [\n    'publish_video'\n];\n\ninterface PendingRequest {\n    method: string;\n    path: string;\n    params: { [key: string]: string | Array<string> };\n    headers: { [key: string]: string };\n    data?: any;\n}\n\nclass PendingSubject extends Subject<HttpResponse<any>> {\n    constructor(public request: PendingRequest) { super(); }\n}\n\n@Injectable()\nexport class Facebook {\n    private credentials: App.SocialAccount;\n    public loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    public get accessToken(): string { return this.credentials && this.credentials.accessToken; }\n\n    constructor(private app: AppService) { }\n\n    public userLogin(): Observable<App.SocialAccount> {\n        return this.getAuthCode().pipe(mergeMap(code => {\n            let organization = OrganizationManager.sharedInstance.organization;\n            return this.app.API.getOrganizationAccessToken(organization, NETWORK, REDIRECT_URI, code);\n        })).pipe(tap(account => {\n            this.credentials = account;\n            this.loggedIn$.next(true);\n        }));\n    }\n\n    private getAuthCode(): Observable<string> {\n        let result = new Subject<string>();\n\n        let params = new URLSearchParams();\n        params.set('client_id', OAUTH_CLIENT_ID);\n        params.set('redirect_uri', REDIRECT_URI);\n        params.set('scope', SCOPES.join(' '));\n        params.set('response_type', 'code');\n        params.set('state', '12345');\n        params.set('display', 'popup');\n        let url = FACEBOOK_AUTH_URL + '?' + params.toString();\n\n        // center window\n        // var left = (screen.width/2)-(w/2);\n        // var top = (screen.height/2)-(h/2);\n        // return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+top+', left='+left);\n\n        let ref = window.open(url, '_blank', 'width=500,height=500,menubar=no');\n\n        let code: string = undefined;\n        let interval = setInterval(() => {\n            try {\n                let href = ref.location.href;\n                console.log('HREF: ', href);\n                if (href.indexOf('?') >= 0 || href.indexOf('localhost') >= 0) {\n                    let search = new URLSearchParams(href.split('?')[1]);\n                    code = search.get('code');\n                    ref.close();\n                }\n            } catch (e) { }\n\n            if (ref.closed) {\n                clearInterval(interval);\n                if (code) {\n                    result.next(code);\n                    result.complete();\n                } else {\n                    result.error('Authorization canceled');\n                }\n            }\n        }, 500);\n\n        return result;\n    }\n\n    public userLogout(): Observable<void> {\n        this.credentials = undefined;\n        this.loggedIn$.next(false);\n        return of(true).pipe(map(() => { }));\n    }\n\n    public restoreLoggedInUser(account: App.SocialAccount): Observable<void> {\n        this.credentials = account;\n        this.loggedIn$.next(!!account);\n        return of(true).pipe(map(() => { }));\n    }\n\n    private userRefresh(token: string): Observable<void> {\n        let organization = OrganizationManager.sharedInstance.organization;\n        return this.app.API.refreshOrganizationAccessToken(organization, NETWORK, REDIRECT_URI, token).pipe(map(account => {\n            this.credentials = account;\n            this.loggedIn$.next(true);\n        }));\n    }\n\n    private request(method: string, path: string, params_: { [key: string]: string | Array<string> }, headers_: { [key: string]: string }, data: any): Observable<HttpResponse<any>> {\n        let headers: { [key: string]: string | Array<string> } = { ...(headers_ || {}) };\n\n        if (!!data && !headers['Content-Type']) { headers['Content-Type'] = 'application/json'; }\n        if (!headers['Accept']) { headers['Accept'] = 'application/json'; }\n\n        let responseType: 'blob' | 'json' | 'text' =\n            headers['Accept'] === 'application/octet-stream' ? 'blob' : (headers['Accept'] === 'application/json' ? 'json' : 'text');\n\n        let credentials = this.credentials;\n        if (credentials && !headers['Authorization']) { headers['Authorization'] = `Bearer ${credentials.accessToken}`; }\n\n        // Workaround https://github.com/angular/angular/issues/11058\n        let params: { [key: string]: string | Array<string> } = { ...(params_ || {}) };\n        for (let key in params) {\n            if (params[key] === undefined) {\n                delete params[key];\n            } else {\n                let array: Array<any> = Array.isArray(params[key]) ? params[key] as Array<string> : [params[key] as string];\n                array = array.map(o => {\n                    if (!((o as any) instanceof Date) || !o.getTime()) { return o; }\n                    return o.toISOString(); // serialize dates in a specific way\n                }).filter(o => o !== undefined);\n                if (!array.length) {\n                    delete params[key];\n                } else {\n                    params[key] = array.length === 1 ? array[0] : array;\n                }\n            }\n        }\n\n        let url = FACEBOOK_API_URL + path;\n\n        let subject = new Subject<HttpResponse<any>>();\n        this.app.auth.http.request(method, url, {\n            body: data,\n            headers: headers,\n            params: params,\n            responseType: responseType,\n            observe: 'response',\n        }).subscribe(response => {\n            subject.next(response);\n            subject.complete();\n        }, response => {\n            this.fail(response, { 'method': method, 'path': path, 'params': params_, 'headers': headers_, 'data': data }).subscribe(subject);\n        });\n\n        return subject;\n    }\n\n    public GET(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('GET', path, params, headers, data);\n    }\n\n    public POST(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('POST', path, params, headers, data);\n    }\n\n    public PUT(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PUT', path, params, headers, data);\n    }\n\n    public DELETE(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('DELETE', path, params, headers, data);\n    }\n\n    private fail(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        return this.shouldAttemptRequestAgainAfterRefreshing(response, request) || throwError(response);\n    }\n\n    private pending: Array<PendingSubject> = undefined;\n    private shouldAttemptRequestAgainAfterRefreshing(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        var result: Observable<HttpResponse<any>> = undefined;\n\n        let json = undefined;\n        try { json = response && ((response as any).error || response.body); } catch (error) { }\n        let error = json && json.error && json.error.message && json.error.message.toLowerCase() || '';\n        if (error.indexOf('credentials') >= 0) {\n            let subject = new PendingSubject(request);\n            result = subject;\n\n            if (!this.pending) {\n                this.pending = new Array<PendingSubject>();\n                this.pending.push(subject);\n                this.processRefresh();\n            } else {\n                this.pending.push(subject);\n            }\n        }\n\n        return result;\n    }\n\n    private processRefresh() {\n        let credentials = this.credentials;\n        if (!credentials || !credentials.accessToken) {\n            this.userLogout();\n            this.completeRefresh();\n            return;\n        }\n\n        if (!!credentials.refreshToken) {\n            this.userRefresh(credentials.refreshToken).subscribe(response => {\n                this.completeRefresh();\n            }, response => {\n                this.userLogout();\n                this.completeRefresh();\n            });\n        } else {\n            this.userLogout();\n            this.completeRefresh();\n        }\n    }\n\n    private completeRefresh() {\n        let pending = this.pending;\n        this.pending = undefined;\n\n        if (!pending) { return; }\n\n        let credentials = this.credentials;\n        for (let subject of pending) {\n            if (credentials && credentials.accessToken) {\n                let request = subject.request;\n                this.request(request.method, request.path, request.params, request.headers, request.data).subscribe(subject);\n            } else {\n                throwError({\n                    'statusText': 'Invalid access token.',\n                    'status': 401\n                }).subscribe(subject);\n            }\n        }\n    }\n}\n","import { BehaviorSubject, throwError, of } from 'rxjs';\nimport { Injectable } from \"@angular/core\";\nimport { map, tap } from 'rxjs/operators';\nimport { mergeMap } from 'rxjs/operators';\nimport { Observable } from \"rxjs\";\nimport { Subject } from 'rxjs';\nimport { App } from '@services/app/app.api';\nimport { HttpResponse } from '@angular/common/http';\nimport { environment } from '@environments/environment';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { AppService } from '@services/app/app.service';\n\nexport const NETWORK = 'google';\nconst GOOGLE_AUTH_URL = 'https://accounts.google.com/o/oauth2/v2/auth';\nconst GOOGLE_API_URL = 'https://www.googleapis.com';\n\nconst OAUTH_CLIENT_ID = '411673316996-iak5hlp5od4pvefhlc9ephasmp9dgo6f.apps.googleusercontent.com';\nconst REDIRECT_URI = `${environment.clientUrl}/oauth/google`;\n\nconst SCOPES = [\n    'https://www.googleapis.com/auth/youtube.upload',\n    'https://www.googleapis.com/auth/youtube'\n];\n\ninterface PendingRequest {\n    method: string;\n    path: string;\n    params: { [key: string]: string | Array<string> };\n    headers: { [key: string]: string };\n    data?: any;\n}\n\nclass PendingSubject extends Subject<HttpResponse<any>> {\n    constructor(public request: PendingRequest) { super(); }\n}\n\n@Injectable()\nexport class Google {\n    private credentials: App.SocialAccount;\n    public loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    public get accessToken(): string { return this.credentials && this.credentials.accessToken; }\n\n    constructor(private app: AppService) { }\n\n    public userLogin(): Observable<App.SocialAccount> {\n        return this.getAuthCode().pipe(mergeMap(code => {\n            let organization = OrganizationManager.sharedInstance.organization;\n            return this.app.API.getOrganizationAccessToken(organization, NETWORK, REDIRECT_URI, code);\n        })).pipe(tap(account => {\n            this.credentials = account;\n            this.loggedIn$.next(true);\n        }));\n    }\n\n    private getAuthCode(): Observable<string> {\n        let result = new Subject<string>();\n\n        let params = new URLSearchParams();\n        params.set('client_id', OAUTH_CLIENT_ID);\n        params.set('redirect_uri', REDIRECT_URI);\n        params.set('scope', SCOPES.join(' '));\n        params.set('response_type', 'code');\n        params.set('prompt', 'select_account');\n        let url = GOOGLE_AUTH_URL + '?' + params.toString();\n\n        // center window\n        // var left = (screen.width/2)-(w/2);\n        // var top = (screen.height/2)-(h/2);\n        // return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+top+', left='+left);\n\n        let ref = window.open(url, '_blank', 'width=500,height=500,menubar=no');\n\n        let code: string = undefined;\n        let interval = setInterval(() => {\n            try {\n                let href = ref.location.href;\n                if (href.indexOf('?') >= 0) {\n                    let search = new URLSearchParams(href.split('?')[1]);\n                    code = search.get('code');\n                    ref.close();\n                }\n            } catch (e) { }\n\n            if (ref.closed) {\n                clearInterval(interval);\n                if (code) {\n                    result.next(code);\n                    result.complete();\n                } else {\n                    result.error('Authorization canceled');\n                }\n            }\n        }, 500);\n\n        return result;\n    }\n\n    public userLogout(): Observable<void> {\n        this.credentials = undefined;\n        this.loggedIn$.next(false);\n        return of(true).pipe(map(() => { }));\n    }\n\n    public restoreLoggedInUser(account: App.SocialAccount): Observable<void> {\n        this.credentials = account;\n        this.loggedIn$.next(!!account);\n        return of(true).pipe(map(() => { }));\n    }\n\n    private userRefresh(token: string): Observable<void> {\n        let organization = OrganizationManager.sharedInstance.organization;\n        return this.app.API.refreshOrganizationAccessToken(organization, NETWORK, REDIRECT_URI, token).pipe(map(account => {\n            this.credentials = account;\n            this.loggedIn$.next(true);\n        }));\n    }\n\n    private request(method: string, path: string, params_: { [key: string]: string | Array<string> }, headers_: { [key: string]: string }, data: any): Observable<HttpResponse<any>> {\n        let headers: { [key: string]: string | Array<string> } = { ...(headers_ || {}) };\n\n        if (!!data && !headers['Content-Type']) { headers['Content-Type'] = 'application/json'; }\n        if (!headers['Accept']) { headers['Accept'] = 'application/json'; }\n\n        let responseType: 'blob' | 'json' | 'text' =\n            headers['Accept'] === 'application/octet-stream' ? 'blob' : (headers['Accept'] === 'application/json' ? 'json' : 'text');\n\n        let credentials = this.credentials;\n        if (credentials && !headers['Authorization']) { headers['Authorization'] = `Bearer ${credentials.accessToken}`; }\n\n        // Workaround https://github.com/angular/angular/issues/11058\n        let params: { [key: string]: string | Array<string> } = { ...(params_ || {}) };\n        for (let key in params) {\n            if (params[key] === undefined) {\n                delete params[key];\n            } else {\n                let array: Array<any> = Array.isArray(params[key]) ? params[key] as Array<string> : [params[key] as string];\n                array = array.map(o => {\n                    if (!((o as any) instanceof Date) || !o.getTime()) { return o; }\n                    return o.toISOString(); // serialize dates in a specific way\n                }).filter(o => o !== undefined);\n                if (!array.length) {\n                    delete params[key];\n                } else {\n                    params[key] = array.length === 1 ? array[0] : array;\n                }\n            }\n        }\n\n        let url = GOOGLE_API_URL + path;\n\n        let subject = new Subject<HttpResponse<any>>();\n        this.app.auth.http.request(method, url, {\n            body: data,\n            headers: headers,\n            params: params,\n            responseType: responseType,\n            observe: 'response',\n        }).subscribe(response => {\n            subject.next(response);\n            subject.complete();\n        }, response => {\n            this.fail(response, { 'method': method, 'path': path, 'params': params_, 'headers': headers_, 'data': data }).subscribe(subject);\n        });\n\n        return subject;\n    }\n\n    public GET(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('GET', path, params, headers, data);\n    }\n\n    public POST(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('POST', path, params, headers, data);\n    }\n\n    public PUT(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PUT', path, params, headers, data);\n    }\n\n    public DELETE(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('DELETE', path, params, headers, data);\n    }\n\n    private fail(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        return this.shouldAttemptRequestAgainAfterRefreshing(response, request) || throwError(response);\n    }\n\n    private pending: Array<PendingSubject> = undefined;\n    private shouldAttemptRequestAgainAfterRefreshing(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        var result: Observable<HttpResponse<any>> = undefined;\n\n        let json = undefined;\n        try { json = response && ((response as any).error || response.body); } catch (error) { }\n        let error = json && json.error && json.error.message && json.error.message.toLowerCase() || '';\n        if (error.indexOf('credentials') >= 0) {\n            let subject = new PendingSubject(request);\n            result = subject;\n\n            if (!this.pending) {\n                this.pending = new Array<PendingSubject>();\n                this.pending.push(subject);\n                this.processRefresh();\n            } else {\n                this.pending.push(subject);\n            }\n        }\n\n        return result;\n    }\n\n    private processRefresh() {\n        let credentials = this.credentials;\n        if (!credentials || !credentials.accessToken) {\n            this.userLogout();\n            this.completeRefresh();\n            return;\n        }\n\n        if (!!credentials.refreshToken) {\n            this.userRefresh(credentials.refreshToken).subscribe(response => {\n                this.completeRefresh();\n            }, response => {\n                this.userLogout();\n                this.completeRefresh();\n            });\n        } else {\n            this.userLogout();\n            this.completeRefresh();\n        }\n    }\n\n    private completeRefresh() {\n        let pending = this.pending;\n        this.pending = undefined;\n\n        if (!pending) { return; }\n\n        let credentials = this.credentials;\n        for (let subject of pending) {\n            if (credentials && credentials.accessToken) {\n                let request = subject.request;\n                this.request(request.method, request.path, request.params, request.headers, request.data).subscribe(subject);\n            } else {\n                throwError({\n                    'statusText': 'Invalid access token.',\n                    'status': 401\n                }).subscribe(subject);\n            }\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'app-video-player',\n    template: `\n        <ng-container *ngIf=\"url\">\n        <iframe [src]=\"url | safeResourceUrl\" width=\"560\" height=\"349\" frameborder=\"0\" allowfullscreen></iframe>\n        </ng-container>\n        <div class=\"placeholder\" *ngIf=\"!url\">\n            <div class=\"header\">Video Preview Not Available</div>\n            <div *ngIf=\"error\">{{ error }}</div>\n        </div>\n    `,\n    styleUrls: ['./video-player.component.scss'],\n})\nexport class VideoPlayerComponent {\n    @Input()\n    public url: string;\n\n    @Input()\n    public error: string;\n}\n","import { AuthService } from '../auth.service';\nimport { Observable, Subject } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators';\n\nexport class AppAPI {\n    constructor(private auth: AuthService) { }\n\n    public getCurrentUser(): Observable<App.User> {\n        return this.auth.GET('/admin/api/1/users', {}).pipe(map(response => {\n            return App.User.fromJSON(response.body.users[0]);\n        }));\n    }\n\n    public updateUser(user: App.UserUpdate): Observable<App.User> {\n        return this.auth.PUT(`/admin/api/1/users`, {}, {}, user).pipe(mergeMap(response => {\n            return this.getCurrentUser();\n        }));\n    }\n\n    public getCurrentOrganization(): Observable<App.Organization> {\n        return this.auth.GET('/admin/api/1/organizations', {}).pipe(map(response => {\n            return response.body.organizations.map(o => App.Organization.fromJSON(o))[0];\n        }));\n    }\n\n    public getOrganizationSubscriptionInfo(organization: App.Organization): Observable<App.SubscriptionInfo> {\n        return this.auth.GET(`/admin/api/1/organizations/${organization.id}/subscription`, {}).pipe(map(response => {\n            return App.SubscriptionInfo.fromJSON(response.body);\n        }));\n    }\n\n    public updateOrganizationPaymentInfo(organization: App.Organization, source: string, plan: string): Observable<App.SubscriptionInfo> {\n        return this.auth.PUT(`/admin/api/1/organizations/${organization.id}/payment`, {}, {}, { source: source, plan: plan }).pipe(map(response => {\n            return App.SubscriptionInfo.fromJSON(response.body);\n        }));\n    }\n\n    public deleteOrganizationPaymentInfo(organization: App.Organization): Observable<App.SubscriptionInfo> {\n        return this.auth.DELETE(`/admin/api/1/organizations/${organization.id}/payment`, {}).pipe(map(response => {\n            return App.SubscriptionInfo.fromJSON(response.body);\n        }));\n    }\n\n    public getOrganizationSocialAccounts(organization: App.Organization): Observable<Array<App.SocialAccount>> {\n        return this.auth.GET(`/admin/api/1/organizations/${organization.id}/social`, {}).pipe(map(response => {\n            return response.body.map(o => App.SocialAccount.fromJSON(o));\n        }));\n    }\n\n    public setOrganizationSocialAccount(organization: App.Organization, account: App.SocialAccount): Observable<App.SocialAccount> {\n        return this.auth.POST(`/admin/api/1/organizations/${organization.id}/social`, {}, {}, account).pipe(map(response => {\n            return App.SocialAccount.fromJSON(response.body);\n        }));\n    }\n\n    public deleteOrganizationSocialAccount(organization: App.Organization, network: string): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/organizations/${organization.id}/social`, { network: network }).pipe(map(() => { }));\n    }\n\n    public getOrganizationAccessToken(organization: App.Organization, network: string, redirect: string, code: string): Observable<App.SocialAccount> {\n        return this.auth.POST(`/admin/api/1/organizations/${organization.id}/social/token`, {}, {}, { network, redirect, code }).pipe(map(response => {\n            return App.SocialAccount.fromJSON(response.body);\n        }));\n    }\n\n    public refreshOrganizationAccessToken(organization: App.Organization, network: string, redirect: string, token: string): Observable<App.SocialAccount> {\n        return this.auth.POST(`/admin/api/1/organizations/${organization.id}/social/refresh`, {}, {}, { network, redirect, token }).pipe(map(response => {\n            return App.SocialAccount.fromJSON(response.body);\n        }));\n    }\n\n    public updateOrganization(organization: App.OrganizationUpdate): Observable<App.Organization> {\n        return this.auth.PUT(`/admin/api/1/organizations/${organization.id}`, {}, {}, organization).pipe(mergeMap(response => {\n            return this.getCurrentOrganization();\n        }));\n    }\n\n    public uploadImageForOrganization(organization: App.Organization, image: File, progress: (progress: number) => void = undefined): Observable<App.Organization> {\n        return this.auth.UPLOAD(`/admin/api/1/organizations/${organization.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.organizations.map(o => App.Organization.fromJSON(o))[0];\n        }));\n    }\n\n    public getAllMedia(): Observable<Array<App.Media>> {\n        return this.auth.GET('/admin/api/1/media', {}).pipe(map(response => {\n            return (response.body.media || []).map(o => App.Media.fromJSON(o));\n        }));\n    }\n\n    public getMedia(id: number): Observable<App.Media> {\n        return this.auth.GET(`/admin/api/1/media/${id}`, {}).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public createMedia(): Observable<App.Media> {\n        return this.auth.POST('/admin/api/1/media', {}).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public updateMedia(media: App.MediaUpdate): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}`, {}, {}, media).pipe(mergeMap(response => {\n            return this.getMedia(media.id);\n        }));\n    }\n\n    public updateMediaStatus(media: App.Media, status: number): Observable<App.Media> {\n        let data: any = { status: status };\n\n        if (status === 1) {\n            data.youtubeStatus = media.youtubeStatus ? 'queued' : null;\n            data.vimeoStatus = null;\n            data.audioStatus = null;\n        }\n\n        return this.auth.PUT(`/admin/api/1/media/${media.id}`, {}, {}, data).pipe(mergeMap(response => {\n            return this.getMedia(media.id);\n        }));\n    }\n\n    public uploadImageForMedia(media: App.Media, image: File, progress: (progress: number) => void = undefined): Observable<App.Media> {\n        return this.auth.UPLOAD(`/admin/api/1/media/${media.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public setMediaImageToSeries(media: App.Media, series: App.Series): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}/image`, { seriesId: `${series.id}` }).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public setMediaImageToOrganization(media: App.Media, organization: App.Organization): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}/image`, { organizationId: `${organization.id}` }).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public uploadCaptionFileForMedia(media: App.Media, captions: File, progress: (progress: number) => void = undefined): Observable<void> {\n        return this.auth.UPLOAD(`/admin/api/1/media/${media.id}/captions`, captions, 'captions', progress).pipe(map(() => { }));\n    };\n\n    private getUploadPolicyForMedia(media: App.Media, file: File): Observable<App.MediaUploadPolicy> {\n        return this.auth.GET(`/admin/api/1/media/${media.id}/upload-policy`, { contentType: file.type }).pipe(map(response => {\n            return App.MediaUploadPolicy.fromJSON(response.body);\n        }));\n    }\n\n    public uploadFileForMedia(media: App.Media, file: File, progress: (progress: number) => void = undefined): Observable<any> {\n        return this.getUploadPolicyForMedia(media, file).pipe(mergeMap(policy => {\n            let form: FormData = new FormData();\n            form.append('key', policy.key);\n            form.append('AWSAccessKeyId', policy.accessKeyId);\n            form.append('acl', policy.acl);\n            form.append('policy', policy.policy);\n            form.append('signature', policy.signature);\n            form.append('Content-Type', file.type);\n            form.append('file', file, file.name);\n\n            let result = new Subject<any>();\n            let xhr: XMLHttpRequest = new XMLHttpRequest();\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200 || xhr.status === 204) {\n                        result.next(xhr.response && JSON.parse(xhr.response) || {});\n                        result.complete();\n                    } else {\n                        result.error(xhr.response);\n                    }\n                }\n            };\n\n            xhr.upload.onprogress = $event => {\n                let value = ($event.loaded / $event.total);\n                progress && progress(value);\n            };\n\n            xhr.open('POST', policy.url, true);\n            xhr.send(form);\n\n            return result;\n        }));\n    }\n\n    public deleteMedia(media: App.Media): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/media/${media.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllSeries(): Observable<Array<App.Series>> {\n        return this.auth.GET('/admin/api/1/series', {}).pipe(map(response => {\n            return (response.body.series || []).map(o => App.Series.fromJSON(o));\n        }));\n    }\n\n    public getSeries(id: number): Observable<App.Series> {\n        return this.auth.GET(`/admin/api/1/series/${id}`, {}).pipe(map(response => {\n            return response.body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public createSeries(): Observable<App.Series> {\n        return this.auth.POST('/admin/api/1/series', {}).pipe(map(response => {\n            return response.body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public updateSeries(series: App.SeriesUpdate): Observable<App.Series> {\n        return this.auth.PUT(`/admin/api/1/series/${series.id}`, {}, {}, series).pipe(mergeMap(response => {\n            return this.getSeries(series.id);\n        }));\n    }\n\n    public uploadImageForSeries(series: App.Series, image: File, progress: (progress: number) => void = undefined): Observable<App.Series> {\n        return this.auth.UPLOAD(`/admin/api/1/series/${series.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public deleteSeries(series: App.Series): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/series/${series.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllSpeakers(): Observable<Array<App.Speaker>> {\n        return this.auth.GET('/admin/api/1/speakers', {}).pipe(map(response => {\n            return (response.body.speakers || []).map(o => App.Speaker.fromJSON(o));\n        }));\n    }\n\n    public getSpeaker(id: number): Observable<App.Speaker> {\n        return this.auth.GET(`/admin/api/1/speakers/${id}`, {}).pipe(map(response => {\n            return response.body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public createSpeaker(): Observable<App.Speaker> {\n        return this.auth.POST('/admin/api/1/speakers', {}).pipe(map(response => {\n            return response.body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public updateSpeaker(speaker: App.SpeakerUpdate): Observable<App.Speaker> {\n        return this.auth.PUT(`/admin/api/1/speakers/${speaker.id}`, {}, {}, speaker).pipe(mergeMap(response => {\n            return this.getSpeaker(speaker.id);\n        }));\n    }\n\n    public uploadImageForSpeaker(speaker: App.Speaker, image: File, progress: (progress: number) => void = undefined): Observable<App.Speaker> {\n        return this.auth.UPLOAD(`/admin/api/1/speakers/${speaker.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public deleteSpeaker(speaker: App.Speaker): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/speakers/${speaker.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllFeeds(): Observable<Array<App.Feed>> {\n        return this.auth.GET('/admin/api/1/feeds', {}).pipe(map(response => {\n            return (response.body.feeds || []).map(o => App.Feed.fromJSON(o));\n        }));\n    }\n\n    public getFeed(id: number): Observable<App.Feed> {\n        return this.auth.GET(`/admin/api/1/feeds/${id}`, {}).pipe(map(response => {\n            return response.body.feeds.map(o => App.Feed.fromJSON(o))[0];\n        }));\n    }\n\n    public createFeed(): Observable<App.Feed> {\n        return this.auth.POST('/admin/api/1/feeds', {}).pipe(map(response => {\n            return response.body.feeds.map(o => App.Feed.fromJSON(o))[0];\n        }));\n    }\n\n    public updateFeed(feed: App.FeedUpdate): Observable<App.Feed> {\n        return this.auth.PUT(`/admin/api/1/feeds/${feed.id}`, {}, {}, feed).pipe(mergeMap(response => {\n            return this.getFeed(feed.id);\n        }));\n    }\n\n    public uploadImageForFeed(feed: App.Feed, image: File, progress: (progress: number) => void = undefined): Observable<void> {\n        return this.auth.UPLOAD(`/admin/api/1/feeds/${feed.id}/image`, image, 'image', progress).pipe(map(() => { }));\n    }\n\n    public deleteFeed(feed: App.Feed): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/feeds/${feed.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getMediaIdsForFeed(feed: App.Feed): Observable<Array<number>> {\n        return this.auth.GET(`/admin/api/1/feeds/${feed.id}/media`, {}).pipe(map(response => {\n            return response.body.ids || [];\n        }));\n    }\n\n    public addMediaIdToFeed(feed: App.Feed, id: number): Observable<void> {\n        return this.auth.PUT(`/admin/api/1/feeds/${feed.id}/media`, { id: `${id}` }).pipe(map(() => { }));\n    }\n\n    public removeMediaIdFromFeed(feed: App.Feed, id: number): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/feeds/${feed.id}/media`, { id: `${id}` }).pipe(map(() => { }));\n    }\n\n    public getAllTopics(): Observable<Array<App.Topic>> {\n        return this.auth.GET('/admin/api/1/topics', {}).pipe(map(response => {\n            return (response.body.topics || []).map(o => App.Topic.fromJSON(o));\n        }));\n    }\n}\n\nexport module App {\n    export class User {\n        public id: number;\n        public name: string;\n        public email: string;\n\n        public static fromJSON(json: any): User {\n            let result = new User();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface UserUpdate {\n        id: number;\n        name?: string;\n        password?: string;\n    }\n\n    export class Organization {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public url: string;\n\n        public static fromJSON(json: any): Organization {\n            let result = new Organization();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface OrganizationUpdate {\n        id: number;\n        name?: string;\n        url?: string;\n        description?: string;\n    }\n\n    export class Media {\n        public id: number;\n        public name: string;\n        public description: string;\n        public date: Date;\n        public status: number;\n        public hidden: boolean;\n        public type: number;\n        public audioUrl: string;\n        public audioStatus: string;\n        public vimeoStatus: string;\n        public youtubeId: string;\n        public youtubeStatus: string;\n        public youtubeMetadataUpdate: boolean;\n        public videoUrl: string;\n        public streamUrl: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public organizationId: number;\n        public seriesId: number;\n        public speakerIds: Array<number>;\n        public topicIds: Array<number>;\n\n        public static fromJSON(json: any): Media {\n            let result = new Media();\n            Object.assign(result, json);\n            result.date = json.date && new Date(json.date);\n            Media.adjustStatusForThirdParties(result);\n            return result;\n        }\n\n        private static adjustStatusForThirdParties(media: Media) {\n            if (media.status === 3) {\n                var audio = media.audioStatus;\n                var vimeo = media.vimeoStatus;\n                var youtube = media.youtubeStatus;\n\n                if (media.type === 1) { // audio\n                    if (audio !== 'complete') {\n                        media.status = 2;\n                    }\n                    if (audio === 'error') {\n                        media.status = 4;\n                    }\n                } else {\n                    if (audio !== 'complete' || vimeo !== 'complete' || (youtube && youtube !== 'complete')) {\n                        media.status = 2;\n                    }\n                    if (audio === 'error' || vimeo === 'error' || youtube === 'error') {\n                        media.status = 4;\n                    }\n                }\n            }\n        }\n    }\n\n    export interface MediaUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n        date?: number;\n        hidden?: boolean;\n        youtubeMetadataUpdate?: boolean;\n        seriesId?: number;\n        speakerIds?: Array<number>;\n        topicIds?: Array<number>;\n        youtubeStatus?: string; // BE VERY CAREFUL WHEN SETTING THIS\n    }\n\n    export class MediaUploadPolicy {\n        public url: string;\n        public key: string;\n        public acl: string;\n        public policy: string;\n        public signature: string;\n        public accessKeyId: string;\n\n        public static fromJSON(json: any): MediaUploadPolicy {\n            let result = new MediaUploadPolicy();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class Series {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public organizationId: number;\n\n        public static fromJSON(json: any): Series {\n            let result = new Series();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface SeriesUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n    }\n\n    export class Speaker {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public count: number;\n        public ownerId: number;\n\n        public static fromJSON(json: any): Speaker {\n            let result = new Speaker();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface SpeakerUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n    }\n\n    export class Feed {\n        public id: number;\n        public title: string;\n        public subtitle: string;\n        public description: string;\n        public type: number;\n        public copyright: string;\n        public url: string;\n        public email: string;\n        public category: string;\n        public keywords: string;\n\n        public mediaIds: Array<number> = [];\n\n        public static fromJSON(json: any): Feed {\n            let result = new Feed();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface FeedUpdate {\n        id: number;\n        title?: string;\n        subtitle?: string;\n        description?: string;\n        type?: number;\n        copyright?: string;\n        url?: string;\n        email?: string;\n        category?: string;\n        keywords?: string;\n    }\n\n    export class Topic {\n        public id: number;\n        public name: string;\n        public category: string;\n\n        public static fromJSON(json: any): Topic {\n            let result = new Topic();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class SubscriptionInfo {\n        public account: StripeAccount;\n        public subscription: StripeSubscription;\n        public card: StripeCard;\n        public plans: Array<StripePlan>;\n\n        public static fromJSON(json: any): SubscriptionInfo {\n            let result = new SubscriptionInfo();\n            result.account = json.account ? StripeAccount.fromJSON(json.account) : undefined;\n            result.subscription = json.subscription ? StripeSubscription.fromJSON(json.subscription) : undefined;\n            result.card = json.card ? StripeCard.fromJSON(json.card) : undefined;\n            result.plans = json.plans?.length ? json.plans.map(o => StripePlan.fromJSON(o)) : undefined;\n            return result;\n        }\n    }\n\n    export class StripeAccount {\n        public id: number;\n        public organizationId: number;\n        public customerId: string;\n        public planId: string;\n\n        public static fromJSON(json: any): StripeAccount {\n            let result = new StripeAccount();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class StripeCard {\n        public id: string;\n        public address_zip: string;\n        public exp_month: number;\n        public exp_year: number;\n        public last4: string;\n\n        public static fromJSON(json: any): StripeCard {\n            let result = new StripeCard();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class StripeSubscription {\n        public id: string;\n        public cancel_at_period_end: boolean;\n        public current_period_start: number;\n        public current_period_end: number;\n        public status: string; // 'active' or not\n\n        public static fromJSON(json: any): StripeSubscription {\n            let result = new StripeSubscription();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class StripePlan {\n        public id: string;\n        public nickname: string;\n        public amount: number;\n\n        public static fromJSON(json: any): StripePlan {\n            let result = new StripePlan();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class SocialAccount {\n        public network: string;\n        public accessToken: string;\n        public refreshToken: string;\n        public key: string;\n        public secret: string;\n\n        public static fromJSON(json: any): SocialAccount {\n            let result = new SocialAccount();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n}\n","import { AppAPI } from './app.api';\nimport { AuthService } from '../auth.service';\nimport { Injectable } from '@angular/core';\nimport { forkJoin, Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { Router } from '@angular/router';\nimport { UserManager } from './managers/user.manager';\nimport { SeriesManager } from './managers/series.manager';\nimport { SpeakerManager } from './managers/speaker.manager';\nimport { FeedManager } from './managers/feed.manager';\nimport { TopicManager } from './managers/topic.manager';\nimport { OrganizationManager } from './managers/organization.manager';\nimport Hashids from 'hashids';\n\n@Injectable()\nexport class AppService {\n    public API: AppAPI;\n    public hashids = new Hashids('ca8b97bb-de3d-4d22-8716-195354fa1e4c', 11);\n\n    public userManager: UserManager;\n    public organizationManager: OrganizationManager;\n    public seriesManager: SeriesManager;\n    public speakerManager: SpeakerManager;\n    public feedManager: FeedManager;\n    public topicManager: TopicManager;\n\n    private allManagers: Array<Manager> = [];\n\n    constructor(\n        public auth: AuthService,\n        private router: Router,\n    ) {\n        this.API = new AppAPI(auth);\n\n        this.userManager = new UserManager(this.API);\n        this.organizationManager = new OrganizationManager(this.API);\n        this.seriesManager = new SeriesManager(this.API);\n        this.speakerManager = new SpeakerManager(this.API);\n        this.feedManager = new FeedManager(this.API);\n        this.topicManager = new TopicManager(this.API);\n\n        this.allManagers = [\n            this.userManager,\n            this.organizationManager,\n            this.seriesManager,\n            this.speakerManager,\n            this.feedManager,\n            this.topicManager];\n    }\n\n    public start(): Observable<any> {\n        this.allManagers.forEach(o => o.enabled = true);\n        return forkJoin(...this.allManagers.map(o => o.refresh()));\n    }\n\n    public stop() {\n        this.allManagers.forEach(manager => {\n            manager.enabled = false;\n            manager.cancel();\n            manager.reset();\n        });\n    }\n}\n","import { Observable, forkJoin, of } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\nimport { mergeMap, map } from 'rxjs/operators';\n\nexport class FeedManager extends Manager {\n    public static sharedInstance: FeedManager = undefined;\n\n    public feeds: Array<App.Feed> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        FeedManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllFeeds().pipe(mergeMap(feeds => {\n            if (!feeds.length) { return of([]); }\n            return forkJoin(feeds.map(feed => {\n                return this.api.getMediaIdsForFeed(feed).pipe(map(ids => {\n                    feed.mediaIds = ids;\n                    return feed;\n                }));\n            }));\n        }));\n    }\n\n    protected setData(data: any) {\n        this.feeds = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.feeds = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class OrganizationManager extends Manager {\n    public static sharedInstance: OrganizationManager = undefined;\n\n    public organization: App.Organization;\n\n    constructor(private api: AppAPI) {\n        super();\n        OrganizationManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getCurrentOrganization();\n    }\n\n    protected setData(data: any) {\n        this.organization = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.organization = undefined;\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class SeriesManager extends Manager {\n    public static sharedInstance: SeriesManager = undefined;\n\n    public series: Array<App.Series> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        SeriesManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllSeries();\n    }\n\n    protected setData(data: any) {\n        this.series = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.series = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class SpeakerManager extends Manager {\n    public static sharedInstance: SpeakerManager = undefined;\n\n    public speakers: Array<App.Speaker> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        SpeakerManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllSpeakers();\n    }\n\n    protected setData(data: any) {\n        this.speakers = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.speakers = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class TopicManager extends Manager {\n    public static sharedInstance: TopicManager = undefined;\n\n    public topics: Array<App.Topic> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        TopicManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllTopics();\n    }\n\n    protected setData(data: any) {\n        this.topics = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.topics = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nconst USER_KEY = 'hopestream.user';\n\nexport class UserManager extends Manager {\n    public static sharedInstance: UserManager = undefined;\n\n    private _user: App.User = undefined;\n    public get user(): App.User { return this._user; }\n    public set user(user: App.User) {\n        if (!!user) { this.lastRefreshTime = Date.now(); }\n        this._user = user;\n        this.writeUserToLocalStorage();\n        this.update$.next();\n    }\n\n    constructor(private api: AppAPI) {\n        super();\n        UserManager.sharedInstance = this;\n        this._user = this.readUserFromLocalStorage();\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getCurrentUser();\n    }\n\n    protected setData(data: any) {\n        this._user = data;\n        this.writeUserToLocalStorage();\n    }\n\n    public reset() {\n        super.reset();\n        this.user = undefined;\n    }\n\n    private readUserFromLocalStorage() {\n        return JSON.parse(localStorage.getItem(USER_KEY));\n    }\n\n    private writeUserToLocalStorage() {\n        if (!!this.user) {\n            localStorage.setItem(USER_KEY, JSON.stringify(this.user));\n        } else {\n            localStorage.removeItem(USER_KEY);\n        }\n    }\n}\n","import { ActivatedRouteSnapshot, CanActivateChild } from '@angular/router';\nimport { CanActivate } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RouterStateSnapshot } from '@angular/router';\nimport { StateService } from './state.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate, CanActivateChild {\n    constructor(private state: StateService, private router: Router) { }\n\n    public canActivate(route: ActivatedRouteSnapshot, router: RouterStateSnapshot): boolean {\n        return this.state.updateLoggedInState(router.url);\n    }\n\n    public canActivateChild(route: ActivatedRouteSnapshot, router: RouterStateSnapshot): boolean {\n        return this.state.updateLoggedInState(router.url);\n    }\n}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from '@environments/environment';\nimport { BehaviorSubject, Observable, of as ObservableOf, Subject, throwError } from \"rxjs\";\nimport { map, mergeMap, timeout } from \"rxjs/operators\";\nimport { HttpClient, HttpResponse } from '@angular/common/http';\n\nconst OAUTH_CLIENT_ID = 'hopestream-admin';\nconst OAUTH_CLIENT_SECRET = 'f085c37a-5d21-4eb4-8b73-355c11d2e60d';\nconst OAUTH_CLIENT_BASE_64 = btoa(`${OAUTH_CLIENT_ID}:${OAUTH_CLIENT_SECRET}`);\n\ninterface Credentials {\n    accessToken: string;\n    refreshToken?: string;\n}\n\ninterface PendingRequest {\n    method: string;\n    path: string;\n    params: { [key: string]: string | Array<string> };\n    headers: { [key: string]: string };\n    data?: any;\n}\n\nclass PendingSubject extends Subject<HttpResponse<any>> {\n    constructor(public request: PendingRequest) { super(); }\n}\n\n@Injectable()\nexport class AuthService {\n    public loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    public get accessToken(): string { return this.credentials && this.credentials.accessToken; }\n\n    constructor(public http: HttpClient) {\n        this.loggedIn$.next(!!this.credentials);\n    }\n\n    private readonly CREDENTIALS_KEY = 'hopestream.credentials';\n    private get credentials(): Credentials {\n        let credentials = localStorage.getItem(this.CREDENTIALS_KEY);\n        if (!credentials) { return undefined; }\n\n        let result = JSON.parse(credentials) as Credentials;\n\n        return result;\n    }\n    private set credentials(credentials: Credentials) {\n        if (!credentials) {\n            localStorage.removeItem(this.CREDENTIALS_KEY)\n        } else {\n            localStorage.setItem(this.CREDENTIALS_KEY, JSON.stringify(credentials));\n        }\n    }\n\n    public userLogin(username: string, password: string): Observable<boolean> {\n        return this.oauthToken({\n            'grant_type': 'password',\n            'scope': 'admin',\n            'password': password,\n            'username': username,\n        }).pipe(map(credentials => {\n            this.credentials = credentials;\n            this.loggedIn$.next(true);\n            return true;\n        }));\n    }\n\n    public userLogout(): Observable<boolean> {\n        this.credentials = undefined;\n        this.loggedIn$.next(false);\n\n        return ObservableOf(true);\n    }\n\n    public userRefresh(token: string): Observable<boolean> {\n        return this.oauthToken({ 'grant_type': 'refresh_token', 'refresh_token': token })\n            .pipe(map(credentials => {\n                this.credentials = credentials;\n                this.loggedIn$.next(true);\n                return true;\n            }));\n    }\n\n    public userRegister(name: string, email: string, password: string): Observable<void> {\n        return this.getClientCredentialsHeaders().pipe(mergeMap(headers => {\n            let data = {\n                name: name,\n                email: email.toLowerCase(),\n                password: password\n            };\n\n            return this.POST('/account/register', {}, headers, data);\n        }), map(response => { }));\n    }\n\n    public userForgotPassword(email: string): Observable<void> {\n        return this.getClientCredentialsHeaders().pipe(mergeMap(headers => {\n            let data = { email: email };\n\n            return this.POST('/account/reset-password', {}, headers, data);\n        }), map(() => { }));\n    }\n\n    private getClientCredentialsHeaders(): Observable<{ [key: string]: string }> {\n        return this.oauthToken({ 'grant_type': 'client_credentials' })\n            .pipe(map(credentials => {\n                return { 'Authorization': 'Bearer ' + credentials.accessToken };\n            }));\n    }\n\n    private oauthToken(params: { [key: string]: string }): Observable<Credentials> {\n        let headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Basic ' + OAUTH_CLIENT_BASE_64\n        };\n\n        let data = Object.keys(params).map(o => `${o}=${encodeURIComponent(params[o])}`).join('&');\n\n        return this.POST('/oauth/token', {}, headers, data).pipe(map(response => {\n            let data = response.body;\n            if (!data.access_token) { throw 'Invalid access token'; }\n            return { accessToken: data.access_token, refreshToken: data.refresh_token };\n        }));\n    }\n\n    private request(method: string, path: string, params_: { [key: string]: string | Array<string> }, headers_: { [key: string]: string }, data: any): Observable<HttpResponse<any>> {\n        let headers: { [key: string]: string | Array<string> } = { ...(headers_ || {}) };\n\n        if (!!data && !headers['Content-Type']) { headers['Content-Type'] = 'application/json'; }\n        if (!headers['Accept']) { headers['Accept'] = 'application/json'; }\n\n        let responseType: 'blob' | 'json' | 'text' =\n            headers['Accept'] === 'application/octet-stream' ? 'blob' : (headers['Accept'] === 'application/json' ? 'json' : 'text');\n\n        let credentials = this.credentials;\n        if (credentials && !headers['Authorization']) { headers['Authorization'] = `Bearer ${credentials.accessToken}`; }\n\n        // Workaround https://github.com/angular/angular/issues/11058\n        let params: { [key: string]: string | Array<string> } = { ...(params_ || {}) };\n        for (let key in params) {\n            if (params[key] === undefined) {\n                delete params[key];\n            } else {\n                let array: Array<any> = Array.isArray(params[key]) ? params[key] as Array<string> : [params[key] as string];\n                array = array.map(o => {\n                    if (!((o as any) instanceof Date) || !o.getTime()) { return o; }\n                    return o.toISOString(); // serialize dates in a specific way\n                }).filter(o => o !== undefined);\n                if (!array.length) {\n                    delete params[key];\n                } else {\n                    params[key] = array.length === 1 ? array[0] : array;\n                }\n            }\n        }\n\n        let url = environment.apiUrl + path;\n\n        let subject = new Subject<HttpResponse<any>>();\n        this.http.request(method, url, {\n            body: data,\n            headers: headers,\n            params: params,\n            responseType: responseType,\n            observe: 'response',\n        }).subscribe(response => {\n            subject.next(response);\n            subject.complete();\n        }, response => {\n            this.fail(response, { 'method': method, 'path': path, 'params': params_, 'headers': headers_, 'data': data }).subscribe(subject);\n        });\n\n        return subject;\n    }\n\n    public GET(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('GET', path, params, headers, data);\n    }\n\n    public POST(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('POST', path, params, headers, data);\n    }\n\n    public PUT(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PUT', path, params, headers, data);\n    }\n\n    public PATCH(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PATCH', path, params, headers, data);\n    }\n\n    public DELETE(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('DELETE', path, params, headers, data);\n    }\n\n    private fail(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        return this.shouldAttemptRequestAgainAfterRefreshing(response, request) || throwError(response);\n    }\n\n    private pending: Array<PendingSubject> = undefined;\n    private shouldAttemptRequestAgainAfterRefreshing(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        var result: Observable<HttpResponse<any>> = undefined;\n\n        let json = undefined;\n        try { json = response && ((response as any).error || response.body); } catch (error) { }\n        json = json && json.error || json;\n        let error = json && typeof json === 'string' && json.toLowerCase() || '';\n\n        if ((error.indexOf('invalid_token') >= 0 || error.indexOf('unauthorized') >= 0)\n            && (!request.params.grant_type || request.params.grant_type !== 'refresh_token')) {\n            let subject = new PendingSubject(request);\n            result = subject;\n\n            if (!this.pending) {\n                this.pending = new Array<PendingSubject>();\n                this.pending.push(subject);\n                this.processRefresh();\n            } else {\n                this.pending.push(subject);\n            }\n        }\n\n        return result;\n    }\n\n    private processRefresh() {\n        let credentials = this.credentials;\n        if (!credentials || !credentials.accessToken) {\n            this.userLogout();\n            this.completeRefresh();\n            return;\n        }\n\n        if (!!credentials.refreshToken) {\n            this.userRefresh(credentials.refreshToken)\n                .subscribe(response => {\n                    this.completeRefresh();\n                }, response => {\n                    this.userLogout();\n                    this.completeRefresh();\n                });\n        }\n        else {\n            this.userLogout();\n            this.completeRefresh();\n        }\n    }\n\n    private completeRefresh() {\n        let pending = this.pending;\n        this.pending = undefined;\n\n        if (!pending) { return; }\n\n        let credentials = this.credentials;\n        for (let subject of pending) {\n            if (credentials && credentials.accessToken) {\n                let request = subject.request;\n                this.request(request.method, request.path, request.params, request.headers, request.data).subscribe(subject);\n            } else {\n                console.error('completeRefresh() Invalid access token');\n                throwError({\n                    'statusText': 'Invalid access token.',\n                    'status': 401\n                }).subscribe(subject);\n            }\n        }\n    }\n\n    public UPLOAD(path: string, data: string | Blob, name: string, progress: (progress: number) => void = undefined): Observable<any> {\n        let form: FormData = new FormData();\n        form.append(name, data, name);\n\n        let result = new Subject<any>();\n        let xhr: XMLHttpRequest = new XMLHttpRequest();\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200 || xhr.status === 204) {\n                    result.next(xhr.response && JSON.parse(xhr.response) || {});\n                    result.complete();\n                } else {\n                    result.error(xhr.response);\n                }\n            }\n        };\n\n        xhr.upload.onprogress = $event => {\n            let value = ($event.loaded / $event.total);\n            progress && progress(value);\n        };\n\n        xhr.open('POST', environment.apiUrl + path, true);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + this.accessToken);\n        xhr.send(form);\n\n        return result;\n    }\n\n    public stripAPIBaseURL(url: string): string {\n        return url.replace(environment.apiUrl, '');\n    }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class ClipboardService {\n    public target: ElementRef;\n\n    public write(value: string) {\n        this.target.nativeElement.value = value || '';\n        this.target.nativeElement.select();\n        document.execCommand('copy');\n    }\n\n    public read(): Observable<string> {\n        this.target.nativeElement.select();\n        document.execCommand('paste');\n\n        let subject = new Subject<string>();\n        setTimeout(() => {\n            let value = this.target.nativeElement.value;\n            subject.next(value);\n            subject.complete();\n        }, 100);\n\n        return subject;\n    }\n}\n","import { AuthService } from \"./auth.service\";\nimport { environment } from \"@environments/environment\";\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DownloadService {\n    public downloadComponent: any;\n\n    constructor(private auth: AuthService) { }\n\n    public downloadFileAtPath(path: string) {\n        this.downloadComponent.url = `${environment.apiUrl}${path}?access_token=${this.auth.accessToken}`;\n        setTimeout(() => {\n            this.downloadComponent.anchor.nativeElement.click();\n        }, 200);\n    }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class LayoutService {\n    public sidebarOpen: boolean = true;\n    public toolbarOpen: boolean = false;\n    public toolbarWidth: number = this.storedToolbarWidth;\n    public shortcutsVisible: boolean = false;\n\n    public persistToolbarWidth() {\n        this.storedToolbarWidth = this.toolbarWidth;\n    }\n\n    private readonly TOOLBAR_WIDTH_KEY = 'vyasa.toolbar.width';\n\n    private get storedToolbarWidth(): number {\n        let value = localStorage.getItem(this.TOOLBAR_WIDTH_KEY);\n        if (!value) { return 480; }\n        return parseInt(value);\n    }\n\n    private set storedToolbarWidth(value: number) {\n        if (!value) {\n            localStorage.removeItem(this.TOOLBAR_WIDTH_KEY)\n        } else {\n            localStorage.setItem(this.TOOLBAR_WIDTH_KEY, `${value}`);\n        }\n    }\n}\n","import { CanActivate } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { of as ObservableOf } from 'rxjs';\nimport { StateService } from './state.service';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class LoadingGuard implements CanActivate {\n    constructor(private state: StateService) {}\n\n    public canActivate(): Observable<boolean> {\n        if (!this.state.loading$.getValue()) { return ObservableOf(true); }\n\n        let subject = new Subject<boolean>();\n        let subscription = this.state.loading$.subscribe(value => {\n            if (!value) {\n                subject.next(true);\n                subject.complete();\n                subscription.unsubscribe();\n            }\n        });\n\n        return subject;\n    }\n}\n","import { Router, NavigationEnd, NavigationCancel } from \"@angular/router\";\nimport { AppService } from './app/app.service';\nimport { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject } from \"rxjs\";\nimport { mergeMap, map } from \"rxjs/operators\";\nimport { forkJoin } from \"rxjs\";\nimport { AsyncDataSource } from \"@classes/async-data-source\";\nimport { History } from \"@classes/history\";\nimport { Angulartics2 } from 'angulartics2';\nimport { Angulartics2GoogleGlobalSiteTag } from 'angulartics2/gst';\nimport { environment } from '@environments/environment';\nimport * as Sentry from \"@sentry/browser\";\nimport { App } from './app/app.api';\n\n@Injectable()\nexport class StateService {\n    public loading$: BehaviorSubject<boolean> = new BehaviorSubject(true);\n    public history: History;\n\n    constructor(\n        private app: AppService,\n        private router: Router,\n        private angulartics: Angulartics2,\n        private google: Angulartics2GoogleGlobalSiteTag,\n    ) {\n        this.angulartics.settings.developerMode = !environment.production;\n        // this.google.startTracking();\n\n        this.history = new History(router);\n\n        this.app.userManager.update$.subscribe(() => {\n            this.updateLoggedInState();\n        });\n        this.app.auth.loggedIn$.subscribe(loggedIn => {\n            this.updateLoggedInState();\n        });\n        this.router.events.subscribe(event => {\n            if (event instanceof NavigationEnd || event instanceof NavigationCancel) {\n                this.redirecting = undefined;\n            }\n        });\n    }\n\n    public ngOnDestroy() {\n        this.history.shutdown();\n    }\n\n    public login(usernameOrEmail: string, password: string): Observable<App.User> {\n        return this.app.auth.userLogin(usernameOrEmail, password).pipe(mergeMap((response) => {\n            return this.app.API.getCurrentUser();\n        }), map((user: App.User) => {\n            this.app.userManager.user = user;\n            return user;\n        }));\n    }\n\n    public logout() {\n        this.history.shutdown();\n        this.app.auth.userLogout();\n    }\n\n    private loggedIn: boolean;\n\n    public isLoggedIn(): boolean {\n        return this.loggedIn;\n    }\n\n    public updateLoggedInState(url: string = undefined): boolean {\n        if (url) { this.initialRouteLoaded = true; }\n        this.loggedIn = !!this.app.userManager.user && this.app.auth.loggedIn$.value;\n        this.updateDataSource();\n        return this.updateVisibleView(url || this.router.url);\n    }\n\n    private initialRouteLoaded: boolean = false;\n    private redirecting: string;\n    private routeToLoadUponAuthenticating: string;\n    private updateVisibleView(url: string): boolean {\n        if (!this.initialRouteLoaded) { return true; }\n        if (this.redirecting) { return url === this.redirecting; }\n\n        let noauth = ['/sign-in', '/forgot-password'];\n        let state = noauth.find(o => url.indexOf(o) === 0) ? 'noauth' : 'auth';\n\n        let redirect: string = undefined;\n        if (this.loggedIn && state === 'noauth') {\n            redirect = this.routeToLoadUponAuthenticating || '/media';\n            this.routeToLoadUponAuthenticating = undefined;\n        } else if (!this.loggedIn && state === 'auth') {\n            redirect = '/sign-in';\n            this.routeToLoadUponAuthenticating = url;\n        }\n\n        if (redirect) {\n            this.redirecting = redirect;\n\n            let parts = redirect.split('?');\n            let queryParams = {};\n            if (parts.length > 1) {\n                let params = parts[1].split('&');\n                params.forEach(o => {\n                    let parts = o.split('=');\n                    queryParams[parts[0]] = parts[1];\n                });\n            }\n\n            this.router.navigate([parts[0]], { queryParams });\n            return false;\n        }\n\n        return true;\n    }\n\n    private dataSource: AsyncDataSource<Array<any>> = undefined;\n    private ignoreDataSourceUpdate: boolean = false;\n\n    private updateDataSource() {\n        if (this.ignoreDataSourceUpdate) {\n            return;\n        }\n\n        if (this.loggedIn && !this.dataSource) {\n            // the user is newly logged in.  fetch all the local data needed to\n            // run the application.\n            this.loading$.next(true);\n            this.dataSource = new AsyncDataSource<Array<any>>(() => {\n                return this.app.start();\n            });\n            this.dataSource.callback = (result) => {\n                if (result) {\n                    let user: App.User = this.app.userManager.user;\n\n                    // let instance = window.location.hostname.split('.').shift() || 'unknown';\n                    // let key = `${instance}_${user.id}`;\n\n                    // this.angulartics.setUsername.next(key);\n                    // Sentry.setUser({ id: key, email: user.email, username: key });\n\n                    this.loading$.next(false);\n                } else {\n                    this.logout();\n                }\n            }\n            this.dataSource.processor.maxRetryCount = 3;\n            this.dataSource.refresh();\n\n\n        } else if (!this.loggedIn) {\n            // the user is newly logged out.  kill all local data and stop\n            // refreshing until the user logs in again.\n            if (this.dataSource || this.loading$.getValue()) {\n                this.ignoreDataSourceUpdate = true;\n                // this.angulartics.setUsername.next(undefined);\n                // Sentry.configureScope(scope => scope.clear());\n                this.app.stop();\n                this.ignoreDataSourceUpdate = false;\n            }\n\n            if (this.dataSource) {\n                this.dataSource.callback = undefined;\n                this.dataSource.cancel();\n                this.dataSource = undefined;\n            }\n\n            if (this.loading$.getValue()) {\n                this.loading$.next(false);\n            }\n        }\n    }\n}\n","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { OnInit } from '@angular/core';\nimport { StateService } from '@services/state.service';\nimport { ClipboardService } from '@services/clipboard.service';\nimport { environment } from '@environments/environment';\n\ndeclare const Stripe: any;\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n    public loading: boolean = true;\n\n    public notificationsOptions: any = {\n        position: ['bottom', 'right'],\n        pauseOnHover: true,\n        timeOut: 15000,\n    };\n\n    @ViewChild('clipboardTarget', { static: true })\n    public clipboardTarget: ElementRef;\n\n    constructor(\n        private state: StateService,\n        private clipboard: ClipboardService) { }\n\n    public ngOnInit() {\n        Stripe.setPublishableKey(environment.stripeApiKey);\n\n        this.state.loading$.subscribe(value => {\n            this.loading = value;\n        });\n        this.clipboard.target = this.clipboardTarget;\n    }\n}\n","<div>\n    <textarea #clipboardTarget type=\"text\" style=\"position: fixed; top: -100px;\"></textarea>\n    <app-download></app-download>\n    <simple-notifications [options]=\"notificationsOptions\"></simple-notifications>\n    <div *ngIf=\"loading\" class=\"loading-overlay\">\n        <app-loading-indicator></app-loading-indicator>\n    </div>\n    <router-outlet *ngIf=\"!loading\"></router-outlet>\n</div>","import * as Sentry from \"@sentry/browser\";\nimport { environment } from '@environments/environment';\n\nimport { Angulartics2Module } from 'angulartics2';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule, Injectable, ErrorHandler, Provider } from '@angular/core';\nimport { RoutingModule } from './routing.module';\nimport { AppComponent } from './app.component';\nimport { BaseComponent } from './base/base.component';\nimport { SignInComponent } from './sign-in/sign-in/sign-in.component';\nimport { DownloadComponent } from '@common/download/download.component';\nimport { AppService } from '@services/app/app.service';\nimport { AuthGuard } from '@services/auth-guard';\nimport { AuthService } from '@services/auth.service';\nimport { DownloadService } from '@services/download.service';\nimport { LoadingGuard } from '@services/loading-guard';\nimport { StateService } from '@services/state.service';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SimpleNotificationsModule } from 'angular2-notifications';\nimport { SetTitleDirective } from '@common/set-title/set-title.directive';\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\nimport { LoadingIndicatorComponent } from '@common/loading-indicator/loading-indicator.component';\nimport { DialogModule } from 'primeng/dialog';\nimport { PopoverComponent } from '@common/popover/popover.component';\nimport { ActionIconComponent } from '@common/action-icon/action-icon.component';\nimport { InlineSVGDirective } from '@common/inline-svg/inline-svg.directive';\nimport { GuardedActionComponent } from '@common/guarded-action/guarded-action.component';\nimport { SafeHtmlPipe, SafeResourceUrlPipe } from '@common/safe-html/safe-html.pipe';\nimport { ClipboardService } from '@services/clipboard.service';\nimport { AutofocusDirective } from '@common/autofocus/autofocus.directive';\nimport { IconComponent } from '@common/icon/icon.component';\nimport { FormErrorComponent } from '@common/form-error/form-error.component';\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\nimport { LayoutService } from '@services/layout.service';\nimport { SidebarComponent } from './sidebar/sidebar.component';\nimport { HeaderComponent } from './header/header.component';\nimport { MediaListComponent } from './media/media-list/media-list.component';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { FontAwesomeModule, FaIconLibrary } from '@fortawesome/angular-fontawesome';\nimport { faSort, faSortUp, faSortDown, faChevronLeft, faExclamationTriangle, faInfoCircle, faCheckCircle, faExclamationCircle, faQuestionCircle, faTimes, faChevronDown, faCloudUpload, faClipboard, faTrash, faCog, faSignOut, faTimesCircle } from '@fortawesome/pro-duotone-svg-icons';\nimport { MediaDetailComponent } from './media/media-detail/media-detail.component';\nimport { CalendarModule } from 'primeng/calendar';\nimport { SelectionBoxComponent } from '@common/selection-box/selection-box.component';\nimport { CopyBoxComponent } from '@common/copy-box/copy-box.component';\nimport { VideoPlayerComponent } from '@common/video-player/video-player.component';\nimport { OrganizationDetailComponent } from './organization/organization-detail/organization-detail.component';\nimport { SeriesListComponent } from './series/series-list/series-list.component';\nimport { SeriesDetailComponent } from './series/series-detail/series-detail.component';\nimport { ReusableMediaListComponent } from './media/reusable-media-list/reusable-media-list.component';\nimport { SpeakerListComponent } from './speaker/speaker-list/speaker-list.component';\nimport { SpeakerDetailComponent } from './speaker/speaker-detail/speaker-detail.component';\nimport { FeedListComponent } from './feed/feed-list/feed-list.component';\nimport { FeedDetailComponent } from './feed/feed-detail/feed-detail.component';\nimport { MediaUploadComponent } from './media/media-upload/media-upload.component';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { MediaFormComponent } from './media/media-form/media-form.component';\nimport { RedirectComponent } from '@common/redirect/redirect.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { BlankComponent } from '@common/blank/blank.component';\n\n\n// @Injectable()\n// export class SentryErrorHandler implements ErrorHandler {\n//     constructor() {\n//         Sentry.init({ dsn: 'https://e159fa9ce33548c0aef9ac28c37ace12@sentry.io/1803587', release: environment.version });\n//     }\n\n//     handleError(error) {\n//         Sentry.captureException(error.originalError || error);\n//     }\n// }\n\nlet providers: Array<Provider> = [\n    AppService,\n    AuthGuard,\n    AuthService,\n    ClipboardService,\n    DownloadService,\n    LoadingGuard,\n    StateService,\n    LayoutService,\n    { provide: ErrorHandler, useFactory: getErrorHandler }\n];\n\nexport function getErrorHandler(): ErrorHandler {\n    // if (environment.production) {\n    //     return new SentryErrorHandler()\n    // }\n    return new ErrorHandler()\n}\n\n@NgModule({\n    declarations: [\n        ActionIconComponent,\n        AppComponent,\n        BaseComponent,\n        DownloadComponent,\n        GuardedActionComponent,\n        InlineSVGDirective,\n        LoadingIndicatorComponent,\n        PopoverComponent,\n        SafeHtmlPipe,\n        SafeResourceUrlPipe,\n        SetTitleDirective,\n        SignInComponent,\n        AutofocusDirective,\n        IconComponent,\n        FormErrorComponent,\n        SidebarComponent,\n        HeaderComponent,\n        MediaListComponent,\n        MediaDetailComponent,\n        SelectionBoxComponent,\n        CopyBoxComponent,\n        VideoPlayerComponent,\n        OrganizationDetailComponent,\n        SeriesListComponent,\n        SeriesDetailComponent,\n        ReusableMediaListComponent,\n        SpeakerListComponent,\n        SpeakerDetailComponent,\n        FeedListComponent,\n        FeedDetailComponent,\n        MediaUploadComponent,\n        MediaFormComponent,\n        RedirectComponent,\n        SettingsComponent,\n        BlankComponent,\n    ],\n    imports: [\n        Angulartics2Module.forRoot(),\n        BrowserAnimationsModule,\n        BrowserModule,\n        CalendarModule,\n        DialogModule,\n        FontAwesomeModule,\n        FormsModule,\n        HttpClientJsonpModule,\n        HttpClientModule,\n        InfiniteScrollModule,\n        NgxDropzoneModule,\n        ProgressSpinnerModule,\n        ReactiveFormsModule,\n        RoutingModule,\n        SimpleNotificationsModule.forRoot(),\n    ],\n    providers: providers,\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n    constructor(library: FaIconLibrary) {\n        library.addIcons(\n            faCheckCircle,\n            faChevronDown,\n            faChevronLeft,\n            faClipboard,\n            faCloudUpload,\n            faCog,\n            faExclamationCircle,\n            faExclamationTriangle,\n            faInfoCircle,\n            faSignOut,\n            faSort,\n            faSortDown,\n            faSortUp,\n            faTimes,\n            faTimesCircle,\n            faTrash,\n            faQuestionCircle);\n    }\n}\n","import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { fromEvent as ObservableFromEvent, Subscription } from \"rxjs\";\nimport { StateService } from '@services/state.service';\nimport { LayoutService } from '@services/layout.service';\nimport { UserManager } from '@services/app/managers/user.manager';\nimport { App } from '@services/app/app.api';\n\n@Component({\n    selector: 'app-base',\n    templateUrl: './base.component.html',\n    styleUrls: ['./base.component.scss']\n})\nexport class BaseComponent implements OnInit, OnDestroy {\n    public subscription: Subscription;\n\n    constructor(\n        public state: StateService,\n        public layout: LayoutService,\n    ) { }\n\n    public ngOnInit() {\n    }\n\n    public ngOnDestroy() {\n        if (this.subscription) { this.subscription.unsubscribe(); }\n    }\n\n    public get user(): App.User {\n        return UserManager.sharedInstance.user;\n    }\n}\n","<div class=\"center-container\" [class.sidebar-closed]=\"!layout.sidebarOpen\">\n    <div class=\"top-container\">\n        <app-header></app-header>\n    </div>\n    <div class=\"bottom-container\">\n        <div class=\"content-container\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, catchError, mergeMap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '@environments/environment';\n\n@Component({\n    selector: 'app-feed-detail',\n    templateUrl: './feed-detail.component.html',\n    styleUrls: ['./feed-detail.component.scss']\n})\nexport class FeedDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public feed: App.Feed;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n    public feedUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService,\n        private http: HttpClient) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('title', new FormControl(undefined));\n        this.form.addControl('subtitle', new FormControl(undefined));\n        this.form.addControl('type', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n        this.form.addControl('url', new FormControl(undefined));\n        this.form.addControl('email', new FormControl(undefined));\n        this.form.addControl('copyright', new FormControl(undefined));\n        this.form.addControl('category', new FormControl(undefined));\n        this.form.addControl('keywords', new FormControl(undefined));\n\n        const id = parseInt(this.route.snapshot.params.id);\n        const hash = this.app.hashids.encode(id);\n        const imageUrl = `https://hopestream.s3.amazonaws.com/feed/${hash}/thumbnail.jpg?t=${new Date().valueOf()}`;\n\n        forkJoin(\n            this.app.API.getFeed(id),\n            this.app.API.getAllMedia(),\n            this.app.API.getMediaIdsForFeed({ id: id } as App.Feed),\n            this.http.get(imageUrl, { responseType: 'blob' }).pipe(catchError(() => of(undefined)))\n        ).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.feed = responses[0];\n            let mediaIds = {};\n            responses[2].forEach(o => mediaIds[o] = true);\n            this.media = responses[1].filter(o => mediaIds[o.id]);\n            this.form.controls.title.setValue(this.feed.title);\n            this.form.controls.subtitle.setValue(this.feed.subtitle);\n            this.form.controls.type.setValue(this.feed.type);\n            this.form.controls.description.setValue(this.feed.description);\n            this.form.controls.url.setValue(this.feed.url);\n            this.form.controls.email.setValue(this.feed.email);\n            this.form.controls.copyright.setValue(this.feed.copyright);\n            this.form.controls.category.setValue(this.feed.category);\n            this.form.controls.keywords.setValue(this.feed.keywords);\n            this.imageUrl = responses[3] ? imageUrl : undefined;\n            this.feedUrl = `${environment.staticUrl}feed/${hash}/feed.rss`;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let feed: App.FeedUpdate = { id: this.feed.id };\n        feed.title = this.form.controls.title.value;\n        feed.subtitle = this.form.controls.subtitle.value || null;\n        feed.type = this.form.controls.type.value;\n        feed.description = this.form.controls.description.value || null;\n        feed.url = this.form.controls.url.value || null;\n        feed.email = this.form.controls.email.value || null;\n        feed.copyright = this.form.controls.copyright.value || null;\n        feed.category = this.form.controls.category.value || null;\n        feed.keywords = this.form.controls.keywords.value || null;\n\n        this.saving = true;\n        this.app.API.updateFeed(feed).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(feed => {\n            this.feed = feed;\n            this.notifications.success('Success', 'Feed details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForFeed(this.feed, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Feed image updated.', { timeOut: 5000 });\n            const hash = this.app.hashids.encode(this.feed.id);\n            this.imageUrl = `https://hopestream.s3.amazonaws.com/feed/${hash}/thumbnail.jpg?t=${new Date().valueOf()}`;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteFeed(this.feed).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/feeds']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/feeds']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Feed List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ feed.title || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Title</div>\n                        <input type=\"text\" [formControlName]=\"'title'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Type</div>\n                        <select [formControlName]=\"'type'\">\n                            <option value=\"1\">Audio Podcast</option>\n                            <option value=\"0\">Video Podcast</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Subtitle</div>\n                        <input type=\"text\" [formControlName]=\"'subtitle'\" [placeholder]=\"'Weekly messages from HopeStream'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this series...'\"></textarea>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">URL</div>\n                        <input type=\"text\" [formControlName]=\"'url'\" [placeholder]=\"'https://hopestream.com'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">E-mail</div>\n                        <input type=\"text\" [formControlName]=\"'email'\" [placeholder]=\"'marketing@hopestream.com'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Copyright</div>\n                        <input type=\"text\" [formControlName]=\"'copyright'\" [placeholder]=\"'Copyright HopeStream 2020'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Category</div>\n                        <input type=\"text\" [formControlName]=\"'category'\" [placeholder]=\"'Religion & Spirituality'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Keywords (comma-separated list, no spaces)</div>\n                <textarea [formControlName]=\"'keywords'\" rows=\"3\" [placeholder]=\"'Hope,Stream,HopeStream,Jesus,Christ,Church,...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Feed Links</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"label\">Feed</div>\n                    <app-copy-box [text]=\"feedUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Feed</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this feed.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this feed. This will simply delete the feed, and those media records will no longer be associated with this feed.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Feed\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Feed</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ feed?.title || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this feed. This will simply delete the feed, and those media records will no longer be associated with this feed.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface FeedListEntry {\n    id: number;\n    type: string;\n    title: string;\n    subtitle: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-feed-list',\n    templateUrl: './feed-list.component.html',\n    styleUrls: ['./feed-list.component.scss']\n})\nexport class FeedListComponent {\n    public Utility = Utility;\n\n    public feeds: Array<App.Feed>;\n\n    public entries: Array<FeedListEntry> = [];\n    public filtered: Array<FeedListEntry> = [];\n\n    public loaded: Array<FeedListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllFeeds().subscribe(feeds => {\n            this.feeds = feeds;\n\n            this.entries = this.feeds.map(o => {\n                let result: FeedListEntry = {\n                    id: o.id,\n                    type: o.type ? 'Audio Podcast' : 'Video Podcast',\n                    title: o.title || 'Untitled',\n                    subtitle: o.subtitle || '',\n                };\n                result.search = `${result.type}${result.title}${result.subtitle}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'id';\n            this.ascending = false;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: FeedListEntry, b: FeedListEntry) => {\n            return a.id - b.id;\n        },\n        type: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.type || 'zzz').toLowerCase().trim();\n            const B = (b.type || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        title: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.title || 'zzz').toLowerCase().trim();\n            const B = (b.title || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        subtitle: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.subtitle || 'zzz').toLowerCase().trim();\n            const B = (b.subtitle || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddFeed() {\n        this.creating = true;\n        this.app.API.createFeed().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(feed => {\n            this.router.navigate(['/feeds', feed.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Feeds</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddFeed()\">Add Feed</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'feed' : 'feeds' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'feed' : 'feeds' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Type</div>\n                            <app-action-icon\n                                [active]=\"sort === 'type'\"\n                                [icon]=\"sort !== 'type' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('type')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                    <th style=\"width: 300px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Title</div>\n                            <app-action-icon\n                                [active]=\"sort === 'title'\"\n                                [icon]=\"sort !== 'title' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('title')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Subtitle</div>\n                            <app-action-icon\n                                [active]=\"sort === 'subtitle'\"\n                                [icon]=\"sort !== 'subtitle' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('subtitle')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        {{ entry.type }}\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/feeds', entry.id]\">\n                            {{ entry.title }}\n                        </a>\n                    </td>\n                    <td>\n                        {{ entry.subtitle }}\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!feeds || !feeds.length\">\n            <div *ngIf=\"feeds\">No feeds available.</div>\n            <app-loading-indicator *ngIf=\"!feeds\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","import { Component } from \"@angular/core\";\nimport { Router } from '@angular/router';\nimport { StateService } from '@services/state.service';\nimport { UserManager } from '@services/app/managers/user.manager';\nimport { App } from '@services/app/app.api';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { HideAllPopovers } from '@common/popover/popover.component';\n\n@Component({\n    selector: 'app-header',\n    templateUrl: './header.component.html',\n    styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent {\n    public get user(): App.User { return UserManager.sharedInstance.user; }\n    public get organization(): App.Organization { return OrganizationManager.sharedInstance.organization; }\n\n    constructor(public router: Router, private state: StateService) { }\n\n    public onViewSettings() {\n        HideAllPopovers();\n        this.router.navigate(['/settings']);\n    }\n\n    public onLogOut() {\n        this.state.logout();\n    }\n}\n","<div class=\"item logo\">\n    <img src=\"assets/images/hopestream-logo.png\">\n</div>\n<a [routerLink]=\"['/church']\" class=\"item\" [class.active]=\"router.url.startsWith('/church')\">\n    Church\n</a>\n<a [routerLink]=\"['/media']\" class=\"item\" [class.active]=\"router.url.startsWith('/media') || router.url.startsWith('/upload')\">\n    Media\n</a>\n<a [routerLink]=\"['/series']\" class=\"item\" [class.active]=\"router.url.startsWith('/series')\">\n    Series\n</a>\n<a [routerLink]=\"['/speakers']\" class=\"item\" [class.active]=\"router.url.startsWith('/speakers')\">\n    Speakers\n</a>\n<a [routerLink]=\"['/feeds']\" class=\"item\" [class.active]=\"router.url.startsWith('/feeds')\">\n    Feeds\n</a>\n<div class=\"spacer\"></div>\n<div class=\"item\" #popoverTarget (click)=\"popover.toggle($event)\">\n    {{ organization.name }}\n</div>\n\n<app-popover #popover my=\"top right\" at=\"bottom right\" [x-offset]=\"-10\" [y-offset]=\"-8\" [target]=\"popoverTarget\">\n    <div class=\"popover-section popover-section-with-icons\">\n        <div class=\"popover-item\"><strong>{{ organization.name }}</strong></div>\n        <div class=\"popover-item\">{{ user.name }}</div>\n        <div class=\"popover-item popover-item-divider\"></div>\n        <div class=\"popover-item popover-item-button\" (click)=\"onViewSettings()\">\n            <div class=\"popover-item-icon\">\n                <fa-icon [icon]=\"['fad', 'cog']\"></fa-icon>\n            </div>\n            Settings\n        </div>\n        <div class=\"popover-item popover-item-button\" (click)=\"onLogOut()\">\n            <div class=\"popover-item-icon\">\n                <fa-icon [icon]=\"['fad', 'sign-out']\"></fa-icon>\n            </div>\n            Log Out\n        </div>\n    </div>\n</app-popover>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, map, mergeMap, tap, catchError } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { SelectionBoxItem } from '@common/selection-box/selection-box.component';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\nimport { FeedManager } from '@services/app/managers/feed.manager';\nimport { TopicManager } from '@services/app/managers/topic.manager';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of, Observable } from 'rxjs';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { environment } from '@environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n    selector: 'app-media-detail',\n    templateUrl: './media-detail.component.html',\n    styleUrls: ['./media-detail.component.scss']\n})\nexport class MediaDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public media: App.Media;\n    public series: App.Series;\n\n    public hash: string;\n    public videoPlayerUrl: string;\n    public videoStreamUrl: string;\n    public videoFileDefaultUrl: string;\n    public videoFileSourceUrl: string;\n    public audioFileUrl: string;\n    public captionUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService,\n        private http: HttpClient) { }\n\n    public ngOnInit() {\n        const id = parseInt(this.route.snapshot.params.id);\n        const hash = this.app.hashids.encode(id);\n        const captionUrl = `https://hopestream.s3.amazonaws.com/media/${hash}/captions-en.vtt?t=${new Date().valueOf()}`;\n\n        forkJoin(\n            this.app.API.getMedia(id),\n            this.http.get(captionUrl, { responseType: 'blob' }).pipe(catchError(() => of(undefined)))\n        ).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.media = responses[0];\n            this.series = this.media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === this.media.seriesId) : undefined;\n\n            this.hash = hash;\n            this.videoPlayerUrl = `${environment.playerUrl}?id=${this.hash}`;\n            this.videoStreamUrl = `${environment.staticUrl}media/${this.hash}/master.m3u8`;\n            this.videoFileDefaultUrl = `${environment.staticUrl}media/${this.hash}/video-default.mp4`;\n            this.videoFileSourceUrl = `${environment.staticUrl}media/${this.hash}/video-source.mp4`;\n            this.audioFileUrl = `${environment.staticUrl}media/${this.hash}/audio.mp3`;\n            this.captionUrl = responses[1] ? `${environment.staticUrl}media/${this.hash}/captions-en.vtt` : undefined;\n        });\n    }\n\n    public onMediaChange(media: App.Media) {\n        this.media = media;\n        this.series = media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === media.seriesId) : undefined;\n    }\n\n    public onReplaceMedia() {\n        this.router.navigate(['/upload', this.media.id]);\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteMedia(this.media).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/media']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onCaptionFileSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadCaptionFileForMedia(this.media, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Caption file uploaded.', { timeOut: 5000 });\n            this.captionUrl = `${environment.staticUrl}media/${this.hash}/captions-en.vtt`;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/media']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Media\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media.name || 'Untitled' }}\n        </div>\n        <div class=\"subtitle\">\n            <div class=\"status\">\n                <div class=\"{{ Utility.StatusToClass(media.status) }}\">\n                    <fa-icon [icon]=\"['fad', Utility.StatusToIcon(media.status)]\"></fa-icon>\n                    {{ Utility.StatusToText(media.status) }}\n                </div>\n            </div>\n            <div class=\"date\">\n                {{ media.date | date:'mediumDate' }} - {{ media.date | date:'EEEE h:mm a' }}\n            </div>\n        </div>\n    </div>\n\n    <app-media-form [media]=\"media\" (mediaChange)=\"onMediaChange($event)\"></app-media-form>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\" *ngIf=\"media.type === 0\">\n                <div class=\"image-content-col\">\n                    <app-video-player\n                        [url]=\"media.status === 3 ? videoPlayerUrl : undefined\"\n                        [error]=\"media.status === 0 ? 'Your media is currently uploading.' : (media.status === 4 ? 'Please upload your media content again.' : 'Preview will be available once your media is finished processing.')\">\n                    </app-video-player>\n                    <div class=\"title\"></div>\n                </div>\n            </div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"label\">Hash Id</div>\n                    <app-copy-box [text]=\"hash\"></app-copy-box>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"media.type === 0\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Video Links</div>\n                    <div class=\"label\">Video Player</div>\n                    <app-copy-box [text]=\"videoPlayerUrl\"></app-copy-box>\n                    <div class=\"label\">Video Stream</div>\n                    <app-copy-box [text]=\"videoStreamUrl\"></app-copy-box>\n                    <div class=\"label\">Video File (Shareable)</div>\n                    <app-copy-box [text]=\"videoFileDefaultUrl\"></app-copy-box>\n                    <div class=\"label\">Video File (Full Resolution)</div>\n                    <app-copy-box [text]=\"videoFileSourceUrl\"></app-copy-box>\n                </div>\n            </div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Audio Links</div>\n                    <div class=\"label\">Audio File</div>\n                    <app-copy-box [text]=\"audioFileUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Captions</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"text/vtt\" (change)=\"onCaptionFileSelected($event); input.value = null;\">\n                        <div>Upload a caption file for this media.</div>\n                        <div>File must be in <strong>.vtt</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload File\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Caption File</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"captionUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Caption Links</div>\n                    <div class=\"label\">English</div>\n                    <app-copy-box [text]=\"captionUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Replace Media</div>\n                    <div class=\"image-upload-container\">\n                        <div>Upload a new version of this media. This will replace the content but keep the same unique URLs for the video and audio files.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> Uploaded media will need to be processed before it is available for streaming and download.</div>\n                        <button class=\"button\" (click)=\"onReplaceMedia()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Replace Media\n                        </button>\n                    </div>\n                </div>\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Media</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this media including all video and audio files.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will delete the media record and remove it from all feeds. Video and audio files will be deleted within 24 hours.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Media\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Media</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will delete the media record and remove it from all feeds. Video and audio files will be deleted within 24 hours.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute } from '@angular/router';\nimport { finalize, map, mergeMap, tap } from 'rxjs/operators';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { SelectionBoxItem } from '@common/selection-box/selection-box.component';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\nimport { FeedManager } from '@services/app/managers/feed.manager';\nimport { TopicManager } from '@services/app/managers/topic.manager';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of, Observable } from 'rxjs';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\n\n@Component({\n    selector: 'app-media-form',\n    templateUrl: './media-form.component.html',\n    styleUrls: ['./media-form.component.scss']\n})\nexport class MediaFormComponent implements OnInit {\n    @Input()\n    public media: App.Media;\n\n    @Output()\n    public mediaChange = new EventEmitter<App.Media>();\n\n    public hash: string;\n    public series: App.Series;\n\n    public form: FormGroup;\n    public seriesItems: Array<SelectionBoxItem> = [];\n    public speakerItems: Array<SelectionBoxItem> = [];\n    public includeItems: Array<SelectionBoxItem> = [];\n    public topicItems: Array<SelectionBoxItem> = [];\n\n    public imageUrl: string;\n    public seriesImageUrl: string;\n    public organizationImageUrl: string;\n\n    constructor(private app: AppService, private route: ActivatedRoute, private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined, [Validators.required]));\n        this.form.addControl('date', new FormControl(undefined));\n        this.form.addControl('seriesIds', new FormControl(undefined));\n        this.form.addControl('speakerIds', new FormControl(undefined));\n        this.form.addControl('includeIds', new FormControl(undefined));\n        this.form.addControl('topicIds', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let series: Array<App.Series> = SeriesManager.sharedInstance.series;\n        let speakers: Array<App.Speaker> = SpeakerManager.sharedInstance.speakers;\n        let topics: Array<App.Topic> = TopicManager.sharedInstance.topics;\n\n        this.seriesItems = series.sort((a, b) => {\n            let A = (a.name || 'Untitled').trim().toLowerCase();\n            let B = (b.name || 'Untitled').trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.name || 'Untitled',\n                value: o.id,\n                data: o,\n            };\n        });\n\n        this.speakerItems = speakers.sort((a, b) => {\n            let A = (a.name || 'Untitled').trim().toLowerCase();\n            let B = (b.name || 'Untitled').trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.name || 'Untitled',\n                value: o.id,\n                data: o,\n            };\n        });\n\n        let topicsByCategory: { [key: string]: Array<App.Topic> } = {};\n        topics.forEach(o => {\n            if (!topicsByCategory[o.category]) { topicsByCategory[o.category] = []; }\n            topicsByCategory[o.category].push(o);\n        });\n\n        this.topicItems = (Object.keys(topicsByCategory).sort((a, b) => {\n            let A = a.trim().toLowerCase();\n            let B = b.trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(key => {\n            return topicsByCategory[key].sort((a, b) => {\n                let A = (a.name || '').trim().toLowerCase();\n                let B = (b.name || '').trim().toLowerCase();\n                return (A < B ? -1 : (A > B ? 1 : 0));\n            }).map((o, index) => {\n                return {\n                    display: o.name,\n                    header: o.category,\n                    value: o.id,\n                    data: o,\n                };\n            });\n        }) as any).flat();\n\n        let feeds: Array<App.Feed> = FeedManager.sharedInstance.feeds.concat();\n        feeds = feeds.map(o => { return { ...o, title: `${o.title || 'Untitled'} - ${o.type === 1 ? 'Audio' : 'Video'} Podcast` }; });\n        feeds.push({ id: -1, title: 'HopeStream Mobile App' } as any);\n        feeds.push({ id: -2, title: 'YouTube' } as any);\n\n        this.includeItems = feeds.sort((a, b) => {\n            let A = a.title.trim().toLowerCase();\n            let B = b.title.trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.title,\n                value: o.id,\n                data: o,\n            };\n        });\n\n        this.updateLastKnownIncludeIds();\n\n        this.hash = this.app.hashids.encode(this.media.id);\n        this.series = this.media.seriesId ? this.seriesItems.find(o => o.value === this.media.seriesId).data : undefined;\n\n        this.form.controls.name.setValue(this.media.name);\n        this.form.controls.date.setValue(this.media.date);\n        this.form.controls.seriesIds.setValue(this.media.seriesId ? [this.media.seriesId] : undefined);\n        this.form.controls.speakerIds.setValue(this.media.speakerIds);\n        this.form.controls.includeIds.setValue(this.lastKnownIncludeIds.concat());\n        this.form.controls.topicIds.setValue(this.media.topicIds);\n        this.form.controls.description.setValue(this.media.description);\n\n        const organization = OrganizationManager.sharedInstance.organization;\n        this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        this.seriesImageUrl = this.series?.thumbnailUrl ? `${this.series.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        this.organizationImageUrl = organization.thumbnailUrl ? `${organization.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n    }\n\n    private lastKnownIncludeIds: Array<number> = [];\n    private updateLastKnownIncludeIds() {\n        let lastKnownIncludeIds: Array<number> = FeedManager.sharedInstance.feeds.filter(o => o.mediaIds.indexOf(this.media.id) >= 0).map(o => o.id);\n        if (!this.media.hidden) { lastKnownIncludeIds.unshift(-1); }\n        if (this.media.youtubeStatus) { lastKnownIncludeIds.unshift(-2); }\n        this.lastKnownIncludeIds = lastKnownIncludeIds;\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let series = (this.form.controls.seriesIds.value || []);\n        let speakers = (this.form.controls.speakerIds.value || []);\n        let topics = (this.form.controls.topicIds.value || []);\n        let includes = (this.form.controls.includeIds.value || []);\n\n        // update media\n        let media: App.MediaUpdate = { id: this.media.id };\n        media.name = this.form.controls.name.value;\n        media.date = this.form.controls.date.value;\n        media.description = this.form.controls.description.value || null;\n        media.seriesId = series.length ? series[0] : null;\n        media.speakerIds = speakers.length ? speakers : null;\n        media.topicIds = topics.length ? topics : null;\n        media.hidden = (includes.indexOf(-1) < 0);\n\n        // very carefully determine if the youtube status needs to be updated\n        const willIncludeInYouTube = !!includes.filter(o => o === -2).length;\n        const didIncludeInYouTube = !!this.lastKnownIncludeIds.filter(o => o === -2).length;\n        if (willIncludeInYouTube !== didIncludeInYouTube) {\n            media.youtubeStatus = willIncludeInYouTube ? (this.media.youtubeId ? 'complete' : 'queued') : null;\n            console.log(\"YouTube Status Changed: \", willIncludeInYouTube ? (this.media.youtubeId ? 'complete' : 'queued') : null);\n        }\n        if (willIncludeInYouTube) { media.youtubeMetadataUpdate = true; }\n\n        // update feeds\n        let before = this.lastKnownIncludeIds.filter(o => o >= 0);\n        let after = includes.filter(o => o >= 0);\n        let remove = before.filter(o => after.indexOf(o) < 0);\n        let add = after.filter(o => before.indexOf(o) < 0);\n\n        let updates: Array<Observable<void>> = remove.map(o => {\n            return this.app.API.removeMediaIdFromFeed({ id: o } as App.Feed, this.media.id);\n        }).concat(add.map(o => {\n            return this.app.API.addMediaIdToFeed({ id: o } as App.Feed, this.media.id);\n        }));\n        if (!updates.length) { updates = [of(1).pipe(map(() => { }))]; }\n\n        this.saving = true;\n        forkJoin(this.app.API.updateMedia(media), updates).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(responses => {\n            remove.forEach(o => {\n                let feed = FeedManager.sharedInstance.feeds.find(feed => feed.id === o);\n                feed.mediaIds = feed.mediaIds.filter(o => o !== this.media.id);\n            });\n            add.forEach(o => {\n                let feed = FeedManager.sharedInstance.feeds.find(feed => feed.id === o);\n                feed.mediaIds.push(this.media.id);\n            });\n\n            this.media = responses[0];\n            this.series = this.media.seriesId ? this.seriesItems.find(o => o.value === this.media.seriesId).data : undefined;\n            this.seriesImageUrl = this.series?.thumbnailUrl ? `${this.series.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n            this.updateLastKnownIncludeIds();\n            this.mediaChange.emit(this.media);\n\n            this.notifications.success('Success', 'Media details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForMedia(this.media, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public selectingSeries: boolean = false;\n\n    public onSeriesImageSelected() {\n        this.selectingSeries = true;\n        this.app.API.setMediaImageToSeries(this.media, this.series).pipe(finalize(() => {\n            this.selectingSeries = false;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem updating.');\n        });\n    }\n\n    public selectingOrganization: boolean = false;\n\n    public onOrganizationImageSelected() {\n        this.selectingOrganization = true;\n        this.app.API.setMediaImageToOrganization(this.media, OrganizationManager.sharedInstance.organization).pipe(finalize(() => {\n            this.selectingOrganization = false;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem updating.');\n        });\n    }\n}\n","<div class=\"content-section\">\n    <div class=\"title\">Details</div>\n\n    <form [formGroup]=\"form\">\n        <div class=\"column-container\">\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Name<span class=\"required\">*</span></div>\n                    <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    <app-form-error [control]=\"form.controls.name\" [messages]=\"{ required: 'Name is required.' }\"></app-form-error>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Date</div>\n                    <p-calendar [formControlName]=\"'date'\" [showTime]=\"true\" [hourFormat]=\"'12'\" [placeholder]=\"'dd/MM/yyyy hh:mm a'\"></p-calendar>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Series</div>\n                    <app-selection-box [items]=\"seriesItems\" [max]=\"1\" [itemTemplate]=\"seriesItemTemplate\" [formControlName]=\"'seriesIds'\" [placeholder]=\"'Add Series...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #seriesItemTemplate>\n                        <div class=\"series-item-container\">\n                            <div class=\"series-item-image\" [class.placeholder]=\"!item.data.thumbnailUrl\">\n                                <img *ngIf=\"item.data.thumbnailUrl\" [src]=\"item.data.thumbnailUrl\" />\n                            </div>\n                            <div class=\"series-item-label\">{{ item.display }}</div>\n                        </div>\n                    </ng-template>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Speakers</div>\n                    <app-selection-box [items]=\"speakerItems\" [max]=\"2\" [itemTemplate]=\"speakerItemTemplate\" [formControlName]=\"'speakerIds'\" [placeholder]=\"'Add Speaker...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #speakerItemTemplate>\n                        <div class=\"speaker-item-container\">\n                            <div class=\"speaker-item-image\" [class.placeholder]=\"!item.data.thumbnailUrl\">\n                                <img *ngIf=\"item.data.thumbnailUrl\" [src]=\"item.data.thumbnailUrl\" />\n                            </div>\n                            <div class=\"speaker-item-label\">{{ item.display }}</div>\n                        </div>\n                    </ng-template>\n                </div>\n            </div>\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Included In</div>\n                    <app-selection-box [items]=\"includeItems\" [itemTemplate]=\"includeItemTemplate\" [formControlName]=\"'includeIds'\" [placeholder]=\"'Add To...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #includeItemTemplate>\n                        <div class=\"include-item-label\">{{ item.display }}</div>\n                    </ng-template>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Topics</div>\n                    <app-selection-box [items]=\"topicItems\" [max]=\"3\" [itemTemplate]=\"topicItemTemplate\" [formControlName]=\"'topicIds'\" [placeholder]=\"'Add Topic...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #topicItemTemplate>\n                        <div class=\"topic-item-label\">{{ item.display }}</div>\n                    </ng-template>\n                </div>\n            </div>\n        </div>\n        <div class=\"input-container\">\n            <div class=\"label\">Description</div>\n            <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this media file...'\"></textarea>\n        </div>\n    </form>\n\n    <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Image</div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col image-content-col-third\">\n                <div class=\"image-upload-container\">\n                    <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                    <div>Upload an image for this media.</div>\n                    <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                    <ng-container *ngIf=\"!uploading\">\n                        <button class=\"button\" (click)=\"input.click()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                        </button>\n                    </ng-container>\n\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Image</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"image-content-col\">\n                <div class=\"image-container\">\n                    <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                    <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                </div>\n            </div>\n        </div>\n        <ng-container *ngIf=\"seriesImageUrl || organizationImageUrl\">\n            <div class=\"image-content-row\">or choose one:</div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third image-selector\" *ngIf=\"seriesImageUrl\">\n                    <div class=\"label\">Series Image</div>\n                    <div class=\"image-container\">\n                        <img [src]=\"seriesImageUrl\" />\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"selectingSeries\" (click)=\"onSeriesImageSelected()\">Select</button>\n                </div>\n                <div class=\"image-content-col image-content-col-third image-selector\" *ngIf=\"organizationImageUrl\">\n                    <div class=\"label\">Church Image</div>\n                    <div class=\"image-container\">\n                        <img [src]=\"organizationImageUrl\" />\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"selectingOrganization\" (click)=\"onOrganizationImageSelected()\">Select</button>\n                </div>\n            </div>\n        </ng-container>\n        <div class=\"image-content-row\" *ngIf=\"media.imageUrl\">\n            <div class=\"image-content-col\">\n                <div class=\"title\">Image Links</div>\n                <div class=\"label\">Image</div>\n                <app-copy-box [text]=\"media.imageUrl\"></app-copy-box>\n                <div class=\"label\">Thumbnail</div>\n                <app-copy-box [text]=\"media.thumbnailUrl\"></app-copy-box>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-media-list',\n    templateUrl: './media-list.component.html',\n    styleUrls: ['./media-list.component.scss']\n})\nexport class MediaListComponent {\n    public media: Array<App.Media>;\n\n    constructor(private app: AppService, private router: Router) { }\n\n    public ngOnInit() {\n        this.app.API.getAllMedia().subscribe(media => {\n            this.media = media;\n        });\n    }\n\n    public onAddMedia() {\n        this.router.navigate(['/upload']);\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"mediaList.onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Media</div>\n        <button class=\"button\" (click)=\"onAddMedia()\">Add Media</button>\n    </div>\n\n    <app-reusable-media-list #mediaList\n        [media]=\"media\">\n    </app-reusable-media-list>\n</div>","import { Component } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { tap, mergeMap } from 'rxjs/operators';\nimport { throwError, Observable, of } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { SeriesManager } from '@services/app/managers/series.manager';\n\n@Component({\n    selector: 'app-media-upload',\n    templateUrl: './media-upload.component.html',\n    styleUrls: ['./media-upload.component.scss']\n})\nexport class MediaUploadComponent {\n    public readonly acceptedFileTypes =\n        '.3g2,.3gp,.4xm,.aac,.ac3,.act,.adf,.adp,.adx,.aea,.afc,.aiff,.alaw,.amr,.anm,.apc,' +\n        '.ape,.aqtitle,.asf,.ass,.ast,.au,.avi,.avr,.avs,.bethsoftvid,.bfi,.bin,.bink,.bit,.bmv,.boa,.brstm,' +\n        '.c93,.caf,.cavsvideo,.cdg,.cdxl,.concat,.data,.daud,.dfa,.dirac,.dnxhd,.dsicin,.dts,.dtshd,.dv,.dv1394,' +\n        '.dxa,.ea,.eac3,.ea_cdata,.epaf,.f32be,.f32le,.f64be,.f64le,.fbdev,.ffm,.ffmetadata,.filmstrip,' +\n        '.film_cpk,.flac,.flic,.flv,.frm,.g722,.g723_1,.g729,.gif,.gsm,.gxf,.h261,.h263,.h264,.hevc,.hls,' +\n        '.applehttp,.hnm,.ico,.idcin,.idf,.iff,.ilbc,.image2,.image2pipe,.ingenient,.ipmovie,.ircam,.iss,.iv8,' +\n        '.ivf,.jacosub,.jv,.latm,.lavfi,.lmlm4,.loas,.lvf,.lxf,.m4a,.m4v,.matroska,.webm,.mgsts,.microdvd,.mj2,' +\n        '.mjpeg,.mlp,.mm,.mmf,.mov,.mp3,.mp4,.mpc,.mpc8,.mpeg,.mpegts,.mpegtsraw,.mpegvideo,.mpl2,.mpsub,' +\n        '.msnwctcp,.mtv,.mulaw,.mv,.mvi,.mxf,.mxg,.nc,.nistsphere,.nsv,.nut,.nuv,.ogg,.oma,.oss,.paf,.pjs,.pmp,' +\n        '.psxstr,.pva,.pvf,.qcp,.r3d,.rawvideo,.realtext,.redspark,.rl2,.rm,.roq,.rpl,.rsd,.rso,.rtp,.rtsp,.s8,' +\n        '.s16be,.s16le,.s24be,.s24le,.s32be,.s32le,.sami,.sap,.sbg,.sdp,.shn,.siff,.smjpeg,.smk,.smush,.sol,.sox,' +\n        '.spdif,.srt,.subviewer,.subviewer1,.swf,.tak,.tedcaptions,.thp,.tiertexseq,.tmv,.truehd,.tta,.tty,.txd,' +\n        '.u8,.u16be,.u16le,.u24be,.u24le,.u32be,.u32le,.v4l2,.vc1,.vc1test,.video4linux2,.vivo,.vmd,.vobsub,.voc,' +\n        '.vplayer,.vqf,.w64,.wav,.wc3movie,.webvtt,.wsaud,.wsvqa,.wtv,.wv,.xa,.xbin,.xmv,.xwma,.yop,.yuv4mpegpipe';\n\n    public mediaId: number;\n    public media: App.Media;\n    public series: App.Series;\n    public shouldShowMediaForm: boolean = false;\n\n    public uploading: File;\n    public progress: number = 0;\n    public complete: boolean = false;\n    public error: boolean = false;\n\n    constructor(private app: AppService, private route: ActivatedRoute) { }\n\n    public ngOnInit() {\n        this.mediaId = parseInt(this.route.snapshot.params.id || '0');\n        if (this.mediaId) {\n            this.app.API.getMedia(this.mediaId).subscribe(media => {\n                this.media = media;\n                this.series = media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === media.seriesId) : undefined;\n            });\n        }\n    }\n\n    public onFileSelected(event: any) {\n        console.log(event);\n        if (!event.addedFiles?.length) { return; }\n\n        this.uploading = event.addedFiles[0];\n        this.progress = 0;\n        this.complete = false;\n        this.error = false;\n\n        let createMedia: Observable<App.Media> = this.media ? of(this.media) : (this.mediaId ? this.app.API.getMedia(this.mediaId) : this.app.API.createMedia());\n        createMedia.pipe(mergeMap(media => {\n            this.media = media;\n            this.shouldShowMediaForm = true;\n\n            return this.app.API.uploadFileForMedia(this.media, this.uploading, progress => {\n                this.progress = progress;\n            });\n        }), mergeMap(() => {\n            return this.app.API.updateMediaStatus(this.media, 1);\n        })).subscribe(o => {\n            this.progress = 1;\n            this.complete = true;\n        }, error => {\n            console.log('Error: ', error);\n            this.error = true;\n        });\n    }\n\n    public onRetryUpload() {\n        this.uploading = undefined;\n        this.progress = 0;\n        this.error = false;\n        this.complete = false;\n    }\n}\n","<div class=\"header-container\">\n    <ng-container *ngIf=\"mediaId\">\n        <div class=\"title\">Replace Media</div>\n        <div>\n            You are uploading a replacement for <strong>{{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media ? media.name || 'Untitled' : '' }}</strong>.\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"!mediaId\">\n        <div class=\"title\">Add Media</div>\n        <div>\n            You are uploading a new media file.\n        </div>\n    </ng-container>\n</div>\n\n<ng-container *ngIf=\"!uploading\">\n    <ngx-dropzone #drop (change)=\"onFileSelected($event)\" [disabled]=\"uploading\" [multiple]=\"false\" [accept]=\"acceptedFileTypes\">\n        <div class=\"dropzone-message\">\n            <button class=\"button\">Select Media File To Upload</button>\n            <div>or drag and drop a media file here</div>\n        </div>\n    </ngx-dropzone>\n</ng-container>\n\n<div class=\"content-section\" *ngIf=\"uploading\">\n    <div class=\"title\">\n        Media Upload\n        <fa-icon *ngIf=\"complete\" class=\"success\" [icon]=\"['fad', 'check-circle']\"></fa-icon>\n        <fa-icon *ngIf=\"error\" class=\"error\" [icon]=\"['fad', 'exclamation-circle']\"></fa-icon>\n    </div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col\">\n                <ng-container *ngIf=\"!complete && !error\">\n                    <div><strong>Your media file is now uploading...</strong></div>\n                    <div>Please remain on this page until the upload has completed. You may update your media details below.</div>\n                </ng-container>\n                <ng-container *ngIf=\"complete\">\n                    <div><strong>Your media file upload is complete!</strong></div>\n                    <div>View the <a [routerLink]=\"['/media', media.id]\">media page</a> to see additional details and status.</div>\n                </ng-container>\n                <ng-container *ngIf=\"error\">\n                    <div><strong>Your media file upload has failed.</strong></div>\n                    <div>Click here to <a (click)=\"onRetryUpload()\">retry the upload</a>.</div>\n                </ng-container>\n            </div>\n        </div>\n        <div class=\"image-content-row\" *ngIf=\"!complete && !error\">\n            <div class=\"image-content-col\">\n                <div class=\"image-upload-container\">\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Media File</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-container *ngIf=\"shouldShowMediaForm\">\n    <app-media-form [media]=\"media\"></app-media-form>\n</ng-container>","import { Component, LOCALE_ID, Inject, Input, OnChanges } from \"@angular/core\";\nimport { App } from '@services/app/app.api';\nimport { formatDate } from '@angular/common';\nimport { Utility } from '@classes/utility';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\n\ninterface MediaListEntry {\n    id: number;\n    date: Date;\n    dateString: string;\n    timeString: string;\n    series: string;\n    name: string;\n    fullName: string;\n    speakers: Array<string>;\n    status: number;\n    statusString: string;\n    statusColor: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-reusable-media-list',\n    templateUrl: './reusable-media-list.component.html',\n    styleUrls: ['./reusable-media-list.component.scss']\n})\nexport class ReusableMediaListComponent implements OnChanges {\n    public Utility = Utility;\n\n    @Input()\n    public media: Array<App.Media>;\n\n    private seriesById: { [key: number]: App.Series } = {};\n    private speakerById: { [key: number]: App.Speaker } = {};\n\n    public entries: Array<MediaListEntry> = [];\n    public filtered: Array<MediaListEntry> = [];\n    public loaded: Array<MediaListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(@Inject(LOCALE_ID) public locale: string) {\n        SeriesManager.sharedInstance.series.forEach(o => this.seriesById[o.id] = o);\n        SpeakerManager.sharedInstance.speakers.forEach(o => this.speakerById[o.id] = o);\n    }\n\n    public ngOnChanges() {\n        this.entries = (this.media || []).map(o => {\n            const series: string = o.seriesId && this.seriesById[o.seriesId] ? this.seriesById[o.seriesId].name : undefined;\n\n            let result: MediaListEntry = {\n                id: o.id,\n                date: o.date,\n                dateString: formatDate(o.date, 'mediumDate', this.locale),\n                timeString: formatDate(o.date, 'EEEE h:mm a', this.locale),\n                series: series,\n                name: o.name || 'Untitled',\n                fullName: `${series ? series + ' - ' : ''}${o.name || 'Untitled'}`,\n                speakers: (o.speakerIds || []).map(o => this.speakerById[o].name),\n                status: o.status,\n                statusString: Utility.StatusToText(o.status),\n                statusColor: '#42C75D',\n            };\n            result.search = `${result.dateString}${result.timeString}${result.fullName}${result.speakers.join()}${result.statusString}`.toLowerCase();\n            return result;\n        });\n\n        this.sort = 'id';\n        this.ascending = false;\n        this.updateEntries();\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: MediaListEntry, b: MediaListEntry) => {\n            return a.id - b.id;\n        },\n        date: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.date; const B = b.date;\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        name: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = (a.fullName || 'zzz').toLowerCase().trim();\n            const B = (b.fullName || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        speakers: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.speakers.length ? a.speakers[0].toLowerCase().trim() : 'zzz';\n            const B = b.speakers.length ? b.speakers[0].toLowerCase().trim() : 'zzz';\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        status: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.status; const B = b.status;\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n}\n","<div class=\"content\">\n    <div class=\"options-container\">\n        <ng-container *ngIf=\"filtered.length\">\n            <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'media file' : 'media files' }}</div>\n            <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'media file' : 'media files' }}</div>\n        </ng-container>\n        <div class=\"spacer\"></div>\n        <div class=\"search\">\n            <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n        </div>\n    </div>\n    <div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" (scrolled)=\"onLoadMoreRows()\">\n        <table>\n            <tr>\n                <th style=\"width: 160px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Date</div>\n                        <app-action-icon\n                            [active]=\"sort === 'date'\"\n                            [icon]=\"sort !== 'date' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('date')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th>\n                    <div class=\"header\">\n                        <div class=\"name\">Name</div>\n                        <app-action-icon\n                            [active]=\"sort === 'name'\"\n                            [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('name')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th style=\"width: 200px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Speakers</div>\n                        <app-action-icon\n                            [active]=\"sort === 'speakers'\"\n                            [icon]=\"sort !== 'speakers' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('speakers')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th style=\"width: 140px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Status</div>\n                        <app-action-icon\n                            [active]=\"sort === 'status'\"\n                            [icon]=\"sort !== 'status' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('status')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n            </tr>\n            <tr *ngFor=\"let entry of loaded\">\n                <td>\n                    <div class=\"date\">{{ entry.dateString }}</div>\n                    <div class=\"time\">{{ entry.timeString }}</div>\n                </td>\n                <td>\n                    <a [routerLink]=\"['/media', entry.id]\">\n                        <ng-container *ngIf=\"entry.series\">\n                            {{ entry.series }} -\n                        </ng-container>\n                        {{ entry.name }}\n                    </a>\n                </td>\n                <td>\n                    <div *ngFor=\"let speaker of entry.speakers\">\n                        {{ speaker }}\n                    </div>\n                </td>\n                <td>\n                    <div class=\"{{ Utility.StatusToClass(entry.status) }}\">\n                        <fa-icon [icon]=\"['fad', Utility.StatusToIcon(entry.status)]\"></fa-icon>\n                        {{ entry.statusString }}\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class=\"loading-container\" *ngIf=\"!media || !media.length\">\n        <div *ngIf=\"media\">No media available.</div>\n        <app-loading-indicator *ngIf=\"!media\"></app-loading-indicator>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute } from '@angular/router';\nimport { finalize, mergeMap, map, tap } from 'rxjs/operators';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { of } from 'rxjs';\n\n@Component({\n    selector: 'app-organization-detail',\n    templateUrl: './organization-detail.component.html',\n    styleUrls: ['./organization-detail.component.scss']\n})\nexport class OrganizationDetailComponent implements OnInit {\n    public organization: App.Organization;\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(private app: AppService, private route: ActivatedRoute, private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.organization = OrganizationManager.sharedInstance.organization;\n\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(this.organization.name));\n        this.form.addControl('description', new FormControl(this.organization.description));\n        this.form.addControl('url', new FormControl(this.organization.url));\n\n        this.imageUrl = this.organization.imageUrl ? `${this.organization.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let organization: App.OrganizationUpdate = { id: this.organization.id };\n        organization.name = this.form.controls.name.value;\n        organization.url = this.form.controls.url.value;\n        organization.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateOrganization(organization).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(organization => {\n            this.organization = organization;\n            this.notifications.success('Success', 'Organization details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForOrganization(this.organization, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(organization => {\n            this.notifications.success('Success', 'Organization image updated.', { timeOut: 5000 });\n            this.organization = this.app.organizationManager.organization = organization;\n            this.imageUrl = this.organization.imageUrl ? `${this.organization.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n}\n","<div class=\"header-container\">\n    <div class=\"title\">\n        {{ organization.name || 'Untitled' }}\n    </div>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Details</div>\n\n    <form [formGroup]=\"form\">\n        <div class=\"column-container\">\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Name</div>\n                    <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                </div>\n            </div>\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">URL</div>\n                    <input type=\"text\" [formControlName]=\"'url'\" [placeholder]=\"'https://hopestream.com'\" />\n                </div>\n            </div>\n        </div>\n        <div class=\"input-container\">\n            <div class=\"label\">Description</div>\n            <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the church...'\"></textarea>\n        </div>\n    </form>\n\n    <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Image</div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col image-content-col-third\">\n                <div class=\"image-upload-container\">\n                    <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                    <div>Upload an image for this church.</div>\n                    <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                    <ng-container *ngIf=\"!uploading\">\n                        <button class=\"button\" (click)=\"input.click()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                        </button>\n                    </ng-container>\n\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Image</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"image-content-col\">\n                <div class=\"image-container\">\n                    <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                    <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"image-content-row\" *ngIf=\"organization.imageUrl\">\n            <div class=\"image-content-col\">\n                <div class=\"title\">Image Links</div>\n                <div class=\"label\">Image</div>\n                <app-copy-box [text]=\"organization.imageUrl\"></app-copy-box>\n                <div class=\"label\">Thumbnail</div>\n                <app-copy-box [text]=\"organization.thumbnailUrl\"></app-copy-box>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BaseComponent } from './base/base.component';\nimport { LoadingGuard } from '@services/loading-guard';\nimport { AuthGuard } from '@services/auth-guard';\nimport { SignInComponent } from './sign-in/sign-in/sign-in.component';\nimport { MediaListComponent } from './media/media-list/media-list.component';\nimport { MediaDetailComponent } from './media/media-detail/media-detail.component';\nimport { OrganizationDetailComponent } from './organization/organization-detail/organization-detail.component';\nimport { SeriesListComponent } from './series/series-list/series-list.component';\nimport { SeriesDetailComponent } from './series/series-detail/series-detail.component';\nimport { SpeakerListComponent } from './speaker/speaker-list/speaker-list.component';\nimport { SpeakerDetailComponent } from './speaker/speaker-detail/speaker-detail.component';\nimport { FeedListComponent } from './feed/feed-list/feed-list.component';\nimport { FeedDetailComponent } from './feed/feed-detail/feed-detail.component';\nimport { MediaUploadComponent } from './media/media-upload/media-upload.component';\nimport { RedirectComponent } from '@common/redirect/redirect.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { BlankComponent } from '@common/blank/blank.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: BaseComponent, canActivate: [LoadingGuard, AuthGuard], canActivateChild: [AuthGuard], children: [\n            { path: 'church', component: OrganizationDetailComponent },\n            { path: '', component: RedirectComponent },\n            { path: 'media', component: MediaListComponent },\n            { path: 'media/:id', component: MediaDetailComponent },\n            { path: 'upload', component: MediaUploadComponent },\n            { path: 'upload/:id', component: MediaUploadComponent },\n            { path: 'series', component: SeriesListComponent },\n            { path: 'series/:id', component: SeriesDetailComponent },\n            { path: 'speakers', component: SpeakerListComponent },\n            { path: 'speakers/:id', component: SpeakerDetailComponent },\n            { path: 'feeds', component: FeedListComponent },\n            { path: 'feeds/:id', component: FeedDetailComponent },\n            { path: 'settings', component: SettingsComponent },\n            { path: 'oauth/facebook', component: BlankComponent },\n            { path: 'oauth/google', component: BlankComponent },\n        ]\n    },\n    { path: 'sign-in', canActivate: [AuthGuard], component: SignInComponent },\n    { path: '**', redirectTo: 'sign-in' },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, { useHash: false })],\n    exports: [RouterModule]\n})\nexport class RoutingModule { }\n","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, mergeMap, tap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\n\n@Component({\n    selector: 'app-series-detail',\n    templateUrl: './series-detail.component.html',\n    styleUrls: ['./series-detail.component.scss']\n})\nexport class SeriesDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public series: App.Series;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let id = parseInt(this.route.snapshot.params.id);\n        forkJoin(this.app.API.getSeries(id), this.app.API.getAllMedia()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.series = responses[0];\n            this.media = responses[1].filter(o => o.seriesId === this.series.id);\n            this.form.controls.name.setValue(this.series.name);\n            this.form.controls.description.setValue(this.series.description);\n            this.imageUrl = this.series.imageUrl ? `${this.series.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let series: App.SeriesUpdate = { id: this.series.id };\n        series.name = this.form.controls.name.value;\n        series.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateSeries(series).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(series => {\n            this.series = series;\n            this.notifications.success('Success', 'Series details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForSeries(this.series, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(series => {\n            this.notifications.success('Success', 'Series image updated.', { timeOut: 5000 });\n            this.series = series;\n            this.imageUrl = this.series.imageUrl ? `${this.series.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteSeries(this.series).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/series']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/series']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Series List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ series.name || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Name</div>\n                        <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this series...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"series.imageUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Image Links</div>\n                    <div class=\"label\">Image</div>\n                    <app-copy-box [text]=\"series.imageUrl\"></app-copy-box>\n                    <div class=\"label\">Thumbnail</div>\n                    <app-copy-box [text]=\"series.thumbnailUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Series</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this series.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this series. This will simply delete the series, and those media records will no longer be associated with this series.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Series\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Series</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ series?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this series. This will simply delete the series, and those media records will no longer be associated with this series.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface SeriesListEntry {\n    id: number;\n    name: string;\n    thumbnailUrl?: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-series-list',\n    templateUrl: './series-list.component.html',\n    styleUrls: ['./series-list.component.scss']\n})\nexport class SeriesListComponent {\n    public Utility = Utility;\n\n    public series: Array<App.Series>;\n\n    public entries: Array<SeriesListEntry> = [];\n    public filtered: Array<SeriesListEntry> = [];\n\n    public loaded: Array<SeriesListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllSeries().subscribe(series => {\n            this.series = series;\n\n            this.entries = this.series.map(o => {\n                let result: SeriesListEntry = {\n                    id: o.id,\n                    name: o.name || 'Untitled',\n                    thumbnailUrl: o.thumbnailUrl,\n                };\n                result.search = `${result.name}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'id';\n            this.ascending = false;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: SeriesListEntry, b: SeriesListEntry) => {\n            return a.id - b.id;\n        },\n        name: (a: SeriesListEntry, b: SeriesListEntry) => {\n            const A = (a.name || 'zzz').toLowerCase().trim();\n            const B = (b.name || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddSeries() {\n        this.creating = true;\n        this.app.API.createSeries().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(series => {\n            this.router.navigate(['/series', series.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Series</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddSeries()\">Add Series</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'series' : 'series' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'series' : 'series' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Image</div>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Name</div>\n                            <app-action-icon\n                                [active]=\"sort === 'name'\"\n                                [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('name')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        <div class=\"image-container\">\n                            <img *ngIf=\"entry.thumbnailUrl\" [src]=\"entry.thumbnailUrl\" />\n                            <div *ngIf=\"!entry.thumbnailUrl\" class=\"image-placeholder\">\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/series', entry.id]\">\n                            {{ entry.name }}\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!series || !series.length\">\n            <div *ngIf=\"series\">No series available.</div>\n            <app-loading-indicator *ngIf=\"!series\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","import { Component } from \"@angular/core\";\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { App } from '@services/app/app.api';\nimport { UserManager } from '@services/app/managers/user.manager';\nimport { AppService } from '@services/app/app.service';\nimport { finalize, mergeMap } from 'rxjs/operators';\nimport { NotificationsService } from 'angular2-notifications';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { Google } from '@common/third-parties/google';\nimport { Facebook } from '@common/third-parties/facebook';\n\ndeclare const Stripe: any;\n\n@Component({\n    selector: 'app-settings',\n    templateUrl: './settings.component.html',\n    styleUrls: ['./settings.component.scss']\n})\nexport class SettingsComponent {\n    public get organization(): App.Organization { return OrganizationManager.sharedInstance.organization; }\n\n    constructor(private app: AppService, private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.user = UserManager.sharedInstance.user;\n        this.userForm = new FormGroup({});\n        this.userForm.addControl('name', new FormControl(this.user.name, [Validators.required]));\n        this.resetPasswordForm();\n\n        this.app.API.getOrganizationSocialAccounts(this.organization).subscribe(accounts => {\n            this.youtube = accounts.find(o => o.network === 'google');\n            this.facebook = accounts.find(o => o.network === 'facebook');\n        });\n\n        this.cardForm = new FormGroup({});\n        this.cardForm.addControl('number', new FormControl(undefined, [Validators.required]));\n        this.cardForm.addControl('month', new FormControl(undefined, [Validators.required]));\n        this.cardForm.addControl('year', new FormControl(undefined, [Validators.required]));\n        this.cardForm.addControl('cvc', new FormControl(undefined, [Validators.required]));\n        this.cardForm.addControl('zip', new FormControl(undefined, [Validators.required]));\n        this.resetCardForm();\n\n        this.app.API.getOrganizationSubscriptionInfo(this.organization).subscribe(info => {\n            this.plan = (info.plans || []).find(o => o.id === info.account.planId);\n            this.subscription = info.subscription;\n            this.card = info.card;\n            this.resetCardForm();\n        });\n    }\n\n    public user: App.User;\n    public userForm: FormGroup;\n    public savingUserForm: boolean = false;\n\n    public onSaveUserForm() {\n        this.savingUserForm = true;\n        this.app.API.updateUser({ id: this.user.id, name: this.userForm.controls.name.value.trim() }).pipe(finalize(() => {\n            this.savingUserForm = false;\n        })).subscribe(user => {\n            this.user = UserManager.sharedInstance.user = user;\n            this.notifications.success('Success', 'User profile saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public passwordDialogVisible: boolean = false;\n    public passwordForm: FormGroup;\n    public savingPasswordForm: boolean = false;\n\n    private resetPasswordForm() {\n        this.passwordForm = new FormGroup({});\n        this.passwordForm.addControl('password', new FormControl(undefined, [Validators.required, Validators.minLength(8)]));\n        this.passwordForm.addControl('confirm', new FormControl(undefined));\n    }\n\n    public onShowPasswordDialog() {\n        this.resetPasswordForm();\n        this.passwordDialogVisible = true;\n    }\n\n    public onSavePasswordForm() {\n        let password = this.passwordForm.controls.password.value.trim();\n        let confirm = this.passwordForm.controls.confirm.value.trim();\n        if (password !== confirm) {\n            this.notifications.error('Error', 'The password fields must match.');\n            return;\n        }\n\n        this.savingPasswordForm = true;\n        this.app.API.updateUser({ id: this.user.id, password: this.passwordForm.controls.password.value.trim() }).pipe(finalize(() => {\n            this.savingPasswordForm = false;\n        })).subscribe(user => {\n            this.notifications.success('Success', 'Password saved successfully.', { timeOut: 5000 });\n            this.passwordDialogVisible = false;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public youtube: App.SocialAccount;\n    public loadingYoutube: boolean = false;\n    public facebook: App.SocialAccount;\n    public loadingFacebook: boolean = false;\n\n    public onConnectYoutube() {\n        this.loadingYoutube = true;\n        new Google(this.app).userLogin().pipe(finalize(() => {\n            this.loadingYoutube = false;\n        }), mergeMap(account => {\n            return this.app.API.setOrganizationSocialAccount(this.organization, account);\n        })).subscribe(account => {\n            this.notifications.success('Success', 'Connected YouTube successfully.', { timeOut: 5000 });\n            this.youtube = account;\n        }, error => {\n            if (typeof error === 'string' && error.indexOf('cancel')) { return; }\n            this.notifications.error('Error', 'Sorry, there was a problem connecting.');\n        });\n    }\n\n    public onDisconnectYoutube() {\n        this.loadingYoutube = true;\n        this.app.API.deleteOrganizationSocialAccount(this.organization, 'google').pipe(finalize(() => {\n            this.loadingYoutube = false;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Disconnected YouTube successfully.', { timeOut: 5000 });\n            this.youtube = undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem disconnecting.');\n        })\n    }\n\n    public onConnectFacebook() {\n        this.loadingFacebook = true;\n        new Facebook(this.app).userLogin().pipe(finalize(() => {\n            this.loadingFacebook = false;\n        }), mergeMap(account => {\n            return this.app.API.setOrganizationSocialAccount(this.organization, account);\n        })).subscribe(account => {\n            this.notifications.success('Success', 'Connected Facebook successfully.', { timeOut: 5000 });\n            this.facebook = account;\n        }, error => {\n            if (typeof error === 'string' && error.indexOf('cancel')) { return; }\n            this.notifications.error('Error', 'Sorry, there was a problem connecting.');\n        });\n    }\n\n    public onDisconnectFacebook() {\n        this.loadingFacebook = true;\n        this.app.API.deleteOrganizationSocialAccount(this.organization, 'facebook').pipe(finalize(() => {\n            this.loadingFacebook = false;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Disconnected Facebook successfully.', { timeOut: 5000 });\n            this.facebook = undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem disconnecting.');\n        })\n    }\n\n    public plan: App.StripePlan;\n    public subscription: App.StripeSubscription;\n    public card: App.StripeCard;\n\n    public cardNumberPlaceholder: string;\n    public cardMonthPlaceholder: string;\n    public cardYearPlaceholder: string;\n    public cardCvcPlaceholder: string;\n    public cardZipPlaceholder: string;\n\n    public cardForm: FormGroup;\n    public savingCardForm: boolean = false;\n\n    public onUpdatePaymentInfo() {\n        let number = this.cardForm.controls.number.value;\n        let month = this.cardForm.controls.month.value;\n        let year = this.cardForm.controls.year.value;\n        let cvc = this.cardForm.controls.cvc.value;\n        let zip = this.cardForm.controls.zip.value;\n\n        this.savingCardForm = true;\n        Stripe.card.createToken({\n            'number': number,\n            'exp_month': month,\n            'exp_year': year,\n            'cvc': cvc,\n            'address_zip': zip,\n        }, (status, response) => {\n            if (!status || status >= 300 || status < 200) {\n                this.savingCardForm = false;\n                this.notifications.error('Error', 'Sorry, there was a problem updating your payment info.');\n                return;\n            }\n\n            this.app.API.updateOrganizationPaymentInfo(this.organization, response.id, this.plan.id).pipe(finalize(() => {\n                this.savingCardForm = false;\n            })).subscribe(info => {\n                this.notifications.success('Success', 'Payment info updated successfully.', { timeOut: 5000 });\n                this.subscription = info.subscription;\n                this.card = info.card;\n                this.resetCardForm();\n            }, error => {\n                this.notifications.error('Error', 'Sorry, there was a problem updating your payment info.');\n            });\n        });\n    }\n\n    public cancelDialogVisible: boolean = false;\n    public canceling: boolean = false;\n\n    public onCancelSubscription() {\n        this.canceling = true;\n        this.app.API.deleteOrganizationPaymentInfo(this.organization).pipe(finalize(() => {\n            this.canceling = false;\n        })).subscribe(info => {\n            this.notifications.success('Success', 'Your subscription has been canceled.', { timeOut: 5000 });\n            this.subscription = info.subscription;\n            this.card = info.card;\n            this.resetCardForm();\n            this.cancelDialogVisible = false;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem canceling your subscription.');\n        });\n    }\n\n    private resetCardForm() {\n        this.cardNumberPlaceholder = this.card?.last4 ? `**** **** **** ${this.card.last4}` : `0000 0000 0000 0000`;\n        this.cardMonthPlaceholder = `${this.card?.exp_month || 'MM'}`;\n        if (this.cardMonthPlaceholder.length === 1) { this.cardMonthPlaceholder = `0${this.cardMonthPlaceholder}`; }\n        this.cardYearPlaceholder = `${this.card?.exp_year || 'YYYY'}`.substring(2);\n        if (this.cardYearPlaceholder.length === 1) { this.cardYearPlaceholder = `0${this.cardYearPlaceholder}`; }\n        this.cardCvcPlaceholder = this.card ? '***' : '000';\n        this.cardZipPlaceholder = this.card?.address_zip || '00000';\n\n        this.cardForm.controls.number.setValue(undefined);\n        this.cardForm.controls.month.setValue(undefined);\n        this.cardForm.controls.year.setValue(undefined);\n        this.cardForm.controls.cvc.setValue(undefined);\n        this.cardForm.controls.zip.setValue(undefined);\n    }\n}\n","<div class=\"header-container\">\n    <div class=\"title\">Settings</div>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">User Profile</div>\n\n    <div class=\"column-container form\">\n        <div class=\"column\">\n            <form [formGroup]=\"userForm\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Full Name<span class=\"required\">*</span></div>\n                    <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Full Name'\" />\n                    <app-form-error [control]=\"userForm.controls.name\" [messages]=\"{ required: 'Full name is required.' }\"></app-form-error>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">E-mail</div>\n                    <input type=\"text\" [value]=\"user.email\" [disabled]=\"true\" />\n                </div>\n                <button class=\"button\" [disabled]=\"!userForm || !userForm.valid || savingUserForm\" (click)=\"onSaveUserForm()\">Save</button>\n            </form>\n        </div>\n\n        <div class=\"column\">\n            <div class=\"input-container\">\n                <div class=\"label\">Password</div>\n                <input type=\"password\" value=\"********\" [disabled]=\"true\" />\n            </div>\n            <button class=\"button\" (click)=\"onShowPasswordDialog()\">Change Password</button>\n        </div>\n    </div>\n</div>\n\n<p-dialog [(visible)]=\"passwordDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Change Password</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"passwordDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div class=\"column-container form\">\n        <div class=\"column column-full\">\n            <form [formGroup]=\"passwordForm\">\n                <div class=\"input-container\">\n                    <div class=\"label\">New Password (8+ Characters)</div>\n                    <input type=\"password\" [formControlName]=\"'password'\" [placeholder]=\"'New Password'\" />\n                    <app-form-error [control]=\"passwordForm.controls.password\" [messages]=\"{ minlength: 'New password must be 8 characters long.' }\"></app-form-error>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Confirm Password</div>\n                    <input type=\"password\" [formControlName]=\"'confirm'\" [placeholder]=\"'Confirm Password'\" />\n                </div>\n            </form>\n        </div>\n    </div>\n    <p-footer>\n        <button class=\"button\" [disabled]=\"!passwordForm || !passwordForm.valid || savingPasswordForm\" (click)=\"onSavePasswordForm()\">Change Password</button>\n        <button class=\"button secondary hollow\" (click)=\"passwordDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>\n\n\n<div class=\"content-section\">\n    <div class=\"title\">Third-Party Auth</div>\n\n    <div class=\"column-container\">\n        <div class=\"column account-info\">\n            <div class=\"account-name\"><strong>YouTube</strong></div>\n            <div class=\"account-description\">HopeStream uses the YouTube API to upload videos to YouTube, update YouTube video descriptions, and schedule YouTube Live Streams.</div>\n            <div class=\"account-status\">\n                <ng-container *ngIf=\"youtube\">\n                    <div>\n                        <fa-icon class=\"connected\" [icon]=\"['fad', 'check-circle']\"></fa-icon>\n                        Connected\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"loadingYoutube\" (click)=\"onDisconnectYoutube()\">Disconnect</button>\n                </ng-container>\n                <ng-container *ngIf=\"!youtube\">\n                    <div>\n                        <fa-icon [icon]=\"['fad', 'times-circle']\"></fa-icon>\n                        Not Connected\n                    </div>\n                    <button class=\"button\" [disabled]=\"loadingYoutube\" (click)=\"onConnectYoutube()\">Connect</button>\n                </ng-container>\n            </div>\n        </div>\n\n        <div class=\"column account-info\">\n            <div class=\"account-name\"><strong>Facebook</strong></div>\n            <div class=\"account-description\">HopeStream uses the Facebook API to schedule Facebook Live Streams.</div>\n            <div class=\"account-status\">\n                <ng-container *ngIf=\"facebook\">\n                    <div>\n                        <fa-icon class=\"connected\" [icon]=\"['fad', 'check-circle']\"></fa-icon>\n                        Connected\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"loadingFacebook\" (click)=\"onDisconnectFacebook()\">Disconnect</button>\n\n                </ng-container>\n                <ng-container *ngIf=\"!facebook\">\n                    <div>\n                        <fa-icon [icon]=\"['fad', 'times-circle']\"></fa-icon>\n                        Not Connected\n                    </div>\n                    <button class=\"button\" [disabled]=\"loadingFacebook\" (click)=\"onConnectFacebook()\">Connect</button>\n                </ng-container>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"content-section\">\n    <div class=\"title\">Subscription</div>\n\n    <div class=\"column-container\">\n        <div class=\"column subscription-info\">\n            <ng-container *ngIf=\"plan\">\n                <div class=\"plan-name\"><strong>{{ plan.nickname || 'Untitled' }}</strong></div>\n                <div class=\"plan-cost\">${{ plan.amount / 100 | number }} / mo</div>\n\n                <ng-container *ngIf=\"subscription?.status !== 'active'\">\n                    <div class=\"plan-active red\">Your account has expired.</div>\n                </ng-container>\n\n                <ng-container *ngIf=\"subscription?.status === 'active'\">\n                    <div class=\"plan-active\">Your account is currently active.</div>\n                    <div class=\"plan-billing red\" *ngIf=\"subscription.cancel_at_period_end\">It will expire on {{ subscription.current_period_end * 1000 | date }}.</div>\n                    <div class=\"plan-billing\" *ngIf=\"!subscription.cancel_at_period_end\">It will renew on {{ subscription.current_period_end * 1000 | date }}.</div>\n                    <button class=\"button secondary\" *ngIf=\"!subscription.cancel_at_period_end\" (click)=\"cancelDialogVisible = true\">Cancel Subscription</button>\n                </ng-container>\n            </ng-container>\n        </div>\n\n        <div class=\"column\">\n            <form [formGroup]=\"cardForm\">\n                <div class=\"credit-card-form\">\n                    <div class=\"row\">\n                        <div class=\"col-4\">\n                            <div class=\"label\">Card Number</div>\n                            <input type=\"text\" [formControlName]=\"'number'\" [placeholder]=\"cardNumberPlaceholder\" />\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-2\">\n                            <div class=\"label\">Expiration</div>\n                            <div class=\"expiration\">\n                                <input type=\"text\" [formControlName]=\"'month'\" [placeholder]=\"cardMonthPlaceholder\" />\n                                <div class=\"slash\">/</div>\n                                <input type=\"text\" [formControlName]=\"'year'\" [placeholder]=\"cardYearPlaceholder\" />\n                            </div>\n                        </div>\n                        <div class=\"col-1\">\n                            <div class=\"label\">CVC</div>\n                            <input type=\"text\" [formControlName]=\"'cvc'\" [placeholder]=\"cardCvcPlaceholder\" />\n                        </div>\n                        <div class=\"col-1\">\n                            <div class=\"label\">Postal Code</div>\n                            <input type=\"text\" [formControlName]=\"'zip'\" [placeholder]=\"cardZipPlaceholder\" />\n                        </div>\n                    </div>\n                </div>\n\n                <button class=\"button\" [disabled]=\"!cardForm?.valid || savingCardForm\" (click)=\"onUpdatePaymentInfo()\">Update Payment Info</button>\n            </form>\n        </div>\n    </div>\n</div>\n\n<p-dialog [(visible)]=\"cancelDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Cancel Subscription</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"cancelDialogVisible = false\"></app-action-icon>\n    </p-header>\n    Are you sure you want to cancel your subscription?\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"canceling\" (click)=\"onCancelSubscription()\">Cancel Subscription</button>\n        <button class=\"button secondary hollow\" (click)=\"cancelDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'app-sidebar',\n    templateUrl: 'sidebar.component.html',\n    styleUrls: ['sidebar.component.scss']\n})\nexport class SidebarComponent {\n\n}\n","SIDEBAR!","import { Component } from \"@angular/core\";\nimport { finalize } from 'rxjs/operators';\nimport { FormControl } from '@angular/forms';\nimport { FormGroup } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { StateService } from '@services/state.service';\nimport { Validators } from '@angular/forms';\nimport { AuthService } from \"@services/auth.service\";\n\n@Component({\n    selector: 'app-sign-in',\n    templateUrl: './sign-in.component.html',\n    styleUrls: ['./sign-in.component.scss']\n})\nexport class SignInComponent {\n    public visible: number = 0;\n    public form: FormGroup;\n    public loading: boolean = false;\n\n    constructor(private state: StateService, public auth: AuthService, private notifications: NotificationsService) {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl('', [Validators.required]));\n        this.form.addControl('email', new FormControl('', [Validators.required]));\n        this.form.addControl('password', new FormControl('', [Validators.required, Validators.minLength(8)]));\n    }\n\n    public onSignIn() {\n        this.loading = true;\n        this.state.login(this.form.controls['email'].value.trim(), this.form.controls['password'].value).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(user => { }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem logging in');\n        });\n    }\n\n    public onSignUp() {\n\n    }\n\n    public onResetPassword() {\n        this.loading = true;\n        this.auth.userForgotPassword(this.form.controls.email.value.trim()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(() => {\n            this.visible = 0;\n            this.notifications.success('Success', 'You will receive an e-mail with instructions to reset your password.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem logging in');\n        });\n    }\n}\n","<div [setTitle]=\"''\" class=\"container\">\n    <div class=\"title-container\">\n        <img src=\"assets/images/hopestream-logo.png\">\n        <div>HopeStream</div>\n    </div>\n    <div class=\"form-container\">\n        <ng-container *ngIf=\"visible === 0\">\n            <form [formGroup]=\"form\" (submit)=\"onSignIn()\" novalidate>\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <input type=\"password\" formControlName=\"password\" name=\"password\" placeholder=\"Password\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Log in</button>\n                <a class=\"forgot-password\" (click)=\"visible = 2\">Forgot password?</a>\n            </form>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 1\">\n            <!-- <form [formGroup]=\"form\" (submit)=\"onSignUp()\" novalidate>\n                <input type=\"text\" formControlName=\"name\" name=\"name\" placeholder=\"Full Name\" />\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <input type=\"password\" formControlName=\"password\" name=\"password\" placeholder=\"Password\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Sign up</button>\n                <div class=\"legal-text\">By signing up, you agree to our Term, Data Policy and Cookies Policy.</div>\n            </form> -->\n            <div><strong>We'd love to see your church on HopeStream!</strong></div><br />\n            <div>Please submit a request to <a href=\"mailto:admin@hopestream.com\">admin@hopestream.com</a> to get started.</div>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 2\">\n            <form [formGroup]=\"form\" (submit)=\"onResetPassword()\" novalidate>\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Reset</button>\n                <div class=\"reset-text\">Please enter the e-mail address associated with your account. You will receive an e-mail with instructions to reset your password.</div>\n            </form>\n        </ng-container>\n    </div>\n    <div class=\"option-container\">\n        <ng-container *ngIf=\"visible === 0\">\n            Don't have an account yet?<br />\n            <a (click)=\"visible = 1\">Sign up</a>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 1\">\n            Already have an account?<br />\n            <a (click)=\"visible = 0\">Log in</a>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 2\">\n            <a (click)=\"visible = 0\">Back to login</a>\n        </ng-container>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, mergeMap, tap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\n\n@Component({\n    selector: 'app-speaker-detail',\n    templateUrl: './speaker-detail.component.html',\n    styleUrls: ['./speaker-detail.component.scss']\n})\nexport class SpeakerDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public speaker: App.Speaker;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let id = parseInt(this.route.snapshot.params.id);\n        forkJoin(this.app.API.getSpeaker(id), this.app.API.getAllMedia()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.speaker = responses[0];\n            this.media = responses[1].filter(o => (o.speakerIds || []).indexOf(this.speaker.id) >= 0);\n            this.form.controls.name.setValue(this.speaker.name);\n            this.form.controls.description.setValue(this.speaker.description);\n            this.imageUrl = this.speaker.imageUrl ? `${this.speaker.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let speaker: App.SpeakerUpdate = { id: this.speaker.id };\n        speaker.name = this.form.controls.name.value;\n        speaker.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateSpeaker(speaker).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(speaker => {\n            this.speaker = speaker;\n            this.notifications.success('Success', 'Speaker details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForSpeaker(this.speaker, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(speaker => {\n            this.notifications.success('Success', 'Speaker image updated.', { timeOut: 5000 });\n            this.speaker = speaker;\n            this.imageUrl = this.speaker.imageUrl ? `${this.speaker.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteSpeaker(this.speaker).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/speakers']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/speakers']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Speaker List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ speaker.name || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Name</div>\n                        <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this speaker...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"speaker.imageUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Image Links</div>\n                    <div class=\"label\">Image</div>\n                    <app-copy-box [text]=\"speaker.imageUrl\"></app-copy-box>\n                    <div class=\"label\">Thumbnail</div>\n                    <app-copy-box [text]=\"speaker.thumbnailUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Speaker</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this speaker.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are by this speaker. This will simply delete the speaker, and those media records will no longer be associated with this speaker.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Speaker\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Speaker</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ speaker?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are by this speaker. This will simply delete the speaker, and those media records will no longer be associated with this speaker.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface SpeakerListEntry {\n    id: number;\n    name: string;\n    thumbnailUrl?: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-speaker-list',\n    templateUrl: './speaker-list.component.html',\n    styleUrls: ['./speaker-list.component.scss']\n})\nexport class SpeakerListComponent {\n    public Utility = Utility;\n\n    public speakers: Array<App.Speaker>;\n\n    public entries: Array<SpeakerListEntry> = [];\n    public filtered: Array<SpeakerListEntry> = [];\n\n    public loaded: Array<SpeakerListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllSpeakers().subscribe(speakers => {\n            this.speakers = speakers;\n\n            this.entries = this.speakers.map(o => {\n                let result: SpeakerListEntry = {\n                    id: o.id,\n                    name: o.name || 'Untitled',\n                    thumbnailUrl: o.thumbnailUrl,\n                };\n                result.search = `${result.name}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'name';\n            this.ascending = true;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: SpeakerListEntry, b: SpeakerListEntry) => {\n            return a.id - b.id;\n        },\n        name: (a: SpeakerListEntry, b: SpeakerListEntry) => {\n            const A = (a.name || 'zzz').toLowerCase().trim();\n            const B = (b.name || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddSpeaker() {\n        this.creating = true;\n        this.app.API.createSpeaker().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(speaker => {\n            this.router.navigate(['/speakers', speaker.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Speakers</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddSpeaker()\">Add Speaker</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'speaker' : 'speakers' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'speaker' : 'speakers' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Image</div>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Name</div>\n                            <app-action-icon\n                                [active]=\"sort === 'name'\"\n                                [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('name')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        <div class=\"image-container\">\n                            <img *ngIf=\"entry.thumbnailUrl\" [src]=\"entry.thumbnailUrl\" />\n                            <div *ngIf=\"!entry.thumbnailUrl\" class=\"image-placeholder\">\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/speakers', entry.id]\">\n                            {{ entry.name }}\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!speakers || !speakers.length\">\n            <div *ngIf=\"speakers\">No speakers available.</div>\n            <app-loading-indicator *ngIf=\"!speakers\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    // apiUrl: 'https://api.hopestream.com',\n    apiUrl: 'http://localhost:3000',\n    clientUrl: 'http://localhost:8080',\n    staticUrl: 'https://static.hopestream.com/',\n    playerUrl: 'https://static.hopestream.com/player.html',\n    stripeApiKey: 'pk_live_4c6L6Fy6sbVWH2UgF02yk0Pw00pTGSIXlg'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n    enableProdMode();\n}\n\nif (document.body.childNodes[0].nodeName.toLowerCase() === 'app-root') {\n    platformBrowserDynamic().bootstrapModule(AppModule)\n        .catch(err => console.error(err));\n}\n"]}