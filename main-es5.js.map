{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/_classes/async-data-source.ts","webpack:///src/app/_classes/async-processor.ts","webpack:///src/app/_classes/history.ts","webpack:///src/app/_classes/manager.ts","webpack:///src/app/_classes/utility.ts","webpack:///src/app/_common/action-icon/action-icon.component.ts","webpack:///src/app/_common/autofocus/autofocus.directive.ts","webpack:///src/app/_common/copy-box/copy-box.component.ts","webpack:///src/app/_common/copy-box/copy-box.component.html","webpack:///src/app/_common/download/download.component.ts","webpack:///src/app/_common/form-error/form-error.component.ts","webpack:///src/app/_common/guarded-action/guarded-action.component.ts","webpack:///src/app/_common/guarded-action/guarded-action.component.html","webpack:///src/app/_common/icon/icon.component.ts","webpack:///src/app/_common/inline-svg/inline-svg.directive.ts","webpack:///src/app/_common/inline-svg/svg-cache.service.ts","webpack:///src/app/_common/loading-indicator/loading-indicator.component.ts","webpack:///src/app/_common/popover/popover.component.ts","webpack:///src/app/_common/redirect/redirect.component.ts","webpack:///src/app/_common/safe-html/safe-html.pipe.ts","webpack:///src/app/_common/selection-box/selection-box.component.ts","webpack:///src/app/_common/selection-box/selection-box.component.html","webpack:///src/app/_common/set-title/set-title.directive.ts","webpack:///src/app/_common/video-player/video-player.component.ts","webpack:///src/app/_services/app/app.api.ts","webpack:///src/app/_services/app/app.service.ts","webpack:///src/app/_services/app/managers/feed.manager.ts","webpack:///src/app/_services/app/managers/organization.manager.ts","webpack:///src/app/_services/app/managers/series.manager.ts","webpack:///src/app/_services/app/managers/speaker.manager.ts","webpack:///src/app/_services/app/managers/topic.manager.ts","webpack:///src/app/_services/app/managers/user.manager.ts","webpack:///src/app/_services/auth-guard.ts","webpack:///src/app/_services/auth.service.ts","webpack:///src/app/_services/clipboard.service.ts","webpack:///src/app/_services/download.service.ts","webpack:///src/app/_services/layout.service.ts","webpack:///src/app/_services/loading-guard.ts","webpack:///src/app/_services/state.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/base/base.component.ts","webpack:///src/app/base/base.component.html","webpack:///src/app/feed/feed-detail/feed-detail.component.ts","webpack:///src/app/feed/feed-detail/feed-detail.component.html","webpack:///src/app/feed/feed-list/feed-list.component.ts","webpack:///src/app/feed/feed-list/feed-list.component.html","webpack:///src/app/header/header.component.ts","webpack:///src/app/header/header.component.html","webpack:///src/app/media/media-detail/media-detail.component.ts","webpack:///src/app/media/media-detail/media-detail.component.html","webpack:///src/app/media/media-form/media-form.component.ts","webpack:///src/app/media/media-form/media-form.component.html","webpack:///src/app/media/media-list/media-list.component.ts","webpack:///src/app/media/media-list/media-list.component.html","webpack:///src/app/media/media-upload/media-upload.component.ts","webpack:///src/app/media/media-upload/media-upload.component.html","webpack:///src/app/media/reusable-media-list/reusable-media-list.component.ts","webpack:///src/app/media/reusable-media-list/reusable-media-list.component.html","webpack:///src/app/organization/organization-detail/organization-detail.component.ts","webpack:///src/app/organization/organization-detail/organization-detail.component.html","webpack:///src/app/routing.module.ts","webpack:///src/app/series/series-detail/series-detail.component.ts","webpack:///src/app/series/series-detail/series-detail.component.html","webpack:///src/app/series/series-list/series-list.component.ts","webpack:///src/app/series/series-list/series-list.component.html","webpack:///src/app/sidebar/sidebar.component.ts","webpack:///src/app/sidebar/sidebar.component.html","webpack:///src/app/sign-in/sign-in/sign-in.component.ts","webpack:///src/app/sign-in/sign-in/sign-in.component.html","webpack:///src/app/speaker/speaker-detail/speaker-detail.component.ts","webpack:///src/app/speaker/speaker-detail/speaker-detail.component.html","webpack:///src/app/speaker/speaker-list/speaker-list.component.ts","webpack:///src/app/speaker/speaker-list/speaker-list.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AsyncDataSource","search","callback","undefined","processor","maxRetryCount","RETRY_NO_LIMIT","process","key","progress","data","result","SUCCESS","FAILED","processKeys","cancel","AsyncProcessorResult","AsyncProcessor","enabled","working","retryDelay","complete","processing","pending","retryCount","pointer","next","length","pipe","subscribe","completion","error","success","CANCELED","FAILED_WILL_RETRY","setTimeout","HISTORY_ENTRY_ID","HistoryEntry","url","variables","History","router","history","index","entrySubject","changeEmitted$","asObservable","events","event","console","log","navigatedTo","_instance","previous","indexOf","entry","push","canGoBack","navigateByUrl","currentHistoryEntry","canGoForward","NOT_ENABLED","Manager","refreshInterval","lastRefreshTime","update$","force","Date","now","currentSubject","nextSubject","source","fetchData","setData","refresh","Utility","ArraysAreEqual","a","b","A","B","find","o","RemoveDuplicatesFromArray","array","disallowed","duplicates","forEach","filter","StatusToText","status","StatusToClass","StatusToIcon","ActionIconComponent","active","disabled","selector","template","styleUrls","AutofocusDirective","el","_autofocus","nativeElement","focus","condition","CopyBoxComponent","clipboard","notifications","write","text","timeOut","onCopy","templateUrl","DownloadComponent","download","downloadComponent","styles","static","FormErrorComponent","checkDirty","messages","control","errors","touched","dirty","Object","map","GuardedActionComponent","host","question","additional","action","align","confirmed","$event","popover","target","toggle","actionButton","IconComponent","size","svgResourceUrl","svg","changes","InlineSVGDirective","_document","_el","_svgCache","replaceContents","prepend","cacheSVG","forceEvalStyles","evalScripts","onSVGInserted","onSVGFailed","_supportsSVG","_ranScripts","_insertSVG","_checkSVGSupport","_fail","inlineSVG","charAt","elSvg","createElementNS","elSvgUse","setAttributeNS","appendChild","_insertEl","emit","absUrl","_getAbsoluteUrl","_absUrl","getSVG","removeSVGAttributes","_removeAttributes","_evalScripts","styleTags","querySelectorAll","Array","prototype","call","tag","textContent","err","attrs","innerEls","getElementsByTagName","i","elAttrs","attributes","j","name","toLowerCase","removeAttribute","innerHTML","insertBefore","firstChild","scripts","scriptsToEval","script","scriptType","getAttribute","innerText","removeChild","Function","window","SVGRect","msg","fallbackImgUrl","elImg","document","createElement","src","providers","SVGCache","http","_cache","Map","_inProgressReqs","cache","has","_cloneSVG","get","responseType","delete","svgText","svgEl","_svgElementFromString","set","str","div","querySelector","cloneNode","LoadingIndicatorComponent","_VisiblePopoverCount","VisiblePopoverCount","HideAllPopovers","dispatchEvent","CustomEvent","PopoverComponent","renderer","xOffset","yOffset","onClose","visible$","subscriptions","unsubscribe","visible","Math","max","setStyle","content","parts","type","element","myOverride","atOverride","xOffsetOverride","yOffsetOverride","elementBounds","getBoundingClientRect","elementParts","my","split","elementOffsetX","partsContain","width","elementOffsetY","height","targetBounds","targetParts","at","targetX","left","targetY","top","suppressHideAllPopovers","computePosition","x","y","String","Number","needToReposition","offsetWidth","innerWidth","replace","offsetHeight","innerHeight","ownerDocument","contains","v","hide","show","value","RedirectComponent","navigate","SafeHtmlPipe","sanitizer","bypassSecurityTrustHtml","SafeResourceUrlPipe","bypassSecurityTrustResourceUrl","SelectionBoxComponent","items","placeholder","filtered","focused","selectedItems","values","updateFilteredItems","onChange","onTouched","focusedItem","trim","display","item","input","blur","provide","useExisting","multi","onFocusChange","preventDefault","onArrowDown","onArrowUp","onSelect","SetTitleDirective","_title","updateTitle","setTitle","title","VideoPlayerComponent","AppAPI","auth","GET","response","App","User","fromJSON","body","users","organizations","Organization","organization","PUT","getCurrentOrganization","image","UPLOAD","media","Media","POST","getMedia","youtubeStatus","vimeoStatus","audioStatus","series","seriesId","organizationId","captions","file","contentType","MediaUploadPolicy","getUploadPolicyForMedia","policy","form","FormData","append","accessKeyId","acl","signature","xhr","XMLHttpRequest","onreadystatechange","readyState","JSON","parse","upload","onprogress","loaded","total","open","send","DELETE","Series","getSeries","speakers","Speaker","speaker","getSpeaker","feeds","Feed","feed","getFeed","ids","topics","Topic","json","assign","date","adjustStatusForThirdParties","audio","vimeo","youtube","mediaIds","AppService","hashids","allManagers","API","userManager","organizationManager","seriesManager","speakerManager","feedManager","topicManager","manager","reset","FeedManager","api","sharedInstance","getAllFeeds","getMediaIdsForFeed","OrganizationManager","SeriesManager","getAllSeries","SpeakerManager","getAllSpeakers","TopicManager","getAllTopics","USER_KEY","UserManager","_user","readUserFromLocalStorage","getCurrentUser","writeUserToLocalStorage","user","localStorage","getItem","setItem","stringify","removeItem","AuthGuard","state","route","updateLoggedInState","OAUTH_CLIENT_ID","OAUTH_CLIENT_SECRET","OAUTH_CLIENT_BASE_64","btoa","PendingSubject","request","AuthService","loggedIn$","CREDENTIALS_KEY","credentials","username","password","oauthToken","token","email","getClientCredentialsHeaders","headers","accessToken","params","encodeURIComponent","join","access_token","refreshToken","refresh_token","method","path","params_","headers_","isArray","getTime","toISOString","apiUrl","subject","observe","fail","shouldAttemptRequestAgainAfterRefreshing","grant_type","processRefresh","userLogout","completeRefresh","userRefresh","setRequestHeader","ClipboardService","select","execCommand","DownloadService","anchor","click","LayoutService","sidebarOpen","toolbarOpen","toolbarWidth","storedToolbarWidth","shortcutsVisible","TOOLBAR_WIDTH_KEY","parseInt","LoadingGuard","loading$","getValue","subscription","StateService","app","angulartics","google","initialRouteLoaded","dataSource","ignoreDataSourceUpdate","settings","developerMode","production","loggedIn","redirecting","shutdown","usernameOrEmail","userLogin","updateDataSource","updateVisibleView","noauth","redirect","routeToLoadUponAuthenticating","queryParams","start","logout","stop","AppComponent","loading","notificationsOptions","position","pauseOnHover","clipboardTarget","useFactory","getErrorHandler","AppModule","library","addIcons","forRoot","declarations","imports","bootstrap","BaseComponent","layout","FeedDetailComponent","saving","deleteDialogVisible","deleting","addControl","snapshot","hash","encode","imageUrl","valueOf","getAllMedia","responses","controls","setValue","subtitle","description","copyright","category","keywords","feedUrl","staticUrl","updateFeed","files","uploading","uploadImageForFeed","deleteFeed","onDelete","FeedListComponent","locale","entries","sort","ascending","SortOptions","creating","updateEntries","concat","slice","comparator","createFeed","onLoadMoreRows","onAddFeed","onSearchUpdate","onSort","HeaderComponent","onLogOut","MediaDetailComponent","captionUrl","videoPlayerUrl","playerUrl","videoStreamUrl","videoFileDefaultUrl","videoFileSourceUrl","audioFileUrl","deleteMedia","uploadCaptionFileForMedia","MediaFormComponent","mediaChange","seriesItems","speakerItems","includeItems","topicItems","lastKnownIncludeIds","selectingSeries","selectingOrganization","required","topicsByCategory","header","flat","updateLastKnownIncludeIds","seriesIds","speakerIds","includeIds","topicIds","seriesImageUrl","thumbnailUrl","organizationImageUrl","hidden","unshift","includes","willIncludeInYouTube","didIncludeInYouTube","youtubeId","youtubeMetadataUpdate","before","after","remove","add","updates","removeMediaIdFromFeed","addMediaIdToFeed","updateMedia","uploadImageForMedia","setMediaImageToSeries","setMediaImageToOrganization","onSave","onImageSelected","MediaListComponent","onAddMedia","MediaUploadComponent","acceptedFileTypes","shouldShowMediaForm","mediaId","addedFiles","createMedia","uploadFileForMedia","updateMediaStatus","ReusableMediaListComponent","seriesById","speakerById","fullName","dateString","timeString","statusString","statusColor","OrganizationDetailComponent","updateOrganization","uploadImageForOrganization","routes","component","canActivate","canActivateChild","children","redirectTo","RoutingModule","useHash","SeriesDetailComponent","updateSeries","uploadImageForSeries","deleteSeries","SeriesListComponent","createSeries","onAddSeries","SidebarComponent","SignInComponent","minLength","login","userForgotPassword","SpeakerDetailComponent","updateSpeaker","uploadImageForSpeaker","deleteSpeaker","SpeakerListComponent","createSpeaker","onAddSpeaker","environment","childNodes","nodeName","bootstrapModule","catch"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { AsyncProcessor } from './async-processor';\nimport { AsyncProcessorResult } from './async-processor';\nimport { Observable } from 'rxjs';\n\ntype SearchFunction<T> = () => Observable<T>;\ntype CallbackFunction<T> = (data: T) => void;\n\nexport class AsyncDataSource<T> {\n    public callback: CallbackFunction<T> = undefined;\n    public processor = new AsyncProcessor();\n\n    constructor(private search: SearchFunction<T>) {\n        this.processor.maxRetryCount = AsyncProcessor.RETRY_NO_LIMIT;\n        this.processor.process = (key) => { return search(); };\n        this.processor.progress = (key, data, result) => {\n            if (!this.callback) { return; }\n            if (result === AsyncProcessorResult.SUCCESS) {\n                this.callback(data);\n            } else if (result === AsyncProcessorResult.FAILED) {\n                // this will only be called if the source's creator sets the\n                // maxRetryCount to some finite number, at which point, they are\n                // expecting to get an 'undefined' result on failure.\n                this.callback(undefined);\n            }\n        };\n    }\n\n    public refresh() { this.processor.processKeys([\"\"]); }\n    public cancel() { this.processor.cancel(); }\n}\n","import { first } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\nexport enum AsyncProcessorResult { SUCCESS, FAILED, FAILED_WILL_RETRY, CANCELED }\n\ntype ProcessFunction = (key: any) => Observable<any>;\ntype ProgressFunction = (key: any, data: any, result: AsyncProcessorResult) => void;\ntype CompleteFunction = (result: AsyncProcessorResult) => void;\n\nexport class AsyncProcessor {\n    public static RETRY_NO_LIMIT: number = -1;\n\n    public enabled: boolean = true;\n    public working: boolean = false;\n    public maxRetryCount: number = 0;\n    public retryDelay: number = 5.0; // seconds\n\n    public process: ProcessFunction = undefined;\n    public progress: ProgressFunction = undefined;\n    public complete: CompleteFunction = undefined;\n\n    private processing: any[] = undefined;\n    private pending: any[] = undefined;\n    private retryCount: number = 0;\n    private pointer: number = 0;\n    private result: AsyncProcessorResult = AsyncProcessorResult.SUCCESS;\n\n    public processKeys(keys: any[]) {\n        if (keys === undefined || !this.enabled) { return; }\n\n        this.pending = keys;\n        if (this.processing !== undefined) { return; }\n\n        this.working = true;\n        this.processing = this.pending;\n        this.pending = undefined;\n\n        this.next();\n    }\n\n    private next() {\n        if (this.processing.length == 0 || this.processing.length <= this.pointer) {\n            let result = this.result;\n            this.result = AsyncProcessorResult.SUCCESS;\n            this.pointer = 0;\n            this.processing = undefined;\n            this.working = false;\n\n            if (this.complete) { this.complete(result); }\n            this.processKeys(this.pending);\n\n            return;\n        }\n\n        if (this.process) {\n            this.process(this.processing[this.pointer]).pipe(first()).subscribe(result => {\n                this.completion(result, true);\n            }, error => {\n                this.completion(undefined, false);\n            });\n        } else {\n            this.completion(undefined, true);\n        }\n    }\n\n    private completion(data: any, success: boolean) {\n        if (this.result == AsyncProcessorResult.CANCELED) {\n            this.next();\n        } else if (success) {\n            if (this.progress) { this.progress(this.processing[this.pointer], data, AsyncProcessorResult.SUCCESS); }\n\n            this.retryCount = 0;\n            this.pointer++;\n            this.next();\n        } else if (this.maxRetryCount == AsyncProcessor.RETRY_NO_LIMIT || this.retryCount < this.maxRetryCount) {\n            if (this.progress) { this.progress(this.processing[this.pointer], undefined, AsyncProcessorResult.FAILED_WILL_RETRY); }\n\n            this.retryCount++;\n            setTimeout(() => { this.next(); }, this.retryDelay * 1000);\n        } else {\n            if (this.progress) { this.progress(this.processing[this.pointer], undefined, AsyncProcessorResult.FAILED); }\n\n            this.result = AsyncProcessorResult.FAILED;\n            this.retryCount = 0;\n            this.pointer++;\n            this.next();\n        }\n    }\n\n    public cancel() {\n        if (!this.processing || this.processing.length == 0) { return; }\n\n        this.processing = [];\n        this.result = AsyncProcessorResult.CANCELED;\n    }\n}\n","import { NavigationEnd, Router } from \"@angular/router\";\nimport { Subject } from \"rxjs\";\n\nlet HISTORY_ENTRY_ID = 0;\nexport class HistoryEntry {\n    public id: number;\n    public variables: { [key: string]: any } = {};\n\n    constructor(public url: string) {\n        this.id = HISTORY_ENTRY_ID++;\n    }\n}\n\nexport class History {\n    public static _instance: History;\n\n    public static sharedInstance(): History {\n        return History._instance;\n    }\n\n    private history: Array<HistoryEntry> = [];\n    private index: number = -1;\n\n    private entrySubject = new Subject<HistoryEntry>();\n    public changeEmitted$ = this.entrySubject.asObservable();\n\n    constructor(private router: Router) {\n        this.router.events.subscribe((event) => {\n            if (!(event instanceof NavigationEnd)) {\n                return;\n            }\n            console.log(\"Navigated To: \" + this.router.url);\n            this.navigatedTo(this.router.url);\n        });\n        History._instance = this;\n    }\n\n    private navigatedTo(url: string) {\n        let previous = this.history[this.index] && this.history[this.index].url;\n        if (previous === url || url.indexOf('sign-in') >= 0 || url.indexOf('forgot-password') >= 0) {\n            return;\n        }\n\n        this.index++;\n        this.history.length = this.index;\n        let entry = new HistoryEntry(url)\n        this.history.push(entry);\n        this.entrySubject.next(entry);\n    }\n\n    public get currentHistoryEntry(): HistoryEntry {\n        return this.index >= 0 ? this.history[this.index] : undefined;\n    }\n\n    public get historyEntries(): Array<HistoryEntry> {\n        return this.history;\n    }\n\n    public canGoBack(): boolean {\n        return this.index > 0;\n    }\n\n    public goBack() {\n        if (!this.canGoBack()) {\n            return;\n        }\n\n        this.index--;\n        if (this.history[this.index].url.indexOf('concept/external') > -1) {\n            this.index--;\n        }\n        this.router.navigateByUrl(this.history[this.index].url);\n        this.entrySubject.next(this.currentHistoryEntry);\n    }\n\n    public canGoForward(): boolean {\n        return this.index < (this.history.length - 1);\n    }\n\n    public goForward() {\n        if (!this.canGoForward()) {\n            return;\n        }\n\n        this.index++;\n        this.router.navigateByUrl(this.history[this.index].url);\n        this.entrySubject.next(this.currentHistoryEntry);\n    }\n\n    public shutdown() {\n        this.history = [];\n        this.index = -1;\n    }\n}\n","import { AsyncDataSource } from './async-data-source';\nimport { Observable } from 'rxjs';\nimport { of as ObservableOf } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nconst NOT_ENABLED = { id: 'not-enabled' };\n\nexport abstract class Manager {\n    public enabled: boolean = false;\n\n    public refreshInterval: number = 300000; // milliseconds\n    protected lastRefreshTime: number = 0;\n\n    public update$: Subject<void> = new Subject<void>();\n    private currentSubject: Subject<boolean>;\n    private nextSubject: Subject<boolean>;\n\n    private source: AsyncDataSource<void>;\n\n    public refresh(force: boolean = false): Observable<boolean> {\n        if (!this.enabled) { return ObservableOf(false); }\n\n        if (!force) {\n            if ((Date.now() - this.lastRefreshTime) < this.refreshInterval) { return ObservableOf(false); }\n            if (this.currentSubject) { return this.currentSubject; }\n        }\n\n        this.nextSubject = this.nextSubject || new Subject<boolean>();\n        if (this.currentSubject) { return this.nextSubject; }\n\n        this.currentSubject = this.nextSubject || new Subject<boolean>();\n        this.nextSubject = undefined;\n\n        this.source = new AsyncDataSource<any>(() => {\n            if (!this.enabled) { return ObservableOf(NOT_ENABLED); }\n            return this.fetchData();\n        });\n        this.source.callback = (data: any) => {\n            this.source.callback = undefined;\n            this.source = undefined;\n\n            if (data === NOT_ENABLED) {\n                this.currentSubject.error(data);\n                this.currentSubject = undefined;\n                return;\n            }\n\n            this.setData(data);\n            this.lastRefreshTime = Date.now();\n            this.currentSubject.next(true);\n            this.currentSubject.complete();\n            this.currentSubject = undefined;\n            this.update$.next();\n\n            if (this.nextSubject) { this.refresh(true); }\n        };\n        this.source.refresh();\n\n        return this.currentSubject;\n    }\n\n    public cancel() {\n        if (!this.source || !this.currentSubject) { return; }\n\n        this.source.callback = undefined;\n        this.source = undefined;\n\n        this.currentSubject.next(false);\n        this.currentSubject.complete();\n        this.currentSubject = undefined;\n\n        if (this.nextSubject) {\n            this.nextSubject.next(false);\n            this.nextSubject.complete();\n            this.nextSubject = undefined;\n        }\n    }\n\n    public reset() {\n        this.lastRefreshTime = 0;\n    }\n\n    protected abstract fetchData(): Observable<any>;\n    protected abstract setData(data: any);\n}\n","export module Utility {\n    export function ArraysAreEqual(a: Array<any>, b: Array<any>): boolean {\n        let A = a || [];\n        let B = b || [];\n        return A.length === B.length && !A.find((o, index) => o !== B[index]);\n    }\n\n    export function RemoveDuplicatesFromArray(array: Array<any>, disallowed: Array<any> = undefined) {\n        let duplicates = {};\n        if (disallowed) { disallowed.forEach(o => duplicates[o] = true); }\n        return array.filter(o => {\n            if (duplicates[o]) { return false; }\n            duplicates[o] = true;\n            return true;\n        });\n    }\n\n    export function StatusToText(status: number): string {\n        switch (status) {\n            case 0: return 'Uploading';\n            case 1: return 'Uploaded';\n            case 2: return 'Processing';\n            case 3: return 'Available';\n            case 4: return 'Error';\n            case 5: return 'Deleted By User';\n            case 6: return 'Deleted';\n            case -1: return 'Custom';\n            default: return 'Unknown';\n        }\n    }\n\n    export function StatusToClass(status: number): string {\n        switch (status) {\n            case 0: return 'media-status-default';\n            case 1: return 'media-status-info';\n            case 2: return 'media-status-info';\n            case 3: return 'media-status-success';\n            case 4: return 'media-status-error';\n            case 5: return 'media-status-error';\n            case 6: return 'media-status-error';\n            case -1: return 'media-status-success';\n            default: return 'media-status-default';\n        }\n    }\n\n    export function StatusToIcon(status: number): string {\n        switch (status) {\n            case 0: return 'exclamation-triangle';\n            case 1: return 'info-circle';\n            case 2: return 'info-circle';\n            case 3: return 'check-circle';\n            case 4: return 'exclamation-circle';\n            case 5: return 'exclamation-circle';\n            case 6: return 'exclamation-circle';\n            case -1: return 'check-circle';\n            default: return 'question-circle';\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-action-icon',\n    template: `\n        <div class=\"action-icon\" [attr.title]=\"title\" [class.active]=\"active\" [class.disabled]=\"disabled\">\n            <fa-icon [icon]=\"['fad', icon]\"></fa-icon>\n        </div>\n    `,\n    styleUrls: ['./action-icon.component.scss'],\n})\nexport class ActionIconComponent {\n    @Input()\n    public icon: string;\n\n    @Input()\n    public title: string;\n\n    @Input()\n    public active: boolean = false;\n\n    @Input()\n    public disabled: boolean = false;\n}\n","import { Directive, ElementRef, Input } from '@angular/core';\n\n@Directive({\n    selector: '[autofocus]'\n})\nexport class AutofocusDirective {\n    @Input()\n    public set autofocus(condition: boolean) {\n        this._autofocus = (condition !== false);\n    }\n\n    private _autofocus: boolean;\n\n    constructor(private el: ElementRef) { }\n\n    public ngOnInit() {\n        if (this._autofocus || typeof this._autofocus === \"undefined\") {\n            setTimeout(() => { this.el.nativeElement.focus(); });\n        }\n    }\n}","import { Component, Input } from '@angular/core';\nimport { ClipboardService } from '@services/clipboard.service';\nimport { NotificationsService } from 'angular2-notifications';\n\n@Component({\n    selector: 'app-copy-box',\n    templateUrl: './copy-box.component.html',\n    styleUrls: ['./copy-box.component.scss']\n})\nexport class CopyBoxComponent {\n    @Input()\n    public text: string;\n\n    constructor(private clipboard: ClipboardService, private notifications: NotificationsService) { }\n\n    public onCopy() {\n        this.clipboard.write(this.text);\n        this.notifications.success('Success', 'Copied to clipboard.', { timeOut: 5000 });\n    }\n}\n","<div class=\"copy-box-container\">\n    <input type=\"text\" [ngModel]=\"text\" readonly />\n    <button class=\"button secondary\" (click)=\"onCopy()\">\n        <fa-icon [icon]=\"['fad', 'clipboard']\"></fa-icon>Copy\n    </button>\n</div>","import { Component } from '@angular/core';\nimport { ElementRef } from '@angular/core';\nimport { DownloadService } from '@services/download.service';\nimport { ViewChild } from '@angular/core';\n\n@Component({\n    selector: 'app-download',\n    template: `<a #anchor [href]=\"url\"></a>`,\n    styles: [`:host { visibility: hidden; }`]\n})\nexport class DownloadComponent {\n    public url: string = undefined;\n\n    @ViewChild('anchor', { static: true })\n    public anchor: ElementRef;\n\n    constructor(download: DownloadService) {\n        download.downloadComponent = this;\n    }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { AbstractControlDirective } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { Input } from '@angular/core';\n\n@Component({\n    selector: 'app-form-error',\n    template: `\n        <ul class=\"form-errors\" *ngIf=\"shouldShowErrors()\">\n            <li *ngFor=\"let error of errors()\">{{ error }}</li>\n        </ul>`,\n    styleUrls: ['./form-error.component.scss']\n})\nexport class FormErrorComponent {\n    @Input()\n    private control: AbstractControlDirective | AbstractControl;\n\n    @Input()\n    private checkDirty: boolean = false;\n\n    @Input()\n    private messages: { [key: string]: string } = {};\n\n    public shouldShowErrors(): boolean {\n        return this.control && this.control.errors && (this.control.touched || (this.checkDirty && this.control.dirty));\n    }\n\n    public errors(): Array<string> {\n        return Object.keys(this.control.errors)\n            .map(key => this.messages[key] || undefined)\n            .filter(text => text);\n    }\n}\n","import { Component, Input, HostListener, ViewChild, Output, EventEmitter, ElementRef } from '@angular/core';\nimport { PopoverComponent } from '@common/popover/popover.component';\n\n@Component({\n    selector: 'app-guarded-action',\n    templateUrl: './guarded-action.component.html',\n    styleUrls: ['./guarded-action.component.scss'],\n})\nexport class GuardedActionComponent {\n    @Input()\n    public question: string = '';\n\n    @Input()\n    public additional: Array<string> = [];\n\n    @Input()\n    public action: string = '';\n\n    @Input()\n    public align: string = 'left';\n\n    @Output()\n    public confirmed = new EventEmitter<void>();\n\n    @ViewChild('popover', { static: true })\n    public popover: PopoverComponent;\n\n    @ViewChild('actionButton', { static: true })\n    public actionButton: ElementRef;\n\n    constructor(private host: ElementRef) { }\n\n    @HostListener('click', ['$event'])\n    public onClick($event: MouseEvent) {\n        this.popover.target = this.host.nativeElement;\n        this.popover.toggle($event, true);\n        setTimeout(() => this.actionButton.nativeElement.focus());\n    }\n}\n","<ng-content></ng-content>\n\n<app-popover #popover my=\"top {{ align }}\" at=\"bottom {{ align }}\" [x-offset]=\"0\" [y-offset]=\"0\">\n    <div class=\"popover-section\">\n        <div class=\"popover-item\"><strong>{{ question }}</strong></div>\n    </div>\n    <div class=\"popover-section\" *ngFor=\"let text of additional\">\n        <div class=\"popover-item\">{{ text }}</div>\n    </div>\n    <div class=\"popover-section\">\n        <div class=\"popover-item\">\n            <button class=\"button secondary hollow small\">Cancel</button>\n            <button #actionButton class=\"button alert small\" (click)=\"confirmed.emit()\">{{ action }}</button>\n        </div>\n    </div>\n</app-popover>","import { Component, Input, OnInit, OnChanges } from '@angular/core';\n\n@Component({\n    selector: 'app-icon',\n    template: `\n        <div class=\"icon\" [attr.title]=\"title\" [style.width.px]=\"size\" [style.height.px]=\"size\">\n            <div class=\"svg\" [inlineSVG]=\"svgResourceUrl\" [style.height.px]=\"height || size\"></div>\n        </div>\n    `,\n    styleUrls: ['./icon.component.scss'],\n})\nexport class IconComponent implements OnInit, OnChanges {\n    @Input()\n    public svg: string;\n    public svgResourceUrl: string;\n\n    @Input()\n    public size: number = 28;\n\n    @Input()\n    public height: number;\n\n    @Input()\n    public title: string;\n\n    public ngOnInit() {\n        this.svgResourceUrl = `assets/svg/${this.svg}.svg`;\n    }\n\n    public ngOnChanges(changes: any) {\n        if (!changes.svg) { return; }\n        this.svgResourceUrl = `assets/svg/${this.svg}.svg`;\n    }\n}\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { DOCUMENT } from \"@angular/common\";\n\nimport { SVGCache } from './svg-cache.service';\n\n@Directive({\n  selector: '[inlineSVG]',\n  providers: [SVGCache]\n})\nexport class InlineSVGDirective implements OnInit, OnChanges {\n  @Input() inlineSVG: string;\n  @Input() replaceContents: boolean = true;\n  @Input() prepend: boolean = false;\n  @Input() cacheSVG: boolean = true;\n  @Input() removeSVGAttributes: Array<string>;\n  @Input() forceEvalStyles: boolean = false;\n  @Input() evalScripts: 'always' | 'once' | 'never' = 'always';\n  @Input() fallbackImgUrl: string;\n\n  @Output() onSVGInserted: EventEmitter<SVGElement> = new EventEmitter<SVGElement>();\n  @Output() onSVGFailed: EventEmitter<any> = new EventEmitter<any>();\n\n  /** @internal */\n  private _absUrl: string;\n\n  /** @internal */\n  private _supportsSVG: boolean = true;\n\n  /** @internal */\n  private _ranScripts: { [url: string]: boolean } = {};\n\n  constructor(\n    @Inject(DOCUMENT) private _document /*: HTMLDocument*/,\n    private _el: ElementRef,\n    private _svgCache: SVGCache) {\n  }\n\n  ngOnInit(): void {\n    this._insertSVG();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['inlineSVG']) {\n      this._insertSVG();\n    }\n  }\n\n  /** @internal */\n  private _insertSVG(): void {\n    if (!this._supportsSVG) {\n      return;\n    }\n\n    // Check if the browser supports embed SVGs\n    if (!this._checkSVGSupport()) {\n      this._fail('Embed SVG not supported by browser');\n      this._supportsSVG = false;\n      return;\n    }\n\n    // Check if a URL was actually passed into the directive\n    if (!this.inlineSVG) {\n      this._fail('No URL passed to [inlineSVG]');\n      return;\n    }\n\n    // Support for symbol IDs\n    if (this.inlineSVG.charAt(0) === '#' || this.inlineSVG.indexOf('.svg#') > -1) {\n      const elSvg = this._document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      const elSvgUse = this._document.createElementNS('http://www.w3.org/2000/svg', 'use');\n      elSvgUse.setAttributeNS('http://www.w3.org/1999/xlink', 'href', this.inlineSVG);\n      elSvg.appendChild(elSvgUse);\n\n      this._insertEl(elSvg);\n\n      this.onSVGInserted.emit(elSvg);\n      return;\n    }\n\n    // Get absolute URL, and check if it's actually new\n    const absUrl = this._getAbsoluteUrl(this.inlineSVG);\n\n    if (absUrl !== this._absUrl) {\n      this._absUrl = absUrl;\n\n      // Fetch SVG via cache mechanism\n      this._svgCache.getSVG(this._absUrl, this.cacheSVG)\n        .subscribe(\n          (svg: SVGElement) => {\n            // Insert SVG\n            if (svg && this._el.nativeElement) {\n              if (this.removeSVGAttributes) {\n                this._removeAttributes(svg, this.removeSVGAttributes);\n              }\n\n              this._insertEl(svg);\n\n              // Script evaluation\n              this._evalScripts(svg, absUrl);\n\n              // Force evaluation of <style> tags since IE doesn't do it.\n              // Reference: https://github.com/arkon/ng-inline-svg/issues/17\n              if (this.forceEvalStyles) {\n                const styleTags = svg.querySelectorAll('style');\n                Array.prototype.forEach.call(styleTags, tag => tag.textContent += '');\n              }\n\n              this.onSVGInserted.emit(svg);\n            }\n          },\n          (err: any) => {\n            this._fail(err);\n          }\n        );\n    }\n  }\n\n  /** @internal */\n  private _getAbsoluteUrl(url: string): string {\n    return url;\n\n    // const base = this._document.createElement('BASE') as HTMLBaseElement;\n    // base.href = url;\n    //\n    // return base.href;\n  }\n\n  /** @internal */\n  private _removeAttributes(svg: SVGElement, attrs: Array<string>) {\n    const innerEls = svg.getElementsByTagName('*');\n\n    for (let i = 0; i < innerEls.length; i++) {\n      const elAttrs = innerEls[i].attributes;\n\n      for (let j = 0; j < elAttrs.length; j++) {\n        if (attrs.indexOf(elAttrs[j].name.toLowerCase()) > -1) {\n          innerEls[i].removeAttribute(elAttrs[j].name);\n        }\n      }\n    }\n  }\n\n  /** @internal */\n  private _insertEl(el: Element) {\n    if (this.replaceContents && !this.prepend) {\n      this._el.nativeElement.innerHTML = '';\n    }\n\n    if (this.prepend) {\n      this._el.nativeElement.insertBefore(el, this._el.nativeElement.firstChild);\n    } else {\n      this._el.nativeElement.appendChild(el);\n    }\n  }\n\n  // Based off code from https://github.com/iconic/SVGInjector\n  /** @internal */\n  private _evalScripts(svg: SVGElement, url: string) {\n    const scripts = svg.querySelectorAll('script');\n    const scriptsToEval = [];\n    let script, scriptType;\n\n    // Fetch scripts from SVG\n    for (let i = 0; i < scripts.length; i++) {\n      scriptType = scripts[i].getAttribute('type');\n\n      if (!scriptType || scriptType === 'application/ecmascript' || scriptType === 'application/javascript') {\n        script = scripts[i].innerText || scripts[i].textContent;\n        scriptsToEval.push(script);\n        svg.removeChild(scripts[i]);\n      }\n    }\n\n    // Run scripts in closure as needed\n    if (scriptsToEval.length > 0 && (this.evalScripts === 'always' ||\n        (this.evalScripts === 'once' && !this._ranScripts[url]))) {\n      for (let i = 0; i < scriptsToEval.length; i++) {\n        new Function(scriptsToEval[i])(window);\n      }\n\n      this._ranScripts[url] = true;\n    }\n  }\n\n  /** @internal */\n  private _checkSVGSupport() {\n    return typeof SVGRect !== 'undefined';\n  }\n\n  /** @internal */\n  private _fail(msg: string) {\n    this.onSVGFailed.emit(msg);\n\n    // Insert fallback image, if specified\n    if (this.fallbackImgUrl) {\n      const elImg = document.createElement('img');\n      elImg.src = this.fallbackImgUrl;\n\n      this._insertEl(elImg);\n    }\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { DOCUMENT } from \"@angular/common\";\nimport { Observable, of } from 'rxjs';\nimport { map, catchError, finalize, share } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class SVGCache {\n    /** @internal */\n    private static _cache: Map<string, SVGElement>;\n\n    /** @internal */\n    private static _inProgressReqs: Map<string, Observable<SVGElement>>;\n\n    constructor(\n        @Inject(DOCUMENT) private _document /*: HTMLDocument */,\n        private http: HttpClient) {\n        if (!SVGCache._cache) {\n            SVGCache._cache = new Map<string, SVGElement>();\n        }\n\n        if (!SVGCache._inProgressReqs) {\n            SVGCache._inProgressReqs = new Map<string, Observable<SVGElement>>();\n        }\n    }\n\n    getSVG(url: string, cache: boolean = true): Observable<SVGElement> {\n        // Return cached copy if it exists\n        if (cache && SVGCache._cache.has(url)) {\n            return of(this._cloneSVG(SVGCache._cache.get(url)));\n        }\n\n        // Return existing fetch observable\n        if (SVGCache._inProgressReqs.has(url)) {\n            return SVGCache._inProgressReqs.get(url);\n        }\n\n        // Otherwise, make the HTTP call to fetch\n        const req = this.http.get(url, { responseType: 'text' }).pipe(\n            catchError((err: any) => err),\n            finalize(() => {\n                SVGCache._inProgressReqs.delete(url);\n            }),\n            share(),\n            map((svgText: string) => {\n                const svgEl = this._svgElementFromString(svgText);\n                SVGCache._cache.set(url, svgEl);\n                return this._cloneSVG(svgEl);\n            }));\n\n        SVGCache._inProgressReqs.set(url, req);\n\n        return req;\n    }\n\n    /** @internal */\n    private _svgElementFromString(str: string): SVGElement | never {\n        const div: HTMLElement = this._document.createElement('DIV');\n        div.innerHTML = str;\n\n        const svg = div.querySelector('svg') as SVGElement;\n\n        if (!svg) {\n            throw new Error('No SVG found in loaded contents');\n        }\n\n        return svg;\n    }\n\n    /** @internal */\n    private _cloneSVG(svg: SVGElement): SVGElement {\n        return svg.cloneNode(true) as SVGElement;\n    }\n}\n","import { Component, Input } from \"@angular/core\";\n\n@Component({\n    selector: 'app-loading-indicator',\n    template: `\n    <div class=\"loading-indicator\">\n        <p-progressSpinner animationDuration=\"2s\" [strokeWidth]=\"6\" [fill]=\"'rgba(51, 190, 255, 0.2)'\"></p-progressSpinner>\n    </div>`,\n    styleUrls: ['./loading-indicator.component.scss']\n})\nexport class LoadingIndicatorComponent {\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, Output, Renderer2, ViewChild } from '@angular/core';\nimport { BehaviorSubject, fromEvent, Subscription, timer } from 'rxjs';\nimport { filter, skipUntil, take } from 'rxjs/operators';\n\nlet _VisiblePopoverCount: number = 0;\nexport function VisiblePopoverCount(): number {\n    return _VisiblePopoverCount;\n}\n\nexport function HideAllPopovers() {\n    document.dispatchEvent(new CustomEvent('hidePopovers'));\n}\n\n// based on: https://github.com/meiriko/ng2-pop-over\n\n@Component({\n    selector: 'app-popover',\n    template: `\n        <div #popOverContent class=\"popover-component\" [ngClass]=\"contentClass\" [class.shown]=\"visible$ | async\">\n            <div class=\"app-popover-content\">\n                <ng-content *ngIf=\"visible$ | async\"></ng-content>\n            </div>\n        </div>\n    `,\n})\nexport class PopoverComponent implements AfterViewInit, OnDestroy {\n    @Input() my: string;\n    @Input() at: string;\n    @Input('x-offset') xOffset: number = 0;\n    @Input('y-offset') yOffset: number = 0;\n    @Input('content-class') contentClass: string;\n    @Input() target: HTMLElement;\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('popOverContent', { static: true })\n    public content: any;\n\n    public visible$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    public get visible() { return this.visible$.value; }\n\n    constructor(private renderer: Renderer2) { }\n\n    public ngOnDestroy() {\n        this.subscriptions.forEach(o => o.unsubscribe());\n        this.subscriptions = [];\n\n        if (this.visible) { _VisiblePopoverCount = Math.max(0, _VisiblePopoverCount - 1); }\n    }\n\n    public ngAfterViewInit(): any {\n        this.renderer.setStyle(this.content.nativeElement, 'opacity', '0');\n        this.renderer.setStyle(this.content.nativeElement, 'visibility', 'hidden');\n        return undefined;\n    }\n\n    private partsContain(parts: string[], type: string): boolean {\n        return parts.indexOf(type) >= 0;\n    }\n\n    private computePosition(element: any, event: MouseEvent, myOverride: string = undefined, atOverride: string = undefined, xOffsetOverride: number = undefined, yOffsetOverride: number = undefined): [number, number] {\n        let elementBounds = element.getBoundingClientRect();\n        let elementParts = (myOverride || this.my || '').split(/\\s+/);\n        let elementOffsetX = this.partsContain(elementParts, 'right') ? elementBounds.width : 0;\n        let elementOffsetY = this.partsContain(elementParts, 'bottom') ? elementBounds.height : 0;\n\n        let target: any = this.target || event.target;\n        let targetBounds = target.getBoundingClientRect();\n        let targetParts = (atOverride || this.at || '').split(/\\s+/);\n        let targetX = this.partsContain(targetParts, 'right') ? (targetBounds.left + targetBounds.width) : targetBounds.left;\n        let targetY = this.partsContain(targetParts, 'bottom') ? (targetBounds.top + targetBounds.height) : targetBounds.top;\n\n        return [\n            targetX - elementOffsetX + (xOffsetOverride || this.xOffset),\n            targetY - elementOffsetY + (yOffsetOverride || this.yOffset)\n        ];\n    }\n\n    private subscriptions: Array<Subscription> = [];\n\n    public show(event: MouseEvent, suppressHideAllPopovers: boolean = false) {\n        if (!suppressHideAllPopovers) { HideAllPopovers(); }\n        this.subscriptions.forEach(o => o.unsubscribe());\n        this.subscriptions = [];\n\n        let element = this.content.nativeElement;\n        this.renderer.setStyle(element, 'visibility', 'inherit');\n\n        if (!this.visible) {\n            this.visible$.next(true);\n            _VisiblePopoverCount++;\n        }\n\n        timer(0).pipe(take(1)).subscribe(() => {\n            var [x, y] = this.computePosition(element, event);\n            var [myOverride, atOverride] = [String(this.my), String(this.at)]\n            var [xOffsetOverride, yOffsetOverride] = [Number(this.xOffset), Number(this.yOffset)]\n            let needToReposition = false;\n            if (x + element.offsetWidth + 10 > window.innerWidth) {\n                console.log(\"Going to reposition the popup because it's falling off the side of the screen\")\n                myOverride = myOverride.replace(\"left\", \"right\");\n                atOverride = atOverride.replace(\"left\", \"right\");\n                xOffsetOverride *= -1;\n                needToReposition = true;\n            }\n            if (y + element.offsetHeight + 10 > window.innerHeight) {\n                myOverride = myOverride.replace(\"top\", \"bottom\");\n                atOverride = atOverride.replace(\"bottom\", \"top\");\n                yOffsetOverride *= -1;\n\n                if (this.computePosition(element, event, myOverride, atOverride, xOffsetOverride, yOffsetOverride)[1] > 0) {\n                    console.log(\"Going to reposition the popup because it's falling off the bottom of the screen\")\n                    needToReposition = true;\n                }\n            }\n\n            if (needToReposition) {\n                [x, y] = this.computePosition(element, event, myOverride, atOverride, xOffsetOverride, yOffsetOverride);\n            }\n\n            if (y + element.offsetHeight + 10 > window.innerHeight) {\n                console.log(\"Preventing the popup from falling off the bottom of the screen\")\n                this.renderer.setStyle(element, 'bottom', 0 + 'px');\n            }\n\n            this.renderer.setStyle(element, 'top', y + 'px');\n            this.renderer.setStyle(element, 'left', x + 'px');\n            this.renderer.setStyle(element, 'opacity', '1');\n\n            this.subscriptions.push(fromEvent(element.ownerDocument, 'click')\n                .pipe(skipUntil(timer(0)))\n                .pipe(filter((event: MouseEvent) => {\n                    return !element.contains(event.target) && element.ownerDocument.contains(event.target);\n                }))\n                .pipe(take(1))\n                .subscribe((v) => {\n                    this.hide();\n                    this.onClose.emit();\n                }));\n            this.subscriptions.push(fromEvent(document, 'hidePopovers').subscribe(() => {\n                this.hide();\n                this.onClose.emit();\n            }));\n        })\n    }\n\n    public hide() {\n        this.renderer.setStyle(this.content.nativeElement, 'opacity', '0');\n        this.renderer.setStyle(this.content.nativeElement, 'visibility', 'hidden');\n        this.renderer.setStyle(this.content.nativeElement, 'bottom', null);\n\n        if (this.visible) {\n            this.visible$.next(false);\n            _VisiblePopoverCount = Math.max(0, _VisiblePopoverCount - 1);\n        }\n    }\n\n    public toggle(event: MouseEvent, suppressHideAllPopovers: boolean = false) {\n        this.visible$\n            .pipe(take(1))\n            .subscribe((visible: boolean) => {\n                visible ? this.hide() : this.show(event, suppressHideAllPopovers)\n            });\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-redirect',\n    template: ``,\n})\nexport class RedirectComponent {\n    constructor(private router: Router) { }\n\n    public ngOnInit() {\n        this.router.navigate(['/media']);\n    }\n}\n","import { DomSanitizer } from '@angular/platform-browser';\nimport { Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'safeHtml'\n})\nexport class SafeHtmlPipe {\n    constructor(private sanitizer: DomSanitizer) { }\n\n    public transform(value) {\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n    }\n}\n\n@Pipe({ name: 'safeResourceUrl' })\nexport class SafeResourceUrlPipe {\n    constructor(private sanitizer: DomSanitizer) { }\n\n    public transform(value) {\n        return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n    }\n}","import { Component, Input, OnInit, forwardRef, OnChanges, TemplateRef, ViewChild, ElementRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nexport interface SelectionBoxItem {\n    display: string;\n    header?: string;\n    value: any;\n    data: any;\n}\n\n@Component({\n    selector: 'app-selection-box',\n    templateUrl: './selection-box.component.html',\n    styleUrls: ['./selection-box.component.scss'],\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => SelectionBoxComponent),\n        multi: true\n    }]\n})\nexport class SelectionBoxComponent implements ControlValueAccessor, OnInit, OnChanges {\n    @Input()\n    public items: Array<SelectionBoxItem> = [];\n\n    @Input()\n    public max: number = 0;\n\n    @Input()\n    public placeholder: string = 'Search...';\n\n    @Input()\n    public itemTemplate: TemplateRef<any>;\n\n    @ViewChild('input', { static: true })\n    public input: ElementRef;\n\n    public search: string = '';\n    public filtered: Array<SelectionBoxItem> = [];\n    public focused: boolean = false;\n    public focusedItem: SelectionBoxItem;\n    public selectedItems: Array<SelectionBoxItem> = [];\n\n    private values: Array<any> = [];\n    public writeValue(value: any) {\n        this.values = value || [];\n        this.updateFilteredItems();\n    }\n\n    private onChange: any;\n    public registerOnChange(value: any) { this.onChange = value; }\n    private onTouched: any;\n    public registerOnTouched(value: any) { this.onTouched = value; }\n\n    public ngOnInit() { this.updateFilteredItems(); }\n    public ngOnChanges() { this.updateFilteredItems(); }\n\n    public onFocusChange(value: boolean) {\n        if (value) {\n            this.focused = true;\n        } else {\n            setTimeout(() => {\n                this.focused = false;\n                this.focusedItem = undefined;\n                this.search = '';\n                this.updateFilteredItems();\n            }, 150);\n        }\n    }\n\n    public updateFilteredItems() {\n        this.selectedItems = this.values.map(o => this.items.find(i => i.value === o)).filter(o => o);\n\n        const search = (this.search || '').trim().toLowerCase();\n        this.filtered = this.items.filter(o => {\n            return this.selectedItems.indexOf(o) < 0 &&\n                (!search || o.display.toLowerCase().indexOf(search) >= 0);\n        });\n    }\n\n    public onArrowDown() {\n        let index = -1;\n        if (this.focusedItem) { index = this.filtered.indexOf(this.focusedItem); }\n\n        if (index >= 0 && index < this.filtered.length - 1) {\n            this.focusedItem = this.filtered[index + 1];\n        } else {\n            this.focusedItem = this.filtered.length ? this.filtered[0] : undefined;\n        }\n    }\n\n    public onArrowUp() {\n        let index = -1;\n        if (this.focusedItem) { index = this.filtered.indexOf(this.focusedItem); }\n\n        if (index > 0 && index < this.filtered.length) {\n            this.focusedItem = this.filtered[index - 1];\n        } else {\n            this.focusedItem = this.filtered.length ? this.filtered[this.filtered.length - 1] : undefined;\n        }\n    }\n\n    public onSelect(item: SelectionBoxItem) {\n        if (this.filtered.indexOf(item) < 0) { return; }\n\n        this.selectedItems.push(item);\n        this.values = this.selectedItems.map(o => o.value);\n        this.onChange(this.values);\n\n        this.input.nativeElement.blur();\n    }\n\n    public onRemove(item: SelectionBoxItem) {\n        this.selectedItems = this.selectedItems.filter(o => o !== item);\n        this.values = this.selectedItems.map(o => o.value);\n        this.onChange(this.values);\n\n        this.updateFilteredItems();\n    }\n}\n","<div class=\"selection-box-container\">\n    <div class=\"selection-item\" *ngFor=\"let item of selectedItems\">\n        <div class=\"selection-item-display\">{{ item.display }}</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"onRemove(item)\"></app-action-icon>\n    </div>\n\n    <input #input type=\"text\"\n        [class.hidden]=\"selectedItems.length >= items.length || (max && selectedItems.length >= max)\"\n        [(ngModel)]=\"search\"\n        (ngModelChange)=\"updateFilteredItems()\"\n        [placeholder]=\"placeholder\"\n        (focus)=\"onFocusChange(true)\"\n        (blur)=\"onFocusChange(false)\"\n        (keydown.arrowdown)=\"$event.preventDefault(); onArrowDown()\"\n        (keydown.arrowup)=\"$event.preventDefault(); onArrowUp()\"\n        (keydown.enter)=\"onSelect(focusedItem)\" />\n\n    <div class=\"autocomplete-position\">\n        <div class=\"autocomplete-container\" *ngIf=\"focused\">\n            <ng-container *ngFor=\"let item of filtered; let index = index\">\n                <div class=\"autocomplete-header\" *ngIf=\"item.header && (index === 0 || filtered[index - 1].header !== item.header)\">{{ item.header }}</div>\n                <div class=\"autocomplete-item\" [class.focus]=\"item === focusedItem\" (click)=\"onSelect(item)\">\n                    <ng-template [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n<ng-template #defaultItemTemplate let-item=\"item\">{{ item.display }}</ng-template>","import { Directive } from '@angular/core';\nimport { Input } from '@angular/core';\nimport { OnChanges } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\n@Directive({\n    selector: '[setTitle]'\n})\nexport class SetTitleDirective implements OnChanges {\n    @Input('setTitle')\n    public title: string;\n\n    constructor(private _title: Title) { }\n\n    public ngOnChanges() { this.updateTitle(); }\n\n    private updateTitle() {\n        this._title.setTitle(this.title ? `${this.title} | HopeStream` : 'HopeStream');\n    }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'app-video-player',\n    template: `\n        <ng-container *ngIf=\"url\">\n        <iframe [src]=\"url | safeResourceUrl\" width=\"560\" height=\"349\" frameborder=\"0\" allowfullscreen></iframe>\n        </ng-container>\n        <div class=\"placeholder\" *ngIf=\"!url\">\n            <div class=\"header\">Video Preview Not Available</div>\n            <div *ngIf=\"error\">{{ error }}</div>\n        </div>\n    `,\n    styleUrls: ['./video-player.component.scss'],\n})\nexport class VideoPlayerComponent {\n    @Input()\n    public url: string;\n\n    @Input()\n    public error: string;\n}\n","import { AuthService } from '../auth.service';\nimport { Observable, Subject } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators';\n\nexport class AppAPI {\n    constructor(private auth: AuthService) { }\n\n    public getCurrentUser(): Observable<App.User> {\n        return this.auth.GET('/admin/api/1/users', {}).pipe(map(response => {\n            return App.User.fromJSON(response.body.users[0]);\n        }));\n    }\n\n    public getCurrentOrganization(): Observable<App.Organization> {\n        return this.auth.GET('/admin/api/1/organizations', {}).pipe(map(response => {\n            return response.body.organizations.map(o => App.Organization.fromJSON(o))[0];\n        }));\n    }\n\n    public updateOrganization(organization: App.OrganizationUpdate): Observable<App.Organization> {\n        return this.auth.PUT(`/admin/api/1/organizations/${organization.id}`, {}, {}, organization).pipe(mergeMap(response => {\n            return this.getCurrentOrganization();\n        }));\n    }\n\n    public uploadImageForOrganization(organization: App.Organization, image: File, progress: (progress: number) => void = undefined): Observable<App.Organization> {\n        return this.auth.UPLOAD(`/admin/api/1/organizations/${organization.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.organizations.map(o => App.Organization.fromJSON(o))[0];\n        }));\n    }\n\n    public getAllMedia(): Observable<Array<App.Media>> {\n        return this.auth.GET('/admin/api/1/media', {}).pipe(map(response => {\n            return (response.body.media || []).map(o => App.Media.fromJSON(o));\n        }));\n    }\n\n    public getMedia(id: number): Observable<App.Media> {\n        return this.auth.GET(`/admin/api/1/media/${id}`, {}).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public createMedia(): Observable<App.Media> {\n        return this.auth.POST('/admin/api/1/media', {}).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public updateMedia(media: App.MediaUpdate): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}`, {}, {}, media).pipe(mergeMap(response => {\n            return this.getMedia(media.id);\n        }));\n    }\n\n    public updateMediaStatus(media: App.Media, status: number): Observable<App.Media> {\n        let data: any = { status: status };\n\n        if (status === 1) {\n            data.youtubeStatus = media.youtubeStatus ? 'queued' : null;\n            data.vimeoStatus = null;\n            data.audioStatus = null;\n        }\n\n        return this.auth.PUT(`/admin/api/1/media/${media.id}`, {}, {}, data).pipe(mergeMap(response => {\n            return this.getMedia(media.id);\n        }));\n    }\n\n    public uploadImageForMedia(media: App.Media, image: File, progress: (progress: number) => void = undefined): Observable<App.Media> {\n        return this.auth.UPLOAD(`/admin/api/1/media/${media.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public setMediaImageToSeries(media: App.Media, series: App.Series): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}/image`, { seriesId: `${series.id}` }).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public setMediaImageToOrganization(media: App.Media, organization: App.Organization): Observable<App.Media> {\n        return this.auth.PUT(`/admin/api/1/media/${media.id}/image`, { organizationId: `${organization.id}` }).pipe(map(response => {\n            return response.body.media.map(o => App.Media.fromJSON(o))[0];\n        }));\n    }\n\n    public uploadCaptionFileForMedia(media: App.Media, captions: File, progress: (progress: number) => void = undefined): Observable<void> {\n        return this.auth.UPLOAD(`/admin/api/1/media/${media.id}/captions`, captions, 'captions', progress).pipe(map(() => { }));\n    };\n\n    private getUploadPolicyForMedia(media: App.Media, file: File): Observable<App.MediaUploadPolicy> {\n        return this.auth.GET(`/admin/api/1/media/${media.id}/upload-policy`, { contentType: file.type }).pipe(map(response => {\n            return App.MediaUploadPolicy.fromJSON(response.body);\n        }));\n    }\n\n    public uploadFileForMedia(media: App.Media, file: File, progress: (progress: number) => void = undefined): Observable<any> {\n        return this.getUploadPolicyForMedia(media, file).pipe(mergeMap(policy => {\n            let form: FormData = new FormData();\n            form.append('key', policy.key);\n            form.append('AWSAccessKeyId', policy.accessKeyId);\n            form.append('acl', policy.acl);\n            form.append('policy', policy.policy);\n            form.append('signature', policy.signature);\n            form.append('Content-Type', file.type);\n            form.append('file', file, file.name);\n\n            let result = new Subject<any>();\n            let xhr: XMLHttpRequest = new XMLHttpRequest();\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200 || xhr.status === 204) {\n                        result.next(xhr.response && JSON.parse(xhr.response) || {});\n                        result.complete();\n                    } else {\n                        result.error(xhr.response);\n                    }\n                }\n            };\n\n            xhr.upload.onprogress = $event => {\n                let value = ($event.loaded / $event.total);\n                progress && progress(value);\n            };\n\n            xhr.open('POST', policy.url, true);\n            xhr.send(form);\n\n            return result;\n        }));\n    }\n\n    public deleteMedia(media: App.Media): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/media/${media.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllSeries(): Observable<Array<App.Series>> {\n        return this.auth.GET('/admin/api/1/series', {}).pipe(map(response => {\n            return (response.body.series || []).map(o => App.Series.fromJSON(o));\n        }));\n    }\n\n    public getSeries(id: number): Observable<App.Series> {\n        return this.auth.GET(`/admin/api/1/series/${id}`, {}).pipe(map(response => {\n            return response.body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public createSeries(): Observable<App.Series> {\n        return this.auth.POST('/admin/api/1/series', {}).pipe(map(response => {\n            return response.body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public updateSeries(series: App.SeriesUpdate): Observable<App.Series> {\n        return this.auth.PUT(`/admin/api/1/series/${series.id}`, {}, {}, series).pipe(mergeMap(response => {\n            return this.getSeries(series.id);\n        }));\n    }\n\n    public uploadImageForSeries(series: App.Series, image: File, progress: (progress: number) => void = undefined): Observable<App.Series> {\n        return this.auth.UPLOAD(`/admin/api/1/series/${series.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.series.map(o => App.Series.fromJSON(o))[0];\n        }));\n    }\n\n    public deleteSeries(series: App.Series): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/series/${series.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllSpeakers(): Observable<Array<App.Speaker>> {\n        return this.auth.GET('/admin/api/1/speakers', {}).pipe(map(response => {\n            return (response.body.speakers || []).map(o => App.Speaker.fromJSON(o));\n        }));\n    }\n\n    public getSpeaker(id: number): Observable<App.Speaker> {\n        return this.auth.GET(`/admin/api/1/speakers/${id}`, {}).pipe(map(response => {\n            return response.body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public createSpeaker(): Observable<App.Speaker> {\n        return this.auth.POST('/admin/api/1/speakers', {}).pipe(map(response => {\n            return response.body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public updateSpeaker(speaker: App.SpeakerUpdate): Observable<App.Speaker> {\n        return this.auth.PUT(`/admin/api/1/speakers/${speaker.id}`, {}, {}, speaker).pipe(mergeMap(response => {\n            return this.getSpeaker(speaker.id);\n        }));\n    }\n\n    public uploadImageForSpeaker(speaker: App.Speaker, image: File, progress: (progress: number) => void = undefined): Observable<App.Speaker> {\n        return this.auth.UPLOAD(`/admin/api/1/speakers/${speaker.id}/image`, image, 'image', progress).pipe(map(body => {\n            return body.speakers.map(o => App.Speaker.fromJSON(o))[0];\n        }));\n    }\n\n    public deleteSpeaker(speaker: App.Speaker): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/speakers/${speaker.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getAllFeeds(): Observable<Array<App.Feed>> {\n        return this.auth.GET('/admin/api/1/feeds', {}).pipe(map(response => {\n            return (response.body.feeds || []).map(o => App.Feed.fromJSON(o));\n        }));\n    }\n\n    public getFeed(id: number): Observable<App.Feed> {\n        return this.auth.GET(`/admin/api/1/feeds/${id}`, {}).pipe(map(response => {\n            return response.body.feeds.map(o => App.Feed.fromJSON(o))[0];\n        }));\n    }\n\n    public createFeed(): Observable<App.Feed> {\n        return this.auth.POST('/admin/api/1/feeds', {}).pipe(map(response => {\n            return response.body.feeds.map(o => App.Feed.fromJSON(o))[0];\n        }));\n    }\n\n    public updateFeed(feed: App.FeedUpdate): Observable<App.Feed> {\n        return this.auth.PUT(`/admin/api/1/feeds/${feed.id}`, {}, {}, feed).pipe(mergeMap(response => {\n            return this.getFeed(feed.id);\n        }));\n    }\n\n    public uploadImageForFeed(feed: App.Feed, image: File, progress: (progress: number) => void = undefined): Observable<void> {\n        return this.auth.UPLOAD(`/admin/api/1/feeds/${feed.id}/image`, image, 'image', progress).pipe(map(() => { }));\n    }\n\n    public deleteFeed(feed: App.Feed): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/feeds/${feed.id}`, {}).pipe(map(() => { }));\n    }\n\n    public getMediaIdsForFeed(feed: App.Feed): Observable<Array<number>> {\n        return this.auth.GET(`/admin/api/1/feeds/${feed.id}/media`, {}).pipe(map(response => {\n            return response.body.ids || [];\n        }));\n    }\n\n    public addMediaIdToFeed(feed: App.Feed, id: number): Observable<void> {\n        return this.auth.PUT(`/admin/api/1/feeds/${feed.id}/media`, { id: `${id}` }).pipe(map(() => { }));\n    }\n\n    public removeMediaIdFromFeed(feed: App.Feed, id: number): Observable<void> {\n        return this.auth.DELETE(`/admin/api/1/feeds/${feed.id}/media`, { id: `${id}` }).pipe(map(() => { }));\n    }\n\n    public getAllTopics(): Observable<Array<App.Topic>> {\n        return this.auth.GET('/admin/api/1/topics', {}).pipe(map(response => {\n            return (response.body.topics || []).map(o => App.Topic.fromJSON(o));\n        }));\n    }\n}\n\nexport module App {\n    export class User {\n        public id: number;\n        public name: string;\n        public email: string;\n\n        public static fromJSON(json: any): User {\n            let result = new User();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class Organization {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public url: string;\n\n        public static fromJSON(json: any): Organization {\n            let result = new Organization();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface OrganizationUpdate {\n        id: number;\n        name?: string;\n        url?: string;\n        description?: string;\n    }\n\n    export class Media {\n        public id: number;\n        public name: string;\n        public description: string;\n        public date: Date;\n        public status: number;\n        public hidden: boolean;\n        public type: number;\n        public audioUrl: string;\n        public audioStatus: string;\n        public vimeoStatus: string;\n        public youtubeId: string;\n        public youtubeStatus: string;\n        public youtubeMetadataUpdate: boolean;\n        public videoUrl: string;\n        public streamUrl: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public organizationId: number;\n        public seriesId: number;\n        public speakerIds: Array<number>;\n        public topicIds: Array<number>;\n\n        public static fromJSON(json: any): Media {\n            let result = new Media();\n            Object.assign(result, json);\n            result.date = json.date && new Date(json.date);\n            Media.adjustStatusForThirdParties(result);\n            return result;\n        }\n\n        private static adjustStatusForThirdParties(media: Media) {\n            if (media.status === 3) {\n                var audio = media.audioStatus;\n                var vimeo = media.vimeoStatus;\n                var youtube = media.youtubeStatus;\n\n                if (media.type === 1) { // audio\n                    if (audio !== 'complete') {\n                        media.status = 2;\n                    }\n                    if (audio === 'error') {\n                        media.status = 4;\n                    }\n                } else {\n                    if (audio !== 'complete' || vimeo !== 'complete' || (youtube && youtube !== 'complete')) {\n                        media.status = 2;\n                    }\n                    if (audio === 'error' || vimeo === 'error' || youtube === 'error') {\n                        media.status = 4;\n                    }\n                }\n            }\n        }\n    }\n\n    export interface MediaUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n        date?: number;\n        hidden?: boolean;\n        youtubeMetadataUpdate?: boolean;\n        seriesId?: number;\n        speakerIds?: Array<number>;\n        topicIds?: Array<number>;\n        youtubeStatus?: string; // BE VERY CAREFUL WHEN SETTING THIS\n    }\n\n    export class MediaUploadPolicy {\n        public url: string;\n        public key: string;\n        public acl: string;\n        public policy: string;\n        public signature: string;\n        public accessKeyId: string;\n\n        public static fromJSON(json: any): MediaUploadPolicy {\n            let result = new MediaUploadPolicy();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export class Series {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public organizationId: number;\n\n        public static fromJSON(json: any): Series {\n            let result = new Series();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface SeriesUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n    }\n\n    export class Speaker {\n        public id: number;\n        public name: string;\n        public description: string;\n        public imageUrl: string;\n        public thumbnailUrl: string;\n        public count: number;\n        public ownerId: number;\n\n        public static fromJSON(json: any): Speaker {\n            let result = new Speaker();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface SpeakerUpdate {\n        id: number;\n        name?: string;\n        description?: string;\n    }\n\n    export class Feed {\n        public id: number;\n        public title: string;\n        public subtitle: string;\n        public description: string;\n        public type: number;\n        public copyright: string;\n        public url: string;\n        public email: string;\n        public category: string;\n        public keywords: string;\n\n        public mediaIds: Array<number> = [];\n\n        public static fromJSON(json: any): Feed {\n            let result = new Feed();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n\n    export interface FeedUpdate {\n        id: number;\n        title?: string;\n        subtitle?: string;\n        description?: string;\n        type?: number;\n        copyright?: string;\n        url?: string;\n        email?: string;\n        category?: string;\n        keywords?: string;\n    }\n\n    export class Topic {\n        public id: number;\n        public name: string;\n        public category: string;\n\n        public static fromJSON(json: any): Topic {\n            let result = new Topic();\n            Object.assign(result, json);\n            return result;\n        }\n    }\n}\n","import { AppAPI } from './app.api';\nimport { AuthService } from '../auth.service';\nimport { Injectable } from '@angular/core';\nimport { forkJoin, Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { Router } from '@angular/router';\nimport { UserManager } from './managers/user.manager';\nimport { SeriesManager } from './managers/series.manager';\nimport { SpeakerManager } from './managers/speaker.manager';\nimport { FeedManager } from './managers/feed.manager';\nimport { TopicManager } from './managers/topic.manager';\nimport { OrganizationManager } from './managers/organization.manager';\nimport Hashids from 'hashids';\n\n@Injectable()\nexport class AppService {\n    public API: AppAPI;\n    public hashids = new Hashids('ca8b97bb-de3d-4d22-8716-195354fa1e4c', 11);\n\n    public userManager: UserManager;\n    public organizationManager: OrganizationManager;\n    public seriesManager: SeriesManager;\n    public speakerManager: SpeakerManager;\n    public feedManager: FeedManager;\n    public topicManager: TopicManager;\n\n    private allManagers: Array<Manager> = [];\n\n    constructor(\n        public auth: AuthService,\n        private router: Router,\n    ) {\n        this.API = new AppAPI(auth);\n\n        this.userManager = new UserManager(this.API);\n        this.organizationManager = new OrganizationManager(this.API);\n        this.seriesManager = new SeriesManager(this.API);\n        this.speakerManager = new SpeakerManager(this.API);\n        this.feedManager = new FeedManager(this.API);\n        this.topicManager = new TopicManager(this.API);\n\n        this.allManagers = [\n            this.userManager,\n            this.organizationManager,\n            this.seriesManager,\n            this.speakerManager,\n            this.feedManager,\n            this.topicManager];\n    }\n\n    public start(): Observable<any> {\n        this.allManagers.forEach(o => o.enabled = true);\n        return forkJoin(...this.allManagers.map(o => o.refresh()));\n    }\n\n    public stop() {\n        this.allManagers.forEach(manager => {\n            manager.enabled = false;\n            manager.cancel();\n            manager.reset();\n        });\n    }\n}\n","import { Observable, forkJoin, of } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\nimport { mergeMap, map } from 'rxjs/operators';\n\nexport class FeedManager extends Manager {\n    public static sharedInstance: FeedManager = undefined;\n\n    public feeds: Array<App.Feed> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        FeedManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllFeeds().pipe(mergeMap(feeds => {\n            if (!feeds.length) { return of([]); }\n            return forkJoin(feeds.map(feed => {\n                return this.api.getMediaIdsForFeed(feed).pipe(map(ids => {\n                    feed.mediaIds = ids;\n                    return feed;\n                }));\n            }));\n        }));\n    }\n\n    protected setData(data: any) {\n        this.feeds = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.feeds = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class OrganizationManager extends Manager {\n    public static sharedInstance: OrganizationManager = undefined;\n\n    public organization: App.Organization;\n\n    constructor(private api: AppAPI) {\n        super();\n        OrganizationManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getCurrentOrganization();\n    }\n\n    protected setData(data: any) {\n        this.organization = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.organization = undefined;\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class SeriesManager extends Manager {\n    public static sharedInstance: SeriesManager = undefined;\n\n    public series: Array<App.Series> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        SeriesManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllSeries();\n    }\n\n    protected setData(data: any) {\n        this.series = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.series = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class SpeakerManager extends Manager {\n    public static sharedInstance: SpeakerManager = undefined;\n\n    public speakers: Array<App.Speaker> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        SpeakerManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllSpeakers();\n    }\n\n    protected setData(data: any) {\n        this.speakers = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.speakers = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nexport class TopicManager extends Manager {\n    public static sharedInstance: TopicManager = undefined;\n\n    public topics: Array<App.Topic> = [];\n\n    constructor(private api: AppAPI) {\n        super();\n        TopicManager.sharedInstance = this;\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getAllTopics();\n    }\n\n    protected setData(data: any) {\n        this.topics = data;\n    }\n\n    public reset() {\n        super.reset();\n        this.topics = [];\n    }\n}\n","import { Observable } from 'rxjs';\nimport { Manager } from '@classes/manager';\nimport { App, AppAPI } from '../app.api';\n\nconst USER_KEY = 'hopestream.user';\n\nexport class UserManager extends Manager {\n    public static sharedInstance: UserManager = undefined;\n\n    private _user: App.User = undefined;\n    public get user(): App.User { return this._user; }\n    public set user(user: App.User) {\n        if (!!user) { this.lastRefreshTime = Date.now(); }\n        this._user = user;\n        this.writeUserToLocalStorage();\n        this.update$.next();\n    }\n\n    constructor(private api: AppAPI) {\n        super();\n        UserManager.sharedInstance = this;\n        this._user = this.readUserFromLocalStorage();\n    }\n\n    protected fetchData(): Observable<any> {\n        return this.api.getCurrentUser();\n    }\n\n    protected setData(data: any) {\n        this._user = data;\n        this.writeUserToLocalStorage();\n    }\n\n    public reset() {\n        super.reset();\n        this.user = undefined;\n    }\n\n    private readUserFromLocalStorage() {\n        return JSON.parse(localStorage.getItem(USER_KEY));\n    }\n\n    private writeUserToLocalStorage() {\n        if (!!this.user) {\n            localStorage.setItem(USER_KEY, JSON.stringify(this.user));\n        } else {\n            localStorage.removeItem(USER_KEY);\n        }\n    }\n}\n","import { ActivatedRouteSnapshot, CanActivateChild } from '@angular/router';\nimport { CanActivate } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RouterStateSnapshot } from '@angular/router';\nimport { StateService } from './state.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate, CanActivateChild {\n    constructor(private state: StateService, private router: Router) { }\n\n    public canActivate(route: ActivatedRouteSnapshot, router: RouterStateSnapshot): boolean {\n        return this.state.updateLoggedInState(router.url);\n    }\n\n    public canActivateChild(route: ActivatedRouteSnapshot, router: RouterStateSnapshot): boolean {\n        return this.state.updateLoggedInState(router.url);\n    }\n}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from '@environments/environment';\nimport { BehaviorSubject, Observable, of as ObservableOf, Subject, throwError } from \"rxjs\";\nimport { map, mergeMap, timeout } from \"rxjs/operators\";\nimport { HttpClient, HttpResponse } from '@angular/common/http';\n\nconst OAUTH_CLIENT_ID = 'hopestream-admin';\nconst OAUTH_CLIENT_SECRET = 'f085c37a-5d21-4eb4-8b73-355c11d2e60d';\nconst OAUTH_CLIENT_BASE_64 = btoa(`${OAUTH_CLIENT_ID}:${OAUTH_CLIENT_SECRET}`);\n\ninterface Credentials {\n    accessToken: string;\n    refreshToken?: string;\n}\n\ninterface PendingRequest {\n    method: string;\n    path: string;\n    params: { [key: string]: string | Array<string> };\n    headers: { [key: string]: string };\n    data?: any;\n}\n\nclass PendingSubject extends Subject<HttpResponse<any>> {\n    constructor(public request: PendingRequest) { super(); }\n}\n\n@Injectable()\nexport class AuthService {\n    public loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    public get accessToken(): string { return this.credentials && this.credentials.accessToken; }\n\n    constructor(private http: HttpClient) {\n        this.loggedIn$.next(!!this.credentials);\n    }\n\n    private readonly CREDENTIALS_KEY = 'hopestream.credentials';\n    private get credentials(): Credentials {\n        let credentials = localStorage.getItem(this.CREDENTIALS_KEY);\n        if (!credentials) { return undefined; }\n\n        let result = JSON.parse(credentials) as Credentials;\n\n        return result;\n    }\n    private set credentials(credentials: Credentials) {\n        if (!credentials) {\n            localStorage.removeItem(this.CREDENTIALS_KEY)\n        } else {\n            localStorage.setItem(this.CREDENTIALS_KEY, JSON.stringify(credentials));\n        }\n    }\n\n    public userLogin(username: string, password: string): Observable<boolean> {\n        return this.oauthToken({\n            'grant_type': 'password',\n            'scope': 'admin',\n            'password': password,\n            'username': username,\n        }).pipe(map(credentials => {\n            this.credentials = credentials;\n            this.loggedIn$.next(true);\n            return true;\n        }));\n    }\n\n    public userLogout(): Observable<boolean> {\n        this.credentials = undefined;\n        this.loggedIn$.next(false);\n\n        return ObservableOf(true);\n    }\n\n    public userRefresh(token: string): Observable<boolean> {\n        return this.oauthToken({ 'grant_type': 'refresh_token', 'refresh_token': token })\n            .pipe(map(credentials => {\n                this.credentials = credentials;\n                this.loggedIn$.next(true);\n                return true;\n            }));\n    }\n\n    public userRegister(name: string, email: string, password: string): Observable<void> {\n        return this.getClientCredentialsHeaders().pipe(mergeMap(headers => {\n            let data = {\n                name: name,\n                email: email.toLowerCase(),\n                password: password\n            };\n\n            return this.POST('/account/register', {}, headers, data);\n        }), map(response => { }));\n    }\n\n    public userForgotPassword(email: string): Observable<void> {\n        return this.getClientCredentialsHeaders().pipe(mergeMap(headers => {\n            let data = { email: email };\n\n            return this.POST('/account/reset-password', {}, headers, data);\n        }), map(() => { }));\n    }\n\n    private getClientCredentialsHeaders(): Observable<{ [key: string]: string }> {\n        return this.oauthToken({ 'grant_type': 'client_credentials' })\n            .pipe(map(credentials => {\n                return { 'Authorization': 'Bearer ' + credentials.accessToken };\n            }));\n    }\n\n    private oauthToken(params: { [key: string]: string }): Observable<Credentials> {\n        let headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Basic ' + OAUTH_CLIENT_BASE_64\n        };\n\n        let data = Object.keys(params).map(o => `${o}=${encodeURIComponent(params[o])}`).join('&');\n\n        return this.POST('/oauth/token', {}, headers, data).pipe(map(response => {\n            let data = response.body;\n            if (!data.access_token) { throw 'Invalid access token'; }\n            return { accessToken: data.access_token, refreshToken: data.refresh_token };\n        }));\n    }\n\n    private request(method: string, path: string, params_: { [key: string]: string | Array<string> }, headers_: { [key: string]: string }, data: any): Observable<HttpResponse<any>> {\n        let headers: { [key: string]: string | Array<string> } = { ...(headers_ || {}) };\n\n        if (!!data && !headers['Content-Type']) { headers['Content-Type'] = 'application/json'; }\n        if (!headers['Accept']) { headers['Accept'] = 'application/json'; }\n\n        let responseType: 'blob' | 'json' | 'text' =\n            headers['Accept'] === 'application/octet-stream' ? 'blob' : (headers['Accept'] === 'application/json' ? 'json' : 'text');\n\n        let credentials = this.credentials;\n        if (credentials && !headers['Authorization']) { headers['Authorization'] = `Bearer ${credentials.accessToken}`; }\n\n        // Workaround https://github.com/angular/angular/issues/11058\n        let params: { [key: string]: string | Array<string> } = { ...(params_ || {}) };\n        for (let key in params) {\n            if (params[key] === undefined) {\n                delete params[key];\n            } else {\n                let array: Array<any> = Array.isArray(params[key]) ? params[key] as Array<string> : [params[key] as string];\n                array = array.map(o => {\n                    if (!((o as any) instanceof Date) || !o.getTime()) { return o; }\n                    return o.toISOString(); // serialize dates in a specific way\n                }).filter(o => o !== undefined);\n                if (!array.length) {\n                    delete params[key];\n                } else {\n                    params[key] = array.length === 1 ? array[0] : array;\n                }\n            }\n        }\n\n        let url = environment.apiUrl + path;\n\n        let subject = new Subject<HttpResponse<any>>();\n        this.http.request(method, url, {\n            body: data,\n            headers: headers,\n            params: params,\n            responseType: responseType,\n            observe: 'response',\n        }).subscribe(response => {\n            subject.next(response);\n            subject.complete();\n        }, response => {\n            this.fail(response, { 'method': method, 'path': path, 'params': params_, 'headers': headers_, 'data': data }).subscribe(subject);\n        });\n\n        return subject;\n    }\n\n    public GET(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('GET', path, params, headers, data);\n    }\n\n    public POST(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('POST', path, params, headers, data);\n    }\n\n    public PUT(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PUT', path, params, headers, data);\n    }\n\n    public PATCH(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('PATCH', path, params, headers, data);\n    }\n\n    public DELETE(path: string, params: { [key: string]: string | Array<string> }, headers: { [key: string]: string } = {}, data: any = undefined): Observable<HttpResponse<any>> {\n        return this.request('DELETE', path, params, headers, data);\n    }\n\n    private fail(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        return this.shouldAttemptRequestAgainAfterRefreshing(response, request) || throwError(response);\n    }\n\n    private pending: Array<PendingSubject> = undefined;\n    private shouldAttemptRequestAgainAfterRefreshing(response: HttpResponse<any>, request: PendingRequest): Observable<HttpResponse<any>> {\n        var result: Observable<HttpResponse<any>> = undefined;\n\n        let json = undefined;\n        try { json = response && ((response as any).error || response.body); } catch (error) { }\n        json = json && json.error || json;\n        let error = json && typeof json === 'string' && json.toLowerCase() || '';\n\n        if ((error.indexOf('invalid_token') >= 0 || error.indexOf('unauthorized') >= 0)\n            && (!request.params.grant_type || request.params.grant_type !== 'refresh_token')) {\n            let subject = new PendingSubject(request);\n            result = subject;\n\n            if (!this.pending) {\n                this.pending = new Array<PendingSubject>();\n                this.pending.push(subject);\n                this.processRefresh();\n            } else {\n                this.pending.push(subject);\n            }\n        }\n\n        return result;\n    }\n\n    private processRefresh() {\n        let credentials = this.credentials;\n        if (!credentials || !credentials.accessToken) {\n            this.userLogout();\n            this.completeRefresh();\n            return;\n        }\n\n        if (!!credentials.refreshToken) {\n            this.userRefresh(credentials.refreshToken)\n                .subscribe(response => {\n                    this.completeRefresh();\n                }, response => {\n                    this.userLogout();\n                    this.completeRefresh();\n                });\n        }\n        else {\n            this.userLogout();\n            this.completeRefresh();\n        }\n    }\n\n    private completeRefresh() {\n        let pending = this.pending;\n        this.pending = undefined;\n\n        if (!pending) { return; }\n\n        let credentials = this.credentials;\n        for (let subject of pending) {\n            if (credentials && credentials.accessToken) {\n                let request = subject.request;\n                this.request(request.method, request.path, request.params, request.headers, request.data).subscribe(subject);\n            } else {\n                console.error('completeRefresh() Invalid access token');\n                throwError({\n                    'statusText': 'Invalid access token.',\n                    'status': 401\n                }).subscribe(subject);\n            }\n        }\n    }\n\n    public UPLOAD(path: string, data: string | Blob, name: string, progress: (progress: number) => void = undefined): Observable<any> {\n        let form: FormData = new FormData();\n        form.append(name, data, name);\n\n        let result = new Subject<any>();\n        let xhr: XMLHttpRequest = new XMLHttpRequest();\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200 || xhr.status === 204) {\n                    result.next(xhr.response && JSON.parse(xhr.response) || {});\n                    result.complete();\n                } else {\n                    result.error(xhr.response);\n                }\n            }\n        };\n\n        xhr.upload.onprogress = $event => {\n            let value = ($event.loaded / $event.total);\n            progress && progress(value);\n        };\n\n        xhr.open('POST', environment.apiUrl + path, true);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + this.accessToken);\n        xhr.send(form);\n\n        return result;\n    }\n\n    public stripAPIBaseURL(url: string): string {\n        return url.replace(environment.apiUrl, '');\n    }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class ClipboardService {\n    public target: ElementRef;\n\n    public write(value: string) {\n        this.target.nativeElement.value = value || '';\n        this.target.nativeElement.select();\n        document.execCommand('copy');\n    }\n\n    public read(): Observable<string> {\n        this.target.nativeElement.select();\n        document.execCommand('paste');\n\n        let subject = new Subject<string>();\n        setTimeout(() => {\n            let value = this.target.nativeElement.value;\n            subject.next(value);\n            subject.complete();\n        }, 100);\n\n        return subject;\n    }\n}\n","import { AuthService } from \"./auth.service\";\nimport { environment } from \"@environments/environment\";\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DownloadService {\n    public downloadComponent: any;\n\n    constructor(private auth: AuthService) { }\n\n    public downloadFileAtPath(path: string) {\n        this.downloadComponent.url = `${environment.apiUrl}${path}?access_token=${this.auth.accessToken}`;\n        setTimeout(() => {\n            this.downloadComponent.anchor.nativeElement.click();\n        }, 200);\n    }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class LayoutService {\n    public sidebarOpen: boolean = true;\n    public toolbarOpen: boolean = false;\n    public toolbarWidth: number = this.storedToolbarWidth;\n    public shortcutsVisible: boolean = false;\n\n    public persistToolbarWidth() {\n        this.storedToolbarWidth = this.toolbarWidth;\n    }\n\n    private readonly TOOLBAR_WIDTH_KEY = 'vyasa.toolbar.width';\n\n    private get storedToolbarWidth(): number {\n        let value = localStorage.getItem(this.TOOLBAR_WIDTH_KEY);\n        if (!value) { return 480; }\n        return parseInt(value);\n    }\n\n    private set storedToolbarWidth(value: number) {\n        if (!value) {\n            localStorage.removeItem(this.TOOLBAR_WIDTH_KEY)\n        } else {\n            localStorage.setItem(this.TOOLBAR_WIDTH_KEY, `${value}`);\n        }\n    }\n}\n","import { CanActivate } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { of as ObservableOf } from 'rxjs';\nimport { StateService } from './state.service';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class LoadingGuard implements CanActivate {\n    constructor(private state: StateService) {}\n\n    public canActivate(): Observable<boolean> {\n        if (!this.state.loading$.getValue()) { return ObservableOf(true); }\n\n        let subject = new Subject<boolean>();\n        let subscription = this.state.loading$.subscribe(value => {\n            if (!value) {\n                subject.next(true);\n                subject.complete();\n                subscription.unsubscribe();\n            }\n        });\n\n        return subject;\n    }\n}\n","import { Router, NavigationEnd, NavigationCancel } from \"@angular/router\";\nimport { AppService } from './app/app.service';\nimport { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject } from \"rxjs\";\nimport { mergeMap, map } from \"rxjs/operators\";\nimport { forkJoin } from \"rxjs\";\nimport { AsyncDataSource } from \"@classes/async-data-source\";\nimport { History } from \"@classes/history\";\nimport { Angulartics2 } from 'angulartics2';\nimport { Angulartics2GoogleGlobalSiteTag } from 'angulartics2/gst';\nimport { environment } from '@environments/environment';\nimport * as Sentry from \"@sentry/browser\";\nimport { App } from './app/app.api';\n\n@Injectable()\nexport class StateService {\n    public loading$: BehaviorSubject<boolean> = new BehaviorSubject(true);\n    public history: History;\n\n    constructor(\n        private app: AppService,\n        private router: Router,\n        private angulartics: Angulartics2,\n        private google: Angulartics2GoogleGlobalSiteTag,\n    ) {\n        this.angulartics.settings.developerMode = !environment.production;\n        // this.google.startTracking();\n\n        this.history = new History(router);\n\n        this.app.userManager.update$.subscribe(() => {\n            this.updateLoggedInState();\n        });\n        this.app.auth.loggedIn$.subscribe(loggedIn => {\n            this.updateLoggedInState();\n        });\n        this.router.events.subscribe(event => {\n            if (event instanceof NavigationEnd || event instanceof NavigationCancel) {\n                this.redirecting = undefined;\n            }\n        });\n    }\n\n    public ngOnDestroy() {\n        this.history.shutdown();\n    }\n\n    public login(usernameOrEmail: string, password: string): Observable<App.User> {\n        return this.app.auth.userLogin(usernameOrEmail, password).pipe(mergeMap((response) => {\n            return this.app.API.getCurrentUser();\n        }), map((user: App.User) => {\n            this.app.userManager.user = user;\n            return user;\n        }));\n    }\n\n    public logout() {\n        this.history.shutdown();\n        this.app.auth.userLogout();\n    }\n\n    private loggedIn: boolean;\n\n    public isLoggedIn(): boolean {\n        return this.loggedIn;\n    }\n\n    public updateLoggedInState(url: string = undefined): boolean {\n        if (url) { this.initialRouteLoaded = true; }\n        this.loggedIn = !!this.app.userManager.user && this.app.auth.loggedIn$.value;\n        this.updateDataSource();\n        return this.updateVisibleView(url || this.router.url);\n    }\n\n    private initialRouteLoaded: boolean = false;\n    private redirecting: string;\n    private routeToLoadUponAuthenticating: string;\n    private updateVisibleView(url: string): boolean {\n        if (!this.initialRouteLoaded) { return true; }\n        if (this.redirecting) { return url === this.redirecting; }\n\n        let noauth = ['/sign-in', '/forgot-password'];\n        let state = noauth.find(o => url.indexOf(o) === 0) ? 'noauth' : 'auth';\n\n        let redirect: string = undefined;\n        if (this.loggedIn && state === 'noauth') {\n            redirect = this.routeToLoadUponAuthenticating || '/media';\n            this.routeToLoadUponAuthenticating = undefined;\n        } else if (!this.loggedIn && state === 'auth') {\n            redirect = '/sign-in';\n            this.routeToLoadUponAuthenticating = url;\n        }\n\n        if (redirect) {\n            this.redirecting = redirect;\n\n            let parts = redirect.split('?');\n            let queryParams = {};\n            if (parts.length > 1) {\n                let params = parts[1].split('&');\n                params.forEach(o => {\n                    let parts = o.split('=');\n                    queryParams[parts[0]] = parts[1];\n                });\n            }\n\n            this.router.navigate([parts[0]], { queryParams });\n            return false;\n        }\n\n        return true;\n    }\n\n    private dataSource: AsyncDataSource<Array<any>> = undefined;\n    private ignoreDataSourceUpdate: boolean = false;\n\n    private updateDataSource() {\n        if (this.ignoreDataSourceUpdate) {\n            return;\n        }\n\n        if (this.loggedIn && !this.dataSource) {\n            // the user is newly logged in.  fetch all the local data needed to\n            // run the application.\n            this.loading$.next(true);\n            this.dataSource = new AsyncDataSource<Array<any>>(() => {\n                return forkJoin(\n                    this.app.start(),\n                );\n            });\n            this.dataSource.callback = (result) => {\n                if (result) {\n                    let user: App.User = this.app.userManager.user;\n\n                    // let instance = window.location.hostname.split('.').shift() || 'unknown';\n                    // let key = `${instance}_${user.id}`;\n\n                    // this.angulartics.setUsername.next(key);\n                    // Sentry.setUser({ id: key, email: user.email, username: key });\n\n                    this.loading$.next(false);\n                } else {\n                    this.logout();\n                }\n            }\n            this.dataSource.processor.maxRetryCount = 3;\n            this.dataSource.refresh();\n\n\n        } else if (!this.loggedIn) {\n            // the user is newly logged out.  kill all local data and stop\n            // refreshing until the user logs in again.\n            if (this.dataSource || this.loading$.getValue()) {\n                this.ignoreDataSourceUpdate = true;\n                // this.angulartics.setUsername.next(undefined);\n                // Sentry.configureScope(scope => scope.clear());\n                this.app.stop();\n                this.ignoreDataSourceUpdate = false;\n            }\n\n            if (this.dataSource) {\n                this.dataSource.callback = undefined;\n                this.dataSource.cancel();\n                this.dataSource = undefined;\n            }\n\n            if (this.loading$.getValue()) {\n                this.loading$.next(false);\n            }\n        }\n    }\n}\n","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { OnInit } from '@angular/core';\nimport { StateService } from '@services/state.service';\nimport { ClipboardService } from '@services/clipboard.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n    public loading: boolean = true;\n\n    public notificationsOptions: any = {\n        position: ['bottom', 'right'],\n        pauseOnHover: true,\n        timeOut: 15000,\n    };\n\n    @ViewChild('clipboardTarget', { static: true })\n    public clipboardTarget: ElementRef;\n\n    constructor(\n        private state: StateService,\n        private clipboard: ClipboardService) { }\n\n    public ngOnInit() {\n        this.state.loading$.subscribe(value => {\n            this.loading = value;\n        });\n        this.clipboard.target = this.clipboardTarget;\n    }\n}\n","<div>\n    <textarea #clipboardTarget type=\"text\" style=\"position: fixed; top: -100px;\"></textarea>\n    <app-download></app-download>\n    <simple-notifications [options]=\"notificationsOptions\"></simple-notifications>\n    <div *ngIf=\"loading\" class=\"loading-overlay\">\n        <app-loading-indicator></app-loading-indicator>\n    </div>\n    <router-outlet *ngIf=\"!loading\"></router-outlet>\n</div>","import * as Sentry from \"@sentry/browser\";\nimport { environment } from '@environments/environment';\n\nimport { Angulartics2Module } from 'angulartics2';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule, Injectable, ErrorHandler, Provider } from '@angular/core';\nimport { RoutingModule } from './routing.module';\nimport { AppComponent } from './app.component';\nimport { BaseComponent } from './base/base.component';\nimport { SignInComponent } from './sign-in/sign-in/sign-in.component';\nimport { DownloadComponent } from '@common/download/download.component';\nimport { AppService } from '@services/app/app.service';\nimport { AuthGuard } from '@services/auth-guard';\nimport { AuthService } from '@services/auth.service';\nimport { DownloadService } from '@services/download.service';\nimport { LoadingGuard } from '@services/loading-guard';\nimport { StateService } from '@services/state.service';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SimpleNotificationsModule } from 'angular2-notifications';\nimport { SetTitleDirective } from '@common/set-title/set-title.directive';\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\nimport { LoadingIndicatorComponent } from '@common/loading-indicator/loading-indicator.component';\nimport { DialogModule } from 'primeng/dialog';\nimport { PopoverComponent } from '@common/popover/popover.component';\nimport { ActionIconComponent } from '@common/action-icon/action-icon.component';\nimport { InlineSVGDirective } from '@common/inline-svg/inline-svg.directive';\nimport { GuardedActionComponent } from '@common/guarded-action/guarded-action.component';\nimport { SafeHtmlPipe, SafeResourceUrlPipe } from '@common/safe-html/safe-html.pipe';\nimport { ClipboardService } from '@services/clipboard.service';\nimport { AutofocusDirective } from '@common/autofocus/autofocus.directive';\nimport { IconComponent } from '@common/icon/icon.component';\nimport { FormErrorComponent } from '@common/form-error/form-error.component';\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\nimport { LayoutService } from '@services/layout.service';\nimport { SidebarComponent } from './sidebar/sidebar.component';\nimport { HeaderComponent } from './header/header.component';\nimport { MediaListComponent } from './media/media-list/media-list.component';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { FontAwesomeModule, FaIconLibrary } from '@fortawesome/angular-fontawesome';\nimport { faSort, faSortUp, faSortDown, faChevronLeft, faExclamationTriangle, faInfoCircle, faCheckCircle, faExclamationCircle, faQuestionCircle, faTimes, faAngleDown, faChevronDown, faCloudUpload, faClipboard, faTrash } from '@fortawesome/pro-duotone-svg-icons';\nimport { MediaDetailComponent } from './media/media-detail/media-detail.component';\nimport { CalendarModule } from 'primeng/calendar';\nimport { SelectionBoxComponent } from '@common/selection-box/selection-box.component';\nimport { CopyBoxComponent } from '@common/copy-box/copy-box.component';\nimport { VideoPlayerComponent } from '@common/video-player/video-player.component';\nimport { OrganizationDetailComponent } from './organization/organization-detail/organization-detail.component';\nimport { SeriesListComponent } from './series/series-list/series-list.component';\nimport { SeriesDetailComponent } from './series/series-detail/series-detail.component';\nimport { ReusableMediaListComponent } from './media/reusable-media-list/reusable-media-list.component';\nimport { SpeakerListComponent } from './speaker/speaker-list/speaker-list.component';\nimport { SpeakerDetailComponent } from './speaker/speaker-detail/speaker-detail.component';\nimport { FeedListComponent } from './feed/feed-list/feed-list.component';\nimport { FeedDetailComponent } from './feed/feed-detail/feed-detail.component';\nimport { MediaUploadComponent } from './media/media-upload/media-upload.component';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { MediaFormComponent } from './media/media-form/media-form.component';\nimport { RedirectComponent } from '@common/redirect/redirect.component';\n\n\n// @Injectable()\n// export class SentryErrorHandler implements ErrorHandler {\n//     constructor() {\n//         Sentry.init({ dsn: 'https://e159fa9ce33548c0aef9ac28c37ace12@sentry.io/1803587', release: environment.version });\n//     }\n\n//     handleError(error) {\n//         Sentry.captureException(error.originalError || error);\n//     }\n// }\n\nlet providers: Array<Provider> = [\n    AppService,\n    AuthGuard,\n    AuthService,\n    ClipboardService,\n    DownloadService,\n    LoadingGuard,\n    StateService,\n    LayoutService,\n    { provide: ErrorHandler, useFactory: getErrorHandler }\n];\n\nexport function getErrorHandler(): ErrorHandler {\n    // if (environment.production) {\n    //     return new SentryErrorHandler()\n    // }\n    return new ErrorHandler()\n}\n\n@NgModule({\n    declarations: [\n        ActionIconComponent,\n        AppComponent,\n        BaseComponent,\n        DownloadComponent,\n        GuardedActionComponent,\n        InlineSVGDirective,\n        LoadingIndicatorComponent,\n        PopoverComponent,\n        SafeHtmlPipe,\n        SafeResourceUrlPipe,\n        SetTitleDirective,\n        SignInComponent,\n        AutofocusDirective,\n        IconComponent,\n        FormErrorComponent,\n        SidebarComponent,\n        HeaderComponent,\n        MediaListComponent,\n        MediaDetailComponent,\n        SelectionBoxComponent,\n        CopyBoxComponent,\n        VideoPlayerComponent,\n        OrganizationDetailComponent,\n        SeriesListComponent,\n        SeriesDetailComponent,\n        ReusableMediaListComponent,\n        SpeakerListComponent,\n        SpeakerDetailComponent,\n        FeedListComponent,\n        FeedDetailComponent,\n        MediaUploadComponent,\n        MediaFormComponent,\n        RedirectComponent,\n    ],\n    imports: [\n        Angulartics2Module.forRoot(),\n        BrowserAnimationsModule,\n        BrowserModule,\n        CalendarModule,\n        DialogModule,\n        FontAwesomeModule,\n        FormsModule,\n        HttpClientJsonpModule,\n        HttpClientModule,\n        InfiniteScrollModule,\n        NgxDropzoneModule,\n        ProgressSpinnerModule,\n        ReactiveFormsModule,\n        RoutingModule,\n        SimpleNotificationsModule.forRoot(),\n    ],\n    providers: providers,\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n    constructor(library: FaIconLibrary) {\n        library.addIcons(\n            faCheckCircle,\n            faChevronDown,\n            faChevronLeft,\n            faClipboard,\n            faCloudUpload,\n            faExclamationCircle,\n            faExclamationTriangle,\n            faInfoCircle,\n            faSort,\n            faSortDown,\n            faSortUp,\n            faTimes,\n            faTrash,\n            faQuestionCircle);\n    }\n}\n","import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { fromEvent as ObservableFromEvent, Subscription } from \"rxjs\";\nimport { StateService } from '@services/state.service';\nimport { LayoutService } from '@services/layout.service';\nimport { UserManager } from '@services/app/managers/user.manager';\nimport { App } from '@services/app/app.api';\n\n@Component({\n    selector: 'app-base',\n    templateUrl: './base.component.html',\n    styleUrls: ['./base.component.scss']\n})\nexport class BaseComponent implements OnInit, OnDestroy {\n    public subscription: Subscription;\n\n    constructor(\n        public state: StateService,\n        public layout: LayoutService,\n    ) { }\n\n    public ngOnInit() {\n    }\n\n    public ngOnDestroy() {\n        if (this.subscription) { this.subscription.unsubscribe(); }\n    }\n\n    public get user(): App.User {\n        return UserManager.sharedInstance.user;\n    }\n}\n","<div class=\"center-container\" [class.sidebar-closed]=\"!layout.sidebarOpen\">\n    <div class=\"top-container\">\n        <app-header></app-header>\n    </div>\n    <div class=\"bottom-container\">\n        <div class=\"content-container\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, catchError, mergeMap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '@environments/environment';\n\n@Component({\n    selector: 'app-feed-detail',\n    templateUrl: './feed-detail.component.html',\n    styleUrls: ['./feed-detail.component.scss']\n})\nexport class FeedDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public feed: App.Feed;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n    public feedUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService,\n        private http: HttpClient) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('title', new FormControl(undefined));\n        this.form.addControl('subtitle', new FormControl(undefined));\n        this.form.addControl('type', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n        this.form.addControl('url', new FormControl(undefined));\n        this.form.addControl('email', new FormControl(undefined));\n        this.form.addControl('copyright', new FormControl(undefined));\n        this.form.addControl('category', new FormControl(undefined));\n        this.form.addControl('keywords', new FormControl(undefined));\n\n        const id = parseInt(this.route.snapshot.params.id);\n        const hash = this.app.hashids.encode(id);\n        const imageUrl = `https://hopestream.s3.amazonaws.com/feed/${hash}/thumbnail.jpg?t=${new Date().valueOf()}`;\n\n        forkJoin(\n            this.app.API.getFeed(id),\n            this.app.API.getAllMedia(),\n            this.app.API.getMediaIdsForFeed({ id: id } as App.Feed),\n            this.http.get(imageUrl, { responseType: 'blob' }).pipe(catchError(() => of(undefined)))\n        ).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.feed = responses[0];\n            let mediaIds = {};\n            responses[2].forEach(o => mediaIds[o] = true);\n            this.media = responses[1].filter(o => mediaIds[o.id]);\n            this.form.controls.title.setValue(this.feed.title);\n            this.form.controls.subtitle.setValue(this.feed.subtitle);\n            this.form.controls.type.setValue(this.feed.type);\n            this.form.controls.description.setValue(this.feed.description);\n            this.form.controls.url.setValue(this.feed.url);\n            this.form.controls.email.setValue(this.feed.email);\n            this.form.controls.copyright.setValue(this.feed.copyright);\n            this.form.controls.category.setValue(this.feed.category);\n            this.form.controls.keywords.setValue(this.feed.keywords);\n            this.imageUrl = responses[3] ? imageUrl : undefined;\n            this.feedUrl = `${environment.staticUrl}feed/${hash}/feed.rss`;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let feed: App.FeedUpdate = { id: this.feed.id };\n        feed.title = this.form.controls.title.value;\n        feed.subtitle = this.form.controls.subtitle.value || null;\n        feed.type = this.form.controls.type.value;\n        feed.description = this.form.controls.description.value || null;\n        feed.url = this.form.controls.url.value || null;\n        feed.email = this.form.controls.email.value || null;\n        feed.copyright = this.form.controls.copyright.value || null;\n        feed.category = this.form.controls.category.value || null;\n        feed.keywords = this.form.controls.keywords.value || null;\n\n        this.saving = true;\n        this.app.API.updateFeed(feed).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(feed => {\n            this.feed = feed;\n            this.notifications.success('Success', 'Feed details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForFeed(this.feed, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Feed image updated.', { timeOut: 5000 });\n            const hash = this.app.hashids.encode(this.feed.id);\n            this.imageUrl = `https://hopestream.s3.amazonaws.com/feed/${hash}/thumbnail.jpg?t=${new Date().valueOf()}`;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteFeed(this.feed).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/feeds']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/feeds']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Feed List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ feed.title || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Title</div>\n                        <input type=\"text\" [formControlName]=\"'title'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Type</div>\n                        <select [formControlName]=\"'type'\">\n                            <option value=\"1\">Audio Podcast</option>\n                            <option value=\"0\">Video Podcast</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Subtitle</div>\n                        <input type=\"text\" [formControlName]=\"'subtitle'\" [placeholder]=\"'Weekly messages from HopeStream'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this series...'\"></textarea>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">URL</div>\n                        <input type=\"text\" [formControlName]=\"'url'\" [placeholder]=\"'https://hopestream.com'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">E-mail</div>\n                        <input type=\"text\" [formControlName]=\"'email'\" [placeholder]=\"'marketing@hopestream.com'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Copyright</div>\n                        <input type=\"text\" [formControlName]=\"'copyright'\" [placeholder]=\"'Copyright HopeStream 2020'\" />\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Category</div>\n                        <input type=\"text\" [formControlName]=\"'category'\" [placeholder]=\"'Religion & Spirituality'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Keywords (comma-separated list, no spaces)</div>\n                <textarea [formControlName]=\"'keywords'\" rows=\"3\" [placeholder]=\"'Hope,Stream,HopeStream,Jesus,Christ,Church,...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Feed Links</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"label\">Feed</div>\n                    <app-copy-box [text]=\"feedUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Feed</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this feed.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this feed. This will simply delete the feed, and those media records will no longer be associated with this feed.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Feed\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Feed</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ feed?.title || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this feed. This will simply delete the feed, and those media records will no longer be associated with this feed.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface FeedListEntry {\n    id: number;\n    type: string;\n    title: string;\n    subtitle: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-feed-list',\n    templateUrl: './feed-list.component.html',\n    styleUrls: ['./feed-list.component.scss']\n})\nexport class FeedListComponent {\n    public Utility = Utility;\n\n    public feeds: Array<App.Feed>;\n\n    public entries: Array<FeedListEntry> = [];\n    public filtered: Array<FeedListEntry> = [];\n\n    public loaded: Array<FeedListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllFeeds().subscribe(feeds => {\n            this.feeds = feeds;\n\n            this.entries = this.feeds.map(o => {\n                let result: FeedListEntry = {\n                    id: o.id,\n                    type: o.type ? 'Audio Podcast' : 'Video Podcast',\n                    title: o.title || 'Untitled',\n                    subtitle: o.subtitle || '',\n                };\n                result.search = `${result.type}${result.title}${result.subtitle}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'id';\n            this.ascending = false;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: FeedListEntry, b: FeedListEntry) => {\n            return a.id - b.id;\n        },\n        type: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.type || 'zzz').toLowerCase().trim();\n            const B = (b.type || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        title: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.title || 'zzz').toLowerCase().trim();\n            const B = (b.title || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        subtitle: (a: FeedListEntry, b: FeedListEntry) => {\n            const A = (a.subtitle || 'zzz').toLowerCase().trim();\n            const B = (b.subtitle || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddFeed() {\n        this.creating = true;\n        this.app.API.createFeed().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(feed => {\n            this.router.navigate(['/feeds', feed.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Feeds</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddFeed()\">Add Feed</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'feed' : 'feeds' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'feed' : 'feeds' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Type</div>\n                            <app-action-icon\n                                [active]=\"sort === 'type'\"\n                                [icon]=\"sort !== 'type' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('type')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                    <th style=\"width: 300px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Title</div>\n                            <app-action-icon\n                                [active]=\"sort === 'title'\"\n                                [icon]=\"sort !== 'title' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('title')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Subtitle</div>\n                            <app-action-icon\n                                [active]=\"sort === 'subtitle'\"\n                                [icon]=\"sort !== 'subtitle' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('subtitle')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        {{ entry.type }}\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/feeds', entry.id]\">\n                            {{ entry.title }}\n                        </a>\n                    </td>\n                    <td>\n                        {{ entry.subtitle }}\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!feeds || !feeds.length\">\n            <div *ngIf=\"feeds\">No feeds available.</div>\n            <app-loading-indicator *ngIf=\"!feeds\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { StateService } from '@services/state.service';\nimport { UserManager } from '@services/app/managers/user.manager';\nimport { App } from '@services/app/app.api';\n\n@Component({\n    selector: 'app-header',\n    templateUrl: './header.component.html',\n    styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n    public active: string;\n    public get user(): App.User { return UserManager.sharedInstance.user; }\n\n    private subscriptions: Array<Subscription> = [];\n\n    constructor(private route: ActivatedRoute, public router: Router, private state: StateService) { }\n\n    public ngOnInit() {\n    }\n\n    public ngOnDestroy() {\n        this.subscriptions.forEach(o => o.unsubscribe());\n    }\n\n    public onLogOut() {\n        this.state.logout();\n    }\n}\n","<div class=\"item logo\">\n    <img src=\"assets/images/hopestream-logo.png\">\n</div>\n<a [routerLink]=\"['/church']\" class=\"item\" [class.active]=\"router.url.startsWith('/church')\">\n    Church\n</a>\n<a [routerLink]=\"['/media']\" class=\"item\" [class.active]=\"router.url.startsWith('/media') || router.url.startsWith('/upload')\">\n    Media\n</a>\n<a [routerLink]=\"['/series']\" class=\"item\" [class.active]=\"router.url.startsWith('/series')\">\n    Series\n</a>\n<a [routerLink]=\"['/speakers']\" class=\"item\" [class.active]=\"router.url.startsWith('/speakers')\">\n    Speakers\n</a>\n<a [routerLink]=\"['/feeds']\" class=\"item\" [class.active]=\"router.url.startsWith('/feeds')\">\n    Feeds\n</a>\n<div class=\"spacer\"></div>\n<div class=\"item\" #popoverTarget (click)=\"popover.toggle($event)\">\n    {{ user.name }}\n</div>\n\n<app-popover #popover my=\"top right\" at=\"bottom right\" [x-offset]=\"0\" [y-offset]=\"0\" [target]=\"popoverTarget\">\n    <div class=\"popover-section\">\n        <div class=\"popover-item popover-item-button\" (click)=\"onLogOut()\">Log Out</div>\n    </div>\n</app-popover>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, map, mergeMap, tap, catchError } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { SelectionBoxItem } from '@common/selection-box/selection-box.component';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\nimport { FeedManager } from '@services/app/managers/feed.manager';\nimport { TopicManager } from '@services/app/managers/topic.manager';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of, Observable } from 'rxjs';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { environment } from '@environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n    selector: 'app-media-detail',\n    templateUrl: './media-detail.component.html',\n    styleUrls: ['./media-detail.component.scss']\n})\nexport class MediaDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public media: App.Media;\n    public series: App.Series;\n\n    public hash: string;\n    public videoPlayerUrl: string;\n    public videoStreamUrl: string;\n    public videoFileDefaultUrl: string;\n    public videoFileSourceUrl: string;\n    public audioFileUrl: string;\n    public captionUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService,\n        private http: HttpClient) { }\n\n    public ngOnInit() {\n        const id = parseInt(this.route.snapshot.params.id);\n        const hash = this.app.hashids.encode(id);\n        const captionUrl = `https://hopestream.s3.amazonaws.com/media/${hash}/captions-en.vtt?t=${new Date().valueOf()}`;\n\n        forkJoin(\n            this.app.API.getMedia(id),\n            this.http.get(captionUrl, { responseType: 'blob' }).pipe(catchError(() => of(undefined)))\n        ).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.media = responses[0];\n            this.series = this.media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === this.media.seriesId) : undefined;\n\n            this.hash = hash;\n            this.videoPlayerUrl = `${environment.playerUrl}?id=${this.hash}`;\n            this.videoStreamUrl = `${environment.staticUrl}media/${this.hash}/master.m3u8`;\n            this.videoFileDefaultUrl = `${environment.staticUrl}media/${this.hash}/video-default.mp4`;\n            this.videoFileSourceUrl = `${environment.staticUrl}media/${this.hash}/video-source.mp4`;\n            this.audioFileUrl = `${environment.staticUrl}media/${this.hash}/audio.mp3`;\n            this.captionUrl = responses[1] ? `${environment.staticUrl}media/${this.hash}/captions-en.vtt` : undefined;\n        });\n    }\n\n    public onMediaChange(media: App.Media) {\n        this.media = media;\n        this.series = media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === media.seriesId) : undefined;\n    }\n\n    public onReplaceMedia() {\n        this.router.navigate(['/upload', this.media.id]);\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteMedia(this.media).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/media']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onCaptionFileSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadCaptionFileForMedia(this.media, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(() => {\n            this.notifications.success('Success', 'Caption file uploaded.', { timeOut: 5000 });\n            this.captionUrl = `${environment.staticUrl}media/${this.hash}/captions-en.vtt`;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/media']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Media\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media.name || 'Untitled' }}\n        </div>\n        <div class=\"subtitle\">\n            <div class=\"status\">\n                <div class=\"{{ Utility.StatusToClass(media.status) }}\">\n                    <fa-icon [icon]=\"['fad', Utility.StatusToIcon(media.status)]\"></fa-icon>\n                    {{ Utility.StatusToText(media.status) }}\n                </div>\n            </div>\n            <div class=\"date\">\n                {{ media.date | date:'mediumDate' }} - {{ media.date | date:'EEEE h:mm a' }}\n            </div>\n        </div>\n\n    </div>\n\n    <app-media-form [media]=\"media\" (mediaChange)=\"onMediaChange($event)\"></app-media-form>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\" *ngIf=\"media.type === 0\">\n                <div class=\"image-content-col\">\n                    <app-video-player\n                        [url]=\"media.status === 3 ? videoPlayerUrl : undefined\"\n                        [error]=\"media.status === 0 ? 'Your media is currently uploading.' : (media.status === 4 ? 'Please upload your media content again.' : 'Preview will be available once your media is finished processing.')\">\n                    </app-video-player>\n                    <div class=\"title\"></div>\n                </div>\n            </div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"label\">Hash Id</div>\n                    <app-copy-box [text]=\"hash\"></app-copy-box>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"media.type === 0\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Video Links</div>\n                    <div class=\"label\">Video Player</div>\n                    <app-copy-box [text]=\"videoPlayerUrl\"></app-copy-box>\n                    <div class=\"label\">Video Stream</div>\n                    <app-copy-box [text]=\"videoStreamUrl\"></app-copy-box>\n                    <div class=\"label\">Video File (Shareable)</div>\n                    <app-copy-box [text]=\"videoFileDefaultUrl\"></app-copy-box>\n                    <div class=\"label\">Video File (Full Resolution)</div>\n                    <app-copy-box [text]=\"videoFileSourceUrl\"></app-copy-box>\n                </div>\n            </div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Audio Links</div>\n                    <div class=\"label\">Audio File</div>\n                    <app-copy-box [text]=\"audioFileUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Captions</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"text/vtt\" (change)=\"onCaptionFileSelected($event); input.value = null;\">\n                        <div>Upload a caption file for this media.</div>\n                        <div>File must be in <strong>.vtt</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload File\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Caption File</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"captionUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Caption Links</div>\n                    <div class=\"label\">English</div>\n                    <app-copy-box [text]=\"captionUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Replace Media</div>\n                    <div class=\"image-upload-container\">\n                        <div>Upload a new version of this media. This will replace the content but keep the same unique URLs for the video and audio files.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> Uploaded media will need to be processed before it is available for streaming and download.</div>\n                        <button class=\"button\" (click)=\"onReplaceMedia()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Replace Media\n                        </button>\n                    </div>\n                </div>\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Media</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this media including all video and audio files.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will delete the media record and remove it from all feeds. Video and audio files will be deleted within 24 hours.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Media\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Media</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will delete the media record and remove it from all feeds. Video and audio files will be deleted within 24 hours.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute } from '@angular/router';\nimport { finalize, map, mergeMap, tap } from 'rxjs/operators';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { SelectionBoxItem } from '@common/selection-box/selection-box.component';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\nimport { FeedManager } from '@services/app/managers/feed.manager';\nimport { TopicManager } from '@services/app/managers/topic.manager';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of, Observable } from 'rxjs';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\n\n@Component({\n    selector: 'app-media-form',\n    templateUrl: './media-form.component.html',\n    styleUrls: ['./media-form.component.scss']\n})\nexport class MediaFormComponent implements OnInit {\n    @Input()\n    public media: App.Media;\n\n    @Output()\n    public mediaChange = new EventEmitter<App.Media>();\n\n    public hash: string;\n    public series: App.Series;\n\n    public form: FormGroup;\n    public seriesItems: Array<SelectionBoxItem> = [];\n    public speakerItems: Array<SelectionBoxItem> = [];\n    public includeItems: Array<SelectionBoxItem> = [];\n    public topicItems: Array<SelectionBoxItem> = [];\n\n    public imageUrl: string;\n    public seriesImageUrl: string;\n    public organizationImageUrl: string;\n\n    constructor(private app: AppService, private route: ActivatedRoute, private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined, [Validators.required]));\n        this.form.addControl('date', new FormControl(undefined));\n        this.form.addControl('seriesIds', new FormControl(undefined));\n        this.form.addControl('speakerIds', new FormControl(undefined));\n        this.form.addControl('includeIds', new FormControl(undefined));\n        this.form.addControl('topicIds', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let series: Array<App.Series> = SeriesManager.sharedInstance.series;\n        let speakers: Array<App.Speaker> = SpeakerManager.sharedInstance.speakers;\n        let topics: Array<App.Topic> = TopicManager.sharedInstance.topics;\n\n        this.seriesItems = series.sort((a, b) => {\n            let A = (a.name || 'Untitled').trim().toLowerCase();\n            let B = (b.name || 'Untitled').trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.name || 'Untitled',\n                value: o.id,\n                data: o,\n            };\n        });\n\n        this.speakerItems = speakers.sort((a, b) => {\n            let A = (a.name || 'Untitled').trim().toLowerCase();\n            let B = (b.name || 'Untitled').trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.name || 'Untitled',\n                value: o.id,\n                data: o,\n            };\n        });\n\n        let topicsByCategory: { [key: string]: Array<App.Topic> } = {};\n        topics.forEach(o => {\n            if (!topicsByCategory[o.category]) { topicsByCategory[o.category] = []; }\n            topicsByCategory[o.category].push(o);\n        });\n\n        this.topicItems = (Object.keys(topicsByCategory).sort((a, b) => {\n            let A = a.trim().toLowerCase();\n            let B = b.trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(key => {\n            return topicsByCategory[key].sort((a, b) => {\n                let A = (a.name || '').trim().toLowerCase();\n                let B = (b.name || '').trim().toLowerCase();\n                return (A < B ? -1 : (A > B ? 1 : 0));\n            }).map((o, index) => {\n                return {\n                    display: o.name,\n                    header: o.category,\n                    value: o.id,\n                    data: o,\n                };\n            });\n        }) as any).flat();\n\n        let feeds: Array<App.Feed> = FeedManager.sharedInstance.feeds.concat();\n        feeds = feeds.map(o => { return { ...o, title: `${o.title || 'Untitled'} - ${o.type === 1 ? 'Audio' : 'Video'} Podcast` }; });\n        feeds.push({ id: -1, title: 'HopeStream Mobile App' } as any);\n        feeds.push({ id: -2, title: 'YouTube' } as any);\n\n        this.includeItems = feeds.sort((a, b) => {\n            let A = a.title.trim().toLowerCase();\n            let B = b.title.trim().toLowerCase();\n            return (A < B ? -1 : (A > B ? 1 : 0));\n        }).map(o => {\n            return {\n                display: o.title,\n                value: o.id,\n                data: o,\n            };\n        });\n\n        this.updateLastKnownIncludeIds();\n\n        this.hash = this.app.hashids.encode(this.media.id);\n        this.series = this.media.seriesId ? this.seriesItems.find(o => o.value === this.media.seriesId).data : undefined;\n\n        this.form.controls.name.setValue(this.media.name);\n        this.form.controls.date.setValue(this.media.date);\n        this.form.controls.seriesIds.setValue(this.media.seriesId ? [this.media.seriesId] : undefined);\n        this.form.controls.speakerIds.setValue(this.media.speakerIds);\n        this.form.controls.includeIds.setValue(this.lastKnownIncludeIds.concat());\n        this.form.controls.topicIds.setValue(this.media.topicIds);\n        this.form.controls.description.setValue(this.media.description);\n\n        const organization = OrganizationManager.sharedInstance.organization;\n        this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        this.seriesImageUrl = this.series?.thumbnailUrl ? `${this.series.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        this.organizationImageUrl = organization.thumbnailUrl ? `${organization.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n    }\n\n    private lastKnownIncludeIds: Array<number> = [];\n    private updateLastKnownIncludeIds() {\n        let lastKnownIncludeIds: Array<number> = FeedManager.sharedInstance.feeds.filter(o => o.mediaIds.indexOf(this.media.id) >= 0).map(o => o.id);\n        if (!this.media.hidden) { lastKnownIncludeIds.unshift(-1); }\n        if (this.media.youtubeStatus) { lastKnownIncludeIds.unshift(-2); }\n        this.lastKnownIncludeIds = lastKnownIncludeIds;\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let series = (this.form.controls.seriesIds.value || []);\n        let speakers = (this.form.controls.speakerIds.value || []);\n        let topics = (this.form.controls.topicIds.value || []);\n        let includes = (this.form.controls.includeIds.value || []);\n\n        // update media\n        let media: App.MediaUpdate = { id: this.media.id };\n        media.name = this.form.controls.name.value;\n        media.date = this.form.controls.date.value;\n        media.description = this.form.controls.description.value || null;\n        media.seriesId = series.length ? series[0] : null;\n        media.speakerIds = speakers.length ? speakers : null;\n        media.topicIds = topics.length ? topics : null;\n        media.hidden = (includes.indexOf(-1) < 0);\n\n        // very carefully determine if the youtube status needs to be updated\n        const willIncludeInYouTube = !!includes.filter(o => o === -2).length;\n        const didIncludeInYouTube = !!this.lastKnownIncludeIds.filter(o => o === -2).length;\n        if (willIncludeInYouTube !== didIncludeInYouTube) {\n            media.youtubeStatus = willIncludeInYouTube ? (this.media.youtubeId ? 'complete' : 'queued') : null;\n            console.log(\"YouTube Status Changed: \", willIncludeInYouTube ? (this.media.youtubeId ? 'complete' : 'queued') : null);\n        }\n        if (willIncludeInYouTube) { media.youtubeMetadataUpdate = true; }\n\n        // update feeds\n        let before = this.lastKnownIncludeIds.filter(o => o >= 0);\n        let after = includes.filter(o => o >= 0);\n        let remove = before.filter(o => after.indexOf(o) < 0);\n        let add = after.filter(o => before.indexOf(o) < 0);\n\n        let updates: Array<Observable<void>> = remove.map(o => {\n            return this.app.API.removeMediaIdFromFeed({ id: o } as App.Feed, this.media.id);\n        }).concat(add.map(o => {\n            return this.app.API.addMediaIdToFeed({ id: o } as App.Feed, this.media.id);\n        }));\n        if (!updates.length) { updates = [of(1).pipe(map(() => { }))]; }\n\n        this.saving = true;\n        forkJoin(this.app.API.updateMedia(media), updates).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(responses => {\n            remove.forEach(o => {\n                let feed = FeedManager.sharedInstance.feeds.find(feed => feed.id === o);\n                feed.mediaIds = feed.mediaIds.filter(o => o !== this.media.id);\n            });\n            add.forEach(o => {\n                let feed = FeedManager.sharedInstance.feeds.find(feed => feed.id === o);\n                feed.mediaIds.push(this.media.id);\n            });\n\n            this.media = responses[0];\n            this.series = this.media.seriesId ? this.seriesItems.find(o => o.value === this.media.seriesId).data : undefined;\n            this.seriesImageUrl = this.series?.thumbnailUrl ? `${this.series.thumbnailUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n            this.updateLastKnownIncludeIds();\n            this.mediaChange.emit(this.media);\n\n            this.notifications.success('Success', 'Media details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForMedia(this.media, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public selectingSeries: boolean = false;\n\n    public onSeriesImageSelected() {\n        this.selectingSeries = true;\n        this.app.API.setMediaImageToSeries(this.media, this.series).pipe(finalize(() => {\n            this.selectingSeries = false;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem updating.');\n        });\n    }\n\n    public selectingOrganization: boolean = false;\n\n    public onOrganizationImageSelected() {\n        this.selectingOrganization = true;\n        this.app.API.setMediaImageToOrganization(this.media, OrganizationManager.sharedInstance.organization).pipe(finalize(() => {\n            this.selectingOrganization = false;\n        })).subscribe(media => {\n            this.notifications.success('Success', 'Media image updated.', { timeOut: 5000 });\n            this.media = media;\n            this.imageUrl = this.media.imageUrl ? `${this.media.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem updating.');\n        });\n    }\n}\n","<div class=\"content-section\">\n    <div class=\"title\">Details</div>\n\n    <form [formGroup]=\"form\">\n        <div class=\"column-container\">\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Name<span class=\"required\">*</span></div>\n                    <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    <app-form-error [control]=\"form.controls.name\" [messages]=\"{ required: 'Name is required.' }\"></app-form-error>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Date</div>\n                    <p-calendar [formControlName]=\"'date'\" [showTime]=\"true\" [hourFormat]=\"'12'\" [placeholder]=\"'dd/MM/yyyy hh:mm a'\"></p-calendar>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Series</div>\n                    <app-selection-box [items]=\"seriesItems\" [max]=\"1\" [itemTemplate]=\"seriesItemTemplate\" [formControlName]=\"'seriesIds'\" [placeholder]=\"'Add Series...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #seriesItemTemplate>\n                        <div class=\"series-item-container\">\n                            <div class=\"series-item-image\" [class.placeholder]=\"!item.data.thumbnailUrl\">\n                                <img *ngIf=\"item.data.thumbnailUrl\" [src]=\"item.data.thumbnailUrl\" />\n                            </div>\n                            <div class=\"series-item-label\">{{ item.display }}</div>\n                        </div>\n                    </ng-template>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Speakers</div>\n                    <app-selection-box [items]=\"speakerItems\" [max]=\"2\" [itemTemplate]=\"speakerItemTemplate\" [formControlName]=\"'speakerIds'\" [placeholder]=\"'Add Speaker...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #speakerItemTemplate>\n                        <div class=\"speaker-item-container\">\n                            <div class=\"speaker-item-image\" [class.placeholder]=\"!item.data.thumbnailUrl\">\n                                <img *ngIf=\"item.data.thumbnailUrl\" [src]=\"item.data.thumbnailUrl\" />\n                            </div>\n                            <div class=\"speaker-item-label\">{{ item.display }}</div>\n                        </div>\n                    </ng-template>\n                </div>\n            </div>\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Included In</div>\n                    <app-selection-box [items]=\"includeItems\" [itemTemplate]=\"includeItemTemplate\" [formControlName]=\"'includeIds'\" [placeholder]=\"'Add To...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #includeItemTemplate>\n                        <div class=\"include-item-label\">{{ item.display }}</div>\n                    </ng-template>\n                </div>\n                <div class=\"input-container\">\n                    <div class=\"label\">Topics</div>\n                    <app-selection-box [items]=\"topicItems\" [max]=\"3\" [itemTemplate]=\"topicItemTemplate\" [formControlName]=\"'topicIds'\" [placeholder]=\"'Add Topic...'\"></app-selection-box>\n                    <ng-template let-item=\"item\" #topicItemTemplate>\n                        <div class=\"topic-item-label\">{{ item.display }}</div>\n                    </ng-template>\n                </div>\n            </div>\n        </div>\n        <div class=\"input-container\">\n            <div class=\"label\">Description</div>\n            <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this media file...'\"></textarea>\n        </div>\n    </form>\n\n    <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Image</div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col image-content-col-third\">\n                <div class=\"image-upload-container\">\n                    <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                    <div>Upload an image for this media.</div>\n                    <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                    <ng-container *ngIf=\"!uploading\">\n                        <button class=\"button\" (click)=\"input.click()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                        </button>\n                    </ng-container>\n\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Image</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"image-content-col\">\n                <div class=\"image-container\">\n                    <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                    <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                </div>\n            </div>\n        </div>\n        <ng-container *ngIf=\"seriesImageUrl || organizationImageUrl\">\n            <div class=\"image-content-row\">or choose one:</div>\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third image-selector\" *ngIf=\"seriesImageUrl\">\n                    <div class=\"label\">Series Image</div>\n                    <div class=\"image-container\">\n                        <img [src]=\"seriesImageUrl\" />\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"selectingSeries\" (click)=\"onSeriesImageSelected()\">Select</button>\n                </div>\n                <div class=\"image-content-col image-content-col-third image-selector\" *ngIf=\"organizationImageUrl\">\n                    <div class=\"label\">Church Image</div>\n                    <div class=\"image-container\">\n                        <img [src]=\"organizationImageUrl\" />\n                    </div>\n                    <button class=\"button secondary\" [disabled]=\"selectingOrganization\" (click)=\"onOrganizationImageSelected()\">Select</button>\n                </div>\n            </div>\n        </ng-container>\n        <div class=\"image-content-row\" *ngIf=\"media.imageUrl\">\n            <div class=\"image-content-col\">\n                <div class=\"title\">Image Links</div>\n                <div class=\"label\">Image</div>\n                <app-copy-box [text]=\"media.imageUrl\"></app-copy-box>\n                <div class=\"label\">Thumbnail</div>\n                <app-copy-box [text]=\"media.thumbnailUrl\"></app-copy-box>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-media-list',\n    templateUrl: './media-list.component.html',\n    styleUrls: ['./media-list.component.scss']\n})\nexport class MediaListComponent {\n    public media: Array<App.Media>;\n\n    constructor(private app: AppService, private router: Router) { }\n\n    public ngOnInit() {\n        this.app.API.getAllMedia().subscribe(media => {\n            this.media = media;\n        });\n    }\n\n    public onAddMedia() {\n        this.router.navigate(['/upload']);\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"mediaList.onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Media</div>\n        <button class=\"button\" (click)=\"onAddMedia()\">Add Media</button>\n    </div>\n\n    <app-reusable-media-list #mediaList\n        [media]=\"media\">\n    </app-reusable-media-list>\n</div>","import { Component } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { tap, mergeMap } from 'rxjs/operators';\nimport { throwError, Observable, of } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { SeriesManager } from '@services/app/managers/series.manager';\n\n@Component({\n    selector: 'app-media-upload',\n    templateUrl: './media-upload.component.html',\n    styleUrls: ['./media-upload.component.scss']\n})\nexport class MediaUploadComponent {\n    public readonly acceptedFileTypes =\n        '.3g2,.3gp,.4xm,.aac,.ac3,.act,.adf,.adp,.adx,.aea,.afc,.aiff,.alaw,.amr,.anm,.apc,' +\n        '.ape,.aqtitle,.asf,.ass,.ast,.au,.avi,.avr,.avs,.bethsoftvid,.bfi,.bin,.bink,.bit,.bmv,.boa,.brstm,' +\n        '.c93,.caf,.cavsvideo,.cdg,.cdxl,.concat,.data,.daud,.dfa,.dirac,.dnxhd,.dsicin,.dts,.dtshd,.dv,.dv1394,' +\n        '.dxa,.ea,.eac3,.ea_cdata,.epaf,.f32be,.f32le,.f64be,.f64le,.fbdev,.ffm,.ffmetadata,.filmstrip,' +\n        '.film_cpk,.flac,.flic,.flv,.frm,.g722,.g723_1,.g729,.gif,.gsm,.gxf,.h261,.h263,.h264,.hevc,.hls,' +\n        '.applehttp,.hnm,.ico,.idcin,.idf,.iff,.ilbc,.image2,.image2pipe,.ingenient,.ipmovie,.ircam,.iss,.iv8,' +\n        '.ivf,.jacosub,.jv,.latm,.lavfi,.lmlm4,.loas,.lvf,.lxf,.m4a,.m4v,.matroska,.webm,.mgsts,.microdvd,.mj2,' +\n        '.mjpeg,.mlp,.mm,.mmf,.mov,.mp3,.mp4,.mpc,.mpc8,.mpeg,.mpegts,.mpegtsraw,.mpegvideo,.mpl2,.mpsub,' +\n        '.msnwctcp,.mtv,.mulaw,.mv,.mvi,.mxf,.mxg,.nc,.nistsphere,.nsv,.nut,.nuv,.ogg,.oma,.oss,.paf,.pjs,.pmp,' +\n        '.psxstr,.pva,.pvf,.qcp,.r3d,.rawvideo,.realtext,.redspark,.rl2,.rm,.roq,.rpl,.rsd,.rso,.rtp,.rtsp,.s8,' +\n        '.s16be,.s16le,.s24be,.s24le,.s32be,.s32le,.sami,.sap,.sbg,.sdp,.shn,.siff,.smjpeg,.smk,.smush,.sol,.sox,' +\n        '.spdif,.srt,.subviewer,.subviewer1,.swf,.tak,.tedcaptions,.thp,.tiertexseq,.tmv,.truehd,.tta,.tty,.txd,' +\n        '.u8,.u16be,.u16le,.u24be,.u24le,.u32be,.u32le,.v4l2,.vc1,.vc1test,.video4linux2,.vivo,.vmd,.vobsub,.voc,' +\n        '.vplayer,.vqf,.w64,.wav,.wc3movie,.webvtt,.wsaud,.wsvqa,.wtv,.wv,.xa,.xbin,.xmv,.xwma,.yop,.yuv4mpegpipe';\n\n    public mediaId: number;\n    public media: App.Media;\n    public series: App.Series;\n    public shouldShowMediaForm: boolean = false;\n\n    public uploading: File;\n    public progress: number = 0;\n    public complete: boolean = false;\n    public error: boolean = false;\n\n    constructor(private app: AppService, private route: ActivatedRoute) { }\n\n    public ngOnInit() {\n        this.mediaId = parseInt(this.route.snapshot.params.id || '0');\n        if (this.mediaId) {\n            this.app.API.getMedia(this.mediaId).subscribe(media => {\n                this.media = media;\n                this.series = media.seriesId ? SeriesManager.sharedInstance.series.find(o => o.id === media.seriesId) : undefined;\n            });\n        }\n    }\n\n    public onFileSelected(event: any) {\n        console.log(event);\n        if (!event.addedFiles?.length) { return; }\n\n        this.uploading = event.addedFiles[0];\n        this.progress = 0;\n        this.complete = false;\n        this.error = false;\n\n        let createMedia: Observable<App.Media> = this.media ? of(this.media) : (this.mediaId ? this.app.API.getMedia(this.mediaId) : this.app.API.createMedia());\n        createMedia.pipe(mergeMap(media => {\n            this.media = media;\n            this.shouldShowMediaForm = true;\n\n            return this.app.API.uploadFileForMedia(this.media, this.uploading, progress => {\n                this.progress = progress;\n            });\n        }), mergeMap(() => {\n            return this.app.API.updateMediaStatus(this.media, 1);\n        })).subscribe(o => {\n            this.progress = 1;\n            this.complete = true;\n        }, error => {\n            console.log('Error: ', error);\n            this.error = true;\n        });\n    }\n\n    public onRetryUpload() {\n        this.uploading = undefined;\n        this.progress = 0;\n        this.error = false;\n        this.complete = false;\n    }\n}\n","<div class=\"header-container\">\n    <ng-container *ngIf=\"mediaId\">\n        <div class=\"title\">Replace Media</div>\n        <div>\n            You are uploading a replacement for <strong>{{ series ? (series.name || 'Untitled') + ' - ' : ''}}{{ media ? media.name || 'Untitled' : '' }}</strong>.\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"!mediaId\">\n        <div class=\"title\">Add Media</div>\n        <div>\n            You are uploading a new media file.\n        </div>\n    </ng-container>\n</div>\n\n<ng-container *ngIf=\"!uploading\">\n    <ngx-dropzone #drop (change)=\"onFileSelected($event)\" [disabled]=\"uploading\" [multiple]=\"false\" [accept]=\"acceptedFileTypes\">\n        <div class=\"dropzone-message\">\n            <button class=\"button\">Select Media File To Upload</button>\n            <div>or drag and drop a media file here</div>\n        </div>\n    </ngx-dropzone>\n</ng-container>\n\n<div class=\"content-section\" *ngIf=\"uploading\">\n    <div class=\"title\">\n        Media Upload\n        <fa-icon *ngIf=\"complete\" class=\"success\" [icon]=\"['fad', 'check-circle']\"></fa-icon>\n        <fa-icon *ngIf=\"error\" class=\"error\" [icon]=\"['fad', 'exclamation-circle']\"></fa-icon>\n    </div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col\">\n                <ng-container *ngIf=\"!complete && !error\">\n                    <div><strong>Your media file is now uploading...</strong></div>\n                    <div>Please remain on this page until the upload has completed. You may update your media details below.</div>\n                </ng-container>\n                <ng-container *ngIf=\"complete\">\n                    <div><strong>Your media file upload is complete!</strong></div>\n                    <div>View the <a [routerLink]=\"['/media', media.id]\">media page</a> to see additional details and status.</div>\n                </ng-container>\n                <ng-container *ngIf=\"error\">\n                    <div><strong>Your media file upload has failed.</strong></div>\n                    <div>Click here to <a (click)=\"onRetryUpload()\">retry the upload</a>.</div>\n                </ng-container>\n            </div>\n        </div>\n        <div class=\"image-content-row\" *ngIf=\"!complete && !error\">\n            <div class=\"image-content-col\">\n                <div class=\"image-upload-container\">\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Media File</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-container *ngIf=\"shouldShowMediaForm\">\n    <app-media-form [media]=\"media\"></app-media-form>\n</ng-container>","import { Component, LOCALE_ID, Inject, Input, OnChanges } from \"@angular/core\";\nimport { App } from '@services/app/app.api';\nimport { formatDate } from '@angular/common';\nimport { Utility } from '@classes/utility';\nimport { SeriesManager } from '@services/app/managers/series.manager';\nimport { SpeakerManager } from '@services/app/managers/speaker.manager';\n\ninterface MediaListEntry {\n    id: number;\n    date: Date;\n    dateString: string;\n    timeString: string;\n    series: string;\n    name: string;\n    fullName: string;\n    speakers: Array<string>;\n    status: number;\n    statusString: string;\n    statusColor: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-reusable-media-list',\n    templateUrl: './reusable-media-list.component.html',\n    styleUrls: ['./reusable-media-list.component.scss']\n})\nexport class ReusableMediaListComponent implements OnChanges {\n    public Utility = Utility;\n\n    @Input()\n    public media: Array<App.Media>;\n\n    private seriesById: { [key: number]: App.Series } = {};\n    private speakerById: { [key: number]: App.Speaker } = {};\n\n    public entries: Array<MediaListEntry> = [];\n    public filtered: Array<MediaListEntry> = [];\n    public loaded: Array<MediaListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(@Inject(LOCALE_ID) public locale: string) {\n        SeriesManager.sharedInstance.series.forEach(o => this.seriesById[o.id] = o);\n        SpeakerManager.sharedInstance.speakers.forEach(o => this.speakerById[o.id] = o);\n    }\n\n    public ngOnChanges() {\n        this.entries = (this.media || []).map(o => {\n            const series: string = o.seriesId && this.seriesById[o.seriesId] ? this.seriesById[o.seriesId].name : undefined;\n\n            let result: MediaListEntry = {\n                id: o.id,\n                date: o.date,\n                dateString: formatDate(o.date, 'mediumDate', this.locale),\n                timeString: formatDate(o.date, 'EEEE h:mm a', this.locale),\n                series: series,\n                name: o.name || 'Untitled',\n                fullName: `${series ? series + ' - ' : ''}${o.name}`,\n                speakers: (o.speakerIds || []).map(o => this.speakerById[o].name),\n                status: o.status,\n                statusString: Utility.StatusToText(o.status),\n                statusColor: '#42C75D',\n            };\n            result.search = `${result.dateString}${result.timeString}${result.fullName}${result.speakers.join()}${result.statusString}`.toLowerCase();\n            return result;\n        });\n\n        this.sort = 'id';\n        this.ascending = false;\n        this.updateEntries();\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: MediaListEntry, b: MediaListEntry) => {\n            return a.id - b.id;\n        },\n        date: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.date; const B = b.date;\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        name: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = (a.fullName || 'zzz').toLowerCase().trim();\n            const B = (b.fullName || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        speakers: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.speakers.length ? a.speakers[0].toLowerCase().trim() : 'zzz';\n            const B = b.speakers.length ? b.speakers[0].toLowerCase().trim() : 'zzz';\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n        status: (a: MediaListEntry, b: MediaListEntry) => {\n            const A = a.status; const B = b.status;\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n}\n","<div class=\"content\">\n    <div class=\"options-container\">\n        <ng-container *ngIf=\"filtered.length\">\n            <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'media file' : 'media files' }}</div>\n            <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'media file' : 'media files' }}</div>\n        </ng-container>\n        <div class=\"spacer\"></div>\n        <div class=\"search\">\n            <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n        </div>\n    </div>\n    <div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" (scrolled)=\"onLoadMoreRows()\">\n        <table>\n            <tr>\n                <th style=\"width: 160px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Date</div>\n                        <app-action-icon\n                            [active]=\"sort === 'date'\"\n                            [icon]=\"sort !== 'date' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('date')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th>\n                    <div class=\"header\">\n                        <div class=\"name\">Name</div>\n                        <app-action-icon\n                            [active]=\"sort === 'name'\"\n                            [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('name')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th style=\"width: 200px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Speakers</div>\n                        <app-action-icon\n                            [active]=\"sort === 'speakers'\"\n                            [icon]=\"sort !== 'speakers' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('speakers')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n                <th style=\"width: 140px\">\n                    <div class=\"header\">\n                        <div class=\"name\">Status</div>\n                        <app-action-icon\n                            [active]=\"sort === 'status'\"\n                            [icon]=\"sort !== 'status' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                            (click)=\"onSort('status')\">\n                        </app-action-icon>\n                    </div>\n                </th>\n            </tr>\n            <tr *ngFor=\"let entry of loaded\">\n                <td>\n                    <div class=\"date\">{{ entry.dateString }}</div>\n                    <div class=\"time\">{{ entry.timeString }}</div>\n                </td>\n                <td>\n                    <a [routerLink]=\"['/media', entry.id]\">\n                        <ng-container *ngIf=\"entry.series\">\n                            {{ entry.series }} -\n                        </ng-container>\n                        {{ entry.name }}\n                    </a>\n                </td>\n                <td>\n                    <div *ngFor=\"let speaker of entry.speakers\">\n                        {{ speaker }}\n                    </div>\n                </td>\n                <td>\n                    <div class=\"{{ Utility.StatusToClass(entry.status) }}\">\n                        <fa-icon [icon]=\"['fad', Utility.StatusToIcon(entry.status)]\"></fa-icon>\n                        {{ entry.statusString }}\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class=\"loading-container\" *ngIf=\"!media || !media.length\">\n        <div *ngIf=\"media\">No media available.</div>\n        <app-loading-indicator *ngIf=\"!media\"></app-loading-indicator>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute } from '@angular/router';\nimport { finalize, mergeMap, map, tap } from 'rxjs/operators';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { OrganizationManager } from '@services/app/managers/organization.manager';\nimport { of } from 'rxjs';\n\n@Component({\n    selector: 'app-organization-detail',\n    templateUrl: './organization-detail.component.html',\n    styleUrls: ['./organization-detail.component.scss']\n})\nexport class OrganizationDetailComponent implements OnInit {\n    public organization: App.Organization;\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(private app: AppService, private route: ActivatedRoute, private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.organization = OrganizationManager.sharedInstance.organization;\n\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(this.organization.name));\n        this.form.addControl('description', new FormControl(this.organization.description));\n        this.form.addControl('url', new FormControl(this.organization.url));\n\n        this.imageUrl = this.organization.imageUrl ? `${this.organization.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let organization: App.OrganizationUpdate = { id: this.organization.id };\n        organization.name = this.form.controls.name.value;\n        organization.url = this.form.controls.url.value;\n        organization.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateOrganization(organization).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(organization => {\n            this.organization = organization;\n            this.notifications.success('Success', 'Organization details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForOrganization(this.organization, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(organization => {\n            this.notifications.success('Success', 'Organization image updated.', { timeOut: 5000 });\n            this.organization = this.app.organizationManager.organization = organization;\n            this.imageUrl = this.organization.imageUrl ? `${this.organization.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n}\n","<div class=\"header-container\">\n    <div class=\"title\">\n        {{ organization.name || 'Untitled' }}\n    </div>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Details</div>\n\n    <form [formGroup]=\"form\">\n        <div class=\"column-container\">\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">Name</div>\n                    <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                </div>\n            </div>\n            <div class=\"column\">\n                <div class=\"input-container\">\n                    <div class=\"label\">URL</div>\n                    <input type=\"text\" [formControlName]=\"'url'\" [placeholder]=\"'https://hopestream.com'\" />\n                </div>\n            </div>\n        </div>\n        <div class=\"input-container\">\n            <div class=\"label\">Description</div>\n            <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the church...'\"></textarea>\n        </div>\n    </form>\n\n    <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n</div>\n\n<div class=\"content-section\">\n    <div class=\"title\">Image</div>\n\n    <div class=\"image-content-container\">\n        <div class=\"image-content-row\">\n            <div class=\"image-content-col image-content-col-third\">\n                <div class=\"image-upload-container\">\n                    <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                    <div>Upload an image for this church.</div>\n                    <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                    <ng-container *ngIf=\"!uploading\">\n                        <button class=\"button\" (click)=\"input.click()\">\n                            <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                        </button>\n                    </ng-container>\n\n                    <ng-container *ngIf=\"uploading\">\n                        <div class=\"label\">Uploading Image</div>\n                        <div class=\"upload-name\">{{ uploading.name }}</div>\n                        <div class=\"progress-bar-container\">\n                            <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"image-content-col\">\n                <div class=\"image-container\">\n                    <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                    <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"image-content-row\" *ngIf=\"organization.imageUrl\">\n            <div class=\"image-content-col\">\n                <div class=\"title\">Image Links</div>\n                <div class=\"label\">Image</div>\n                <app-copy-box [text]=\"organization.imageUrl\"></app-copy-box>\n                <div class=\"label\">Thumbnail</div>\n                <app-copy-box [text]=\"organization.thumbnailUrl\"></app-copy-box>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BaseComponent } from './base/base.component';\nimport { LoadingGuard } from '@services/loading-guard';\nimport { AuthGuard } from '@services/auth-guard';\nimport { SignInComponent } from './sign-in/sign-in/sign-in.component';\nimport { MediaListComponent } from './media/media-list/media-list.component';\nimport { MediaDetailComponent } from './media/media-detail/media-detail.component';\nimport { OrganizationDetailComponent } from './organization/organization-detail/organization-detail.component';\nimport { SeriesListComponent } from './series/series-list/series-list.component';\nimport { SeriesDetailComponent } from './series/series-detail/series-detail.component';\nimport { SpeakerListComponent } from './speaker/speaker-list/speaker-list.component';\nimport { SpeakerDetailComponent } from './speaker/speaker-detail/speaker-detail.component';\nimport { FeedListComponent } from './feed/feed-list/feed-list.component';\nimport { FeedDetailComponent } from './feed/feed-detail/feed-detail.component';\nimport { MediaUploadComponent } from './media/media-upload/media-upload.component';\nimport { RedirectComponent } from '@common/redirect/redirect.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: BaseComponent, canActivate: [LoadingGuard, AuthGuard], canActivateChild: [AuthGuard], children: [\n            { path: 'church', component: OrganizationDetailComponent },\n            { path: '', component: RedirectComponent },\n            { path: 'media', component: MediaListComponent },\n            { path: 'media/:id', component: MediaDetailComponent },\n            { path: 'upload', component: MediaUploadComponent },\n            { path: 'upload/:id', component: MediaUploadComponent },\n            { path: 'series', component: SeriesListComponent },\n            { path: 'series/:id', component: SeriesDetailComponent },\n            { path: 'speakers', component: SpeakerListComponent },\n            { path: 'speakers/:id', component: SpeakerDetailComponent },\n            { path: 'feeds', component: FeedListComponent },\n            { path: 'feeds/:id', component: FeedDetailComponent },\n        ]\n    },\n    { path: 'sign-in', canActivate: [AuthGuard], component: SignInComponent },\n    { path: '**', redirectTo: 'sign-in' },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, { useHash: true })],\n    exports: [RouterModule]\n})\nexport class RoutingModule { }\n","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, mergeMap, tap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\n\n@Component({\n    selector: 'app-series-detail',\n    templateUrl: './series-detail.component.html',\n    styleUrls: ['./series-detail.component.scss']\n})\nexport class SeriesDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public series: App.Series;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let id = parseInt(this.route.snapshot.params.id);\n        forkJoin(this.app.API.getSeries(id), this.app.API.getAllMedia()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.series = responses[0];\n            this.media = responses[1].filter(o => o.seriesId === this.series.id);\n            this.form.controls.name.setValue(this.series.name);\n            this.form.controls.description.setValue(this.series.description);\n            this.imageUrl = this.series.imageUrl ? `${this.series.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let series: App.SeriesUpdate = { id: this.series.id };\n        series.name = this.form.controls.name.value;\n        series.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateSeries(series).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(series => {\n            this.series = series;\n            this.notifications.success('Success', 'Series details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForSeries(this.series, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(series => {\n            this.notifications.success('Success', 'Series image updated.', { timeOut: 5000 });\n            this.series = series;\n            this.imageUrl = this.series.imageUrl ? `${this.series.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteSeries(this.series).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/series']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/series']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Series List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ series.name || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Name</div>\n                        <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this series...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"series.imageUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Image Links</div>\n                    <div class=\"label\">Image</div>\n                    <app-copy-box [text]=\"series.imageUrl\"></app-copy-box>\n                    <div class=\"label\">Thumbnail</div>\n                    <app-copy-box [text]=\"series.thumbnailUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Series</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this series.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this series. This will simply delete the series, and those media records will no longer be associated with this series.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Series\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Series</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ series?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are included in this series. This will simply delete the series, and those media records will no longer be associated with this series.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface SeriesListEntry {\n    id: number;\n    name: string;\n    thumbnailUrl?: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-series-list',\n    templateUrl: './series-list.component.html',\n    styleUrls: ['./series-list.component.scss']\n})\nexport class SeriesListComponent {\n    public Utility = Utility;\n\n    public series: Array<App.Series>;\n\n    public entries: Array<SeriesListEntry> = [];\n    public filtered: Array<SeriesListEntry> = [];\n\n    public loaded: Array<SeriesListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllSeries().subscribe(series => {\n            this.series = series;\n\n            this.entries = this.series.map(o => {\n                let result: SeriesListEntry = {\n                    id: o.id,\n                    name: o.name || 'Untitled',\n                    thumbnailUrl: o.thumbnailUrl,\n                };\n                result.search = `${result.name}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'id';\n            this.ascending = false;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: SeriesListEntry, b: SeriesListEntry) => {\n            return a.id - b.id;\n        },\n        name: (a: SeriesListEntry, b: SeriesListEntry) => {\n            const A = (a.name || 'zzz').toLowerCase().trim();\n            const B = (b.name || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddSeries() {\n        this.creating = true;\n        this.app.API.createSeries().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(series => {\n            this.router.navigate(['/series', series.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Series</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddSeries()\">Add Series</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'series' : 'series' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'series' : 'series' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Image</div>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Name</div>\n                            <app-action-icon\n                                [active]=\"sort === 'name'\"\n                                [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('name')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        <div class=\"image-container\">\n                            <img *ngIf=\"entry.thumbnailUrl\" [src]=\"entry.thumbnailUrl\" />\n                            <div *ngIf=\"!entry.thumbnailUrl\" class=\"image-placeholder\">\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/series', entry.id]\">\n                            {{ entry.name }}\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!series || !series.length\">\n            <div *ngIf=\"series\">No series available.</div>\n            <app-loading-indicator *ngIf=\"!series\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'app-sidebar',\n    templateUrl: 'sidebar.component.html',\n    styleUrls: ['sidebar.component.scss']\n})\nexport class SidebarComponent {\n\n}\n","SIDEBAR!","import { Component } from \"@angular/core\";\nimport { finalize } from 'rxjs/operators';\nimport { FormControl } from '@angular/forms';\nimport { FormGroup } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { StateService } from '@services/state.service';\nimport { Validators } from '@angular/forms';\nimport { AuthService } from \"@services/auth.service\";\n\n@Component({\n    selector: 'app-sign-in',\n    templateUrl: './sign-in.component.html',\n    styleUrls: ['./sign-in.component.scss']\n})\nexport class SignInComponent {\n    public visible: number = 0;\n    public form: FormGroup;\n    public loading: boolean = false;\n\n    constructor(private state: StateService, public auth: AuthService, private notifications: NotificationsService) {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl('', [Validators.required]));\n        this.form.addControl('email', new FormControl('', [Validators.required]));\n        this.form.addControl('password', new FormControl('', [Validators.required, Validators.minLength(8)]));\n    }\n\n    public onSignIn() {\n        this.loading = true;\n        this.state.login(this.form.controls['email'].value.trim(), this.form.controls['password'].value).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(user => { }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem logging in');\n        });\n    }\n\n    public onSignUp() {\n\n    }\n\n    public onResetPassword() {\n        this.loading = true;\n        this.auth.userForgotPassword(this.form.controls.email.value.trim()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(() => {\n            this.visible = 0;\n            this.notifications.success('Success', 'You will receive an e-mail with instructions to reset your password.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem logging in');\n        });\n    }\n}\n","<div [setTitle]=\"''\" class=\"container\">\n    <div class=\"title-container\">\n        <img src=\"assets/images/hopestream-logo.png\">\n        <div>HopeStream</div>\n    </div>\n    <div class=\"form-container\">\n        <ng-container *ngIf=\"visible === 0\">\n            <form [formGroup]=\"form\" (submit)=\"onSignIn()\" novalidate>\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <input type=\"password\" formControlName=\"password\" name=\"password\" placeholder=\"Password\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Log in</button>\n                <a class=\"forgot-password\" (click)=\"visible = 2\">Forgot password?</a>\n            </form>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 1\">\n            <!-- <form [formGroup]=\"form\" (submit)=\"onSignUp()\" novalidate>\n                <input type=\"text\" formControlName=\"name\" name=\"name\" placeholder=\"Full Name\" />\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <input type=\"password\" formControlName=\"password\" name=\"password\" placeholder=\"Password\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Sign up</button>\n                <div class=\"legal-text\">By signing up, you agree to our Term, Data Policy and Cookies Policy.</div>\n            </form> -->\n            <div><strong>We'd love to see your church on HopeStream!</strong></div><br />\n            <div>Please submit a request to <a href=\"mailto:admin@hopestream.com\">admin@hopestream.com</a> to get started.</div>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 2\">\n            <form [formGroup]=\"form\" (submit)=\"onResetPassword()\" novalidate>\n                <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-mail\" />\n                <button type=\"submit\" class=\"button\" [disabled]=\"loading\">Reset</button>\n                <div class=\"reset-text\">Please enter the e-mail address associated with your account. You will receive an e-mail with instructions to reset your password.</div>\n            </form>\n        </ng-container>\n    </div>\n    <div class=\"option-container\">\n        <ng-container *ngIf=\"visible === 0\">\n            Don't have an account yet?<br />\n            <a (click)=\"visible = 1\">Sign up</a>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 1\">\n            Already have an account?<br />\n            <a (click)=\"visible = 0\">Log in</a>\n        </ng-container>\n        <ng-container *ngIf=\"visible === 2\">\n            <a (click)=\"visible = 0\">Back to login</a>\n        </ng-container>\n    </div>\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize, mergeMap, tap } from 'rxjs/operators';\nimport { Utility } from '@classes/utility';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NotificationsService } from 'angular2-notifications';\nimport { forkJoin, of } from 'rxjs';\n\n@Component({\n    selector: 'app-speaker-detail',\n    templateUrl: './speaker-detail.component.html',\n    styleUrls: ['./speaker-detail.component.scss']\n})\nexport class SpeakerDetailComponent implements OnInit {\n    public Utility = Utility;\n\n    public loading = true;\n    public speaker: App.Speaker;\n    public media: Array<App.Media> = [];\n    public form: FormGroup;\n    public imageUrl: string;\n\n    constructor(\n        private app: AppService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.form = new FormGroup({});\n        this.form.addControl('name', new FormControl(undefined));\n        this.form.addControl('description', new FormControl(undefined));\n\n        let id = parseInt(this.route.snapshot.params.id);\n        forkJoin(this.app.API.getSpeaker(id), this.app.API.getAllMedia()).pipe(finalize(() => {\n            this.loading = false;\n        })).subscribe(responses => {\n            this.speaker = responses[0];\n            this.media = responses[1].filter(o => (o.speakerIds || []).indexOf(this.speaker.id) >= 0);\n            this.form.controls.name.setValue(this.speaker.name);\n            this.form.controls.description.setValue(this.speaker.description);\n            this.imageUrl = this.speaker.imageUrl ? `${this.speaker.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        });\n    }\n\n    public saving: boolean = false;\n    public onSave() {\n        let speaker: App.SpeakerUpdate = { id: this.speaker.id };\n        speaker.name = this.form.controls.name.value;\n        speaker.description = this.form.controls.description.value || null;\n\n        this.saving = true;\n        this.app.API.updateSpeaker(speaker).pipe(finalize(() => {\n            this.saving = false;\n        })).subscribe(speaker => {\n            this.speaker = speaker;\n            this.notifications.success('Success', 'Speaker details saved successfully.', { timeOut: 5000 });\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem saving.');\n        });\n    }\n\n    public uploading: File;\n    public progress: number;\n\n    public onImageSelected(event: any) {\n        let file: File = event.target?.files?.length && event.target.files[0] || undefined;\n        if (!file) { return; }\n\n        this.uploading = file;\n        this.progress = 0;\n\n        this.app.API.uploadImageForSpeaker(this.speaker, file, progress => {\n            this.progress = progress;\n        }).pipe(finalize(() => {\n            this.uploading = undefined;\n            this.progress = 1;\n        })).subscribe(speaker => {\n            this.notifications.success('Success', 'Speaker image updated.', { timeOut: 5000 });\n            this.speaker = speaker;\n            this.imageUrl = this.speaker.imageUrl ? `${this.speaker.imageUrl.replace('static.hopestream.com', 'hopestream.s3.amazonaws.com')}?t=${new Date().valueOf()}` : undefined;\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem uploading.');\n        });\n    }\n\n    public deleteDialogVisible: boolean = false;\n    public deleting: boolean = false;\n\n    public onDelete() {\n        this.deleting = true;\n        this.app.API.deleteSpeaker(this.speaker).pipe(finalize(() => {\n            this.deleting = false;\n        })).subscribe(() => {\n            this.router.navigate(['/speakers']);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem deleting.');\n        });\n    }\n}\n","<div class=\"breadcrumb-container\">\n    <a [routerLink]=\"['/speakers']\">\n        <fa-icon [icon]=\"['fad', 'chevron-left']\"></fa-icon>\n        Back to Speaker List\n    </a>\n</div>\n\n<ng-container *ngIf=\"!loading\">\n    <div class=\"header-container\">\n        <div class=\"title\">\n            {{ speaker.name || 'Untitled' }}\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Details</div>\n\n        <form [formGroup]=\"form\">\n            <div class=\"column-container\">\n                <div class=\"column\">\n                    <div class=\"input-container\">\n                        <div class=\"label\">Name</div>\n                        <input type=\"text\" [formControlName]=\"'name'\" [placeholder]=\"'Untitled'\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-container\">\n                <div class=\"label\">Description</div>\n                <textarea [formControlName]=\"'description'\" rows=\"6\" [placeholder]=\"'Give a high-level overview of the content of this speaker...'\"></textarea>\n            </div>\n        </form>\n\n        <button class=\"button\" [disabled]=\"!form || !form.valid || saving\" (click)=\"onSave()\">Save</button>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Image</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-third\">\n                    <div class=\"image-upload-container\">\n                        <input #input type=\"file\" style=\"display: none\" accept=\"image/jpg,image/jpeg\" (change)=\"onImageSelected($event); input.value = null;\">\n                        <div>Upload an image for this media.</div>\n                        <div>Image must be in <strong>.jpg</strong> format.</div>\n\n                        <ng-container *ngIf=\"!uploading\">\n                            <button class=\"button\" (click)=\"input.click()\">\n                                <fa-icon [icon]=\"['fad', 'cloud-upload']\"></fa-icon>Upload Image\n                            </button>\n                        </ng-container>\n\n                        <ng-container *ngIf=\"uploading\">\n                            <div class=\"label\">Uploading Image</div>\n                            <div class=\"upload-name\">{{ uploading.name }}</div>\n                            <div class=\"progress-bar-container\">\n                                <div class=\"progress-bar\" [style.width.%]=\"progress * 100\"></div>\n                            </div>\n                        </ng-container>\n                    </div>\n                </div>\n                <div class=\"image-content-col\">\n                    <div class=\"image-container\">\n                        <img *ngIf=\"imageUrl\" [src]=\"imageUrl\" />\n                        <div *ngIf=\"!imageUrl\" class=\"image-placeholder\">No image selected.</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"image-content-row\" *ngIf=\"speaker.imageUrl\">\n                <div class=\"image-content-col\">\n                    <div class=\"title\">Image Links</div>\n                    <div class=\"label\">Image</div>\n                    <app-copy-box [text]=\"speaker.imageUrl\"></app-copy-box>\n                    <div class=\"label\">Thumbnail</div>\n                    <app-copy-box [text]=\"speaker.thumbnailUrl\"></app-copy-box>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content-section\">\n        <div class=\"title\">Media</div>\n\n        <app-reusable-media-list #mediaList\n            [media]=\"media\">\n        </app-reusable-media-list>\n    </div>\n\n    <div class=\"content-section content-section-danger\">\n        <div class=\"title\">Danger Zone</div>\n\n        <div class=\"image-content-container\">\n            <div class=\"image-content-row\">\n                <div class=\"image-content-col image-content-col-half\">\n                    <div class=\"title\">Delete Speaker</div>\n                    <div class=\"image-upload-container\">\n                        <div>Permanently delete this speaker.</div>\n                        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are by this speaker. This will simply delete the speaker, and those media records will no longer be associated with this speaker.</div>\n                        <button class=\"button alert\" (click)=\"deleteDialogVisible = true\">\n                            <fa-icon [icon]=\"['fad', 'trash']\"></fa-icon>Delete Speaker\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<p-dialog [(visible)]=\"deleteDialogVisible\" [modal]=\"true\" [dismissableMask]=\"true\" [draggable]=\"false\" [style]=\"{ width: '480px' }\">\n    <p-header>\n        <div class=\"title\">Delete Speaker</div>\n        <app-action-icon [icon]=\"'times'\" (click)=\"deleteDialogVisible = false\"></app-action-icon>\n    </p-header>\n    <div>\n        <div>Permanently delete <strong>{{ speaker?.name || 'Untitled' }}</strong>?</div>\n        <div style=\"margin-top: 1rem;\"><strong>NOTE:</strong> This will not delete any media entries that are by this speaker. This will simply delete the speaker, and those media records will no longer be associated with this speaker.</div>\n    </div>\n    <p-footer>\n        <button class=\"button alert\" [disabled]=\"deleting\" (click)=\"onDelete()\">Delete</button>\n        <button class=\"button secondary hollow\" (click)=\"deleteDialogVisible = false\">Cancel</button>\n        <div class=\"spacer\"></div>\n    </p-footer>\n</p-dialog>","import { Component, LOCALE_ID, Inject } from \"@angular/core\";\nimport { AppService } from '@services/app/app.service';\nimport { App } from '@services/app/app.api';\nimport { Utility } from '@classes/utility';\nimport { finalize } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { NotificationsService } from 'angular2-notifications';\n\ninterface SpeakerListEntry {\n    id: number;\n    name: string;\n    thumbnailUrl?: string;\n    search?: string;\n}\n\n@Component({\n    selector: 'app-speaker-list',\n    templateUrl: './speaker-list.component.html',\n    styleUrls: ['./speaker-list.component.scss']\n})\nexport class SpeakerListComponent {\n    public Utility = Utility;\n\n    public speakers: Array<App.Speaker>;\n\n    public entries: Array<SpeakerListEntry> = [];\n    public filtered: Array<SpeakerListEntry> = [];\n\n    public loaded: Array<SpeakerListEntry> = [];\n    public sort: string = 'id';\n    public ascending: boolean = false;\n    public search: string;\n\n    constructor(\n        @Inject(LOCALE_ID) public locale: string,\n        private app: AppService,\n        private router: Router,\n        private notifications: NotificationsService) { }\n\n    public ngOnInit() {\n        this.app.API.getAllSpeakers().subscribe(speakers => {\n            this.speakers = speakers;\n\n            this.entries = this.speakers.map(o => {\n                let result: SpeakerListEntry = {\n                    id: o.id,\n                    name: o.name || 'Untitled',\n                    thumbnailUrl: o.thumbnailUrl,\n                };\n                result.search = `${result.name}`.toLowerCase();\n                return result;\n            });\n\n            this.sort = 'name';\n            this.ascending = true;\n            this.updateEntries();\n        });\n    }\n\n    public onLoadMoreRows() {\n        this.loaded = this.loaded.concat(this.filtered.slice(this.loaded.length, this.loaded.length + 30));\n    }\n\n    public onSort(sort: string) {\n        if (sort !== this.sort) {\n            this.sort = sort;\n            this.ascending = true;\n        } else if (!this.ascending) {\n            this.sort = 'id';\n            this.ascending = false;\n        } else {\n            this.ascending = false;\n        }\n\n        this.updateEntries();\n    }\n\n    private readonly SortOptions = {\n        id: (a: SpeakerListEntry, b: SpeakerListEntry) => {\n            return a.id - b.id;\n        },\n        name: (a: SpeakerListEntry, b: SpeakerListEntry) => {\n            const A = (a.name || 'zzz').toLowerCase().trim();\n            const B = (b.name || 'zzz').toLowerCase().trim();\n            return A < B ? -1 : (A > B ? 1 : (a.id - b.id));\n        },\n    };\n\n    private updateEntries() {\n        const search = (this.search || '').toLowerCase();\n        const comparator = this.SortOptions[this.sort];\n        this.filtered = this.entries.filter(o => !search || o.search.indexOf(search) >= 0).sort(this.ascending ? comparator : (a, b) => -comparator(a, b));\n        this.loaded = this.filtered.slice(0, 30);\n    }\n\n    public onSearchUpdate() {\n        this.updateEntries();\n    }\n\n    public creating: boolean = false;\n    public onAddSpeaker() {\n        this.creating = true;\n        this.app.API.createSpeaker().pipe(finalize(() => {\n            this.creating = false;\n        })).subscribe(speaker => {\n            this.router.navigate(['/speakers', speaker.id]);\n        }, error => {\n            this.notifications.error('Error', 'Sorry, there was a problem creating.');\n        });\n    }\n}\n","<div class=\"scrollable-region\" infiniteScroll [scrollWindow]=\"false\" [infiniteScrollContainer]=\"'.center-container > .bottom-container'\" [fromRoot]=\"true\" (scrolled)=\"onLoadMoreRows()\">\n    <div class=\"header-container\">\n        <div class=\"title\">Speakers</div>\n        <button class=\"button\" [disabled]=\"creating\" (click)=\"onAddSpeaker()\">Add Speaker</button>\n    </div>\n\n    <div class=\"content\">\n        <div class=\"options-container\">\n            <ng-container *ngIf=\"filtered.length\">\n                <div class=\"count\" *ngIf=\"filtered.length === entries.length\">Showing {{ entries.length | number }} {{ entries.length === 1 ? 'speaker' : 'speakers' }}</div>\n                <div class=\"count\" *ngIf=\"filtered.length !== entries.length\">Showing {{ filtered.length | number }} of {{ entries.length | number }} {{ entries.length === 1 ? 'speaker' : 'speakers' }}</div>\n            </ng-container>\n            <div class=\"spacer\"></div>\n            <div class=\"search\">\n                <input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"onSearchUpdate()\" [placeholder]=\"'Search...'\" />\n            </div>\n        </div>\n        <div class=\"table-container\">\n            <table>\n                <tr>\n                    <th style=\"width: 140px\">\n                        <div class=\"header\">\n                            <div class=\"name\">Image</div>\n                        </div>\n                    </th>\n                    <th>\n                        <div class=\"header\">\n                            <div class=\"name\">Name</div>\n                            <app-action-icon\n                                [active]=\"sort === 'name'\"\n                                [icon]=\"sort !== 'name' ? 'sort' : (ascending ? 'sort-up' : 'sort-down')\"\n                                (click)=\"onSort('name')\">\n                            </app-action-icon>\n                        </div>\n                    </th>\n                </tr>\n                <tr *ngFor=\"let entry of loaded\">\n                    <td>\n                        <div class=\"image-container\">\n                            <img *ngIf=\"entry.thumbnailUrl\" [src]=\"entry.thumbnailUrl\" />\n                            <div *ngIf=\"!entry.thumbnailUrl\" class=\"image-placeholder\">\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <a [routerLink]=\"['/speakers', entry.id]\">\n                            {{ entry.name }}\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"loading-container\" *ngIf=\"!speakers || !speakers.length\">\n            <div *ngIf=\"speakers\">No speakers available.</div>\n            <app-loading-indicator *ngIf=\"!speakers\"></app-loading-indicator>\n        </div>\n    </div>\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    apiUrl: 'https://api.hopestream.com',\n    // apiUrl: 'http://localhost:3000',\n    staticUrl: 'https://static.hopestream.com/',\n    playerUrl: 'https://static.hopestream.com/player.html',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n    enableProdMode();\n}\n\nif (document.body.childNodes[0].nodeName.toLowerCase() === 'app-root') {\n    platformBrowserDynamic().bootstrapModule(AppModule)\n        .catch(err => console.error(err));\n}\n"]}